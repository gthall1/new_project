// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';
var aa, ba, ca, ea, J, fa, ga, O, R, ka, la, oa, pa, qa, ra, T, va, wa, U, xa, ya, Aa, Ba, Ca, Da, Fa, V, Ga, Ha, Ia, Ja, Ka, La, Ma, Na, Sa, Ta, Ua, Va, Wa, Xa, Ya, Za, $a, ab, bb, cb, db, eb, fb, gb, hb, ib, jb, kb, lb, mb, nb, ob, pb, qb, rb, tb, ub, vb, wb, xb, yb, zb, Ab, Bb, Cb, Db, Eb, Fb, Gb, Hb, Ib, Jb, Kb, Lb, Mb, Nb, Ob, Pb, Qb, Rb, Sb, Tb, Ub, Vb, Wb, Xb, Yb, Zb, W, $b, ac = {},
    bc = {};
"function" !== typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === typeof "test".__proto__ ? function(f) {
    return f.__proto__
} : function(f) {
    return f.constructor.prototype
});
(function() {
    function f(c, n, e, r) {
        this.set(c, n, e, r)
    }

    function q() {
        this.Ab = this.zb = this.Db = this.Cb = this.Hb = this.Gb = this.Oa = this.Na = 0
    }

    function a(c, n, e, r) {
        c < n ? e < r ? (z = c < e ? c : e, x = n > r ? n : r) : (z = c < r ? c : r, x = n > e ? n : e) : e < r ? (z = n < e ? n : e, x = c > r ? c : r) : (z = n < r ? n : r, x = c > e ? c : e)
    }

    function b() {
        this.items = this.ed = null;
        this.Zf = 0;
        n && (this.ed = new Set);
        this.zg = [];
        this.pe = !0
    }

    function d(c) {
        r[w++] = c
    }

    function g() {
        this.pa = this.bk = this.y = this.Gk = 0
    }

    function v(c) {
        this.ib = [];
        this.gi = this.ii = this.ji = this.hi = 0;
        this.Rh(c)
    }

    function t(c, n) {
        this.Jk =
            c;
        this.Ik = n;
        this.cells = {}
    }

    function u(c, n) {
        this.Jk = c;
        this.Ik = n;
        this.cells = {}
    }

    function l(c, n, e) {
        var r;
        return D.length ? (r = D.pop(), r.pl = c, r.x = n, r.y = e, r) : new ba(c, n, e)
    }

    function e(c, n, e) {
        this.pl = c;
        this.x = n;
        this.y = e;
        this.mb = new ca
    }

    function k(c, n, e) {
        var r;
        return y.length ? (r = y.pop(), r.pl = c, r.x = n, r.y = e, r) : new ea(c, n, e)
    }

    function s(c, n, e) {
        this.pl = c;
        this.x = n;
        this.y = e;
        this.mb = [];
        this.Xf = !0;
        this.wd = new ca;
        this.Dg = !1
    }

    function m(c, n) {
        return c.kd - n.kd
    }
    J = function(c) {
        window.console && window.console.log && window.console.log(c)
    };
    fa = function(c) {
        window.console && window.console.error && window.console.error(c)
    };
    aa = function(c) {
        return c
    };
    ga = function(c) {
        return "undefined" === typeof c
    };
    O = function(c) {
        return "number" === typeof c
    };
    R = function(c) {
        return "string" === typeof c
    };
    ka = function(c) {
        return 0 < c && 0 === (c - 1 & c)
    };
    la = function(c) {
        --c;
        for (var n = 1; 32 > n; n <<= 1) c |= c >> n;
        return c + 1
    };
    oa = function(c) {
        return 0 > c ? -c : c
    };
    pa = function(c, n) {
        return c > n ? c : n
    };
    qa = function(c, n) {
        return c < n ? c : n
    };
    ra = Math.PI;
    T = function(c) {
        return 0 <= c ? c | 0 : (c | 0) - 1
    };
    va = function(c) {
        var n =
            c | 0;
        return n === c ? n : n + 1
    };
    wa = function(c, n, e, r, g, k, h, a) {
        var w, p, l, m;
        c < e ? (p = c, w = e) : (p = e, w = c);
        g < h ? (m = g, l = h) : (m = h, l = g);
        if (w < m || p > l) return !1;
        n < r ? (p = n, w = r) : (p = r, w = n);
        k < a ? (m = k, l = a) : (m = a, l = k);
        if (w < m || p > l) return !1;
        w = g - c + h - e;
        p = k - n + a - r;
        c = e - c;
        n = r - n;
        g = h - g;
        k = a - k;
        a = oa(n * g - k * c);
        return oa(g * p - k * w) > a ? !1 : oa(c * p - n * w) <= a
    };
    f.prototype.set = function(c, n, e, r) {
        this.left = c;
        this.top = n;
        this.right = e;
        this.bottom = r
    };
    f.prototype.ri = function(c) {
        this.left = c.left;
        this.top = c.top;
        this.right = c.right;
        this.bottom = c.bottom
    };
    f.prototype.width =
        function() {
            return this.right - this.left
        };
    f.prototype.height = function() {
        return this.bottom - this.top
    };
    f.prototype.offset = function(c, n) {
        this.left += c;
        this.top += n;
        this.right += c;
        this.bottom += n;
        return this
    };
    f.prototype.normalize = function() {
        var c = 0;
        this.left > this.right && (c = this.left, this.left = this.right, this.right = c);
        this.top > this.bottom && (c = this.top, this.top = this.bottom, this.bottom = c)
    };
    f.prototype.Yt = function(c) {
        return !(c.right < this.left || c.bottom < this.top || c.left > this.right || c.top > this.bottom)
    };
    f.prototype.Zt =
        function(c, n, e) {
            return !(c.right + n < this.left || c.bottom + e < this.top || c.left + n > this.right || c.top + e > this.bottom)
        };
    f.prototype.Ib = function(c, n) {
        return c >= this.left && c <= this.right && n >= this.top && n <= this.bottom
    };
    f.prototype.Ci = function(c) {
        return this.left === c.left && this.top === c.top && this.right === c.right && this.bottom === c.bottom
    };
    U = f;
    q.prototype.tg = function(c) {
        this.Na = c.left;
        this.Oa = c.top;
        this.Gb = c.right;
        this.Hb = c.top;
        this.Cb = c.right;
        this.Db = c.bottom;
        this.zb = c.left;
        this.Ab = c.bottom
    };
    q.prototype.Up = function(c,
        n) {
        if (0 === n) this.tg(c);
        else {
            var e = Math.sin(n),
                r = Math.cos(n),
                g = c.left * e,
                k = c.top * e,
                h = c.right * e,
                e = c.bottom * e,
                a = c.left * r,
                w = c.top * r,
                p = c.right * r,
                r = c.bottom * r;
            this.Na = a - k;
            this.Oa = w + g;
            this.Gb = p - k;
            this.Hb = w + h;
            this.Cb = p - e;
            this.Db = r + h;
            this.zb = a - e;
            this.Ab = r + g
        }
    };
    q.prototype.offset = function(c, n) {
        this.Na += c;
        this.Oa += n;
        this.Gb += c;
        this.Hb += n;
        this.Cb += c;
        this.Db += n;
        this.zb += c;
        this.Ab += n;
        return this
    };
    var z = 0,
        x = 0;
    q.prototype.In = function(c) {
        a(this.Na, this.Gb, this.Cb, this.zb);
        c.left = z;
        c.right = x;
        a(this.Oa, this.Hb, this.Db,
            this.Ab);
        c.top = z;
        c.bottom = x
    };
    q.prototype.Ib = function(c, n) {
        var e = this.Gb - this.Na,
            r = this.Hb - this.Oa,
            g = this.Cb - this.Na,
            k = this.Db - this.Oa,
            h = c - this.Na,
            a = n - this.Oa,
            w = e * e + r * r,
            p = e * g + r * k,
            r = e * h + r * a,
            l = g * g + k * k,
            m = g * h + k * a,
            v = 1 / (w * l - p * p),
            e = (l * r - p * m) * v,
            w = (w * m - p * r) * v;
        if (0 <= e && 0 < w && 1 > e + w) return !0;
        e = this.zb - this.Na;
        r = this.Ab - this.Oa;
        w = e * e + r * r;
        p = e * g + r * k;
        r = e * h + r * a;
        v = 1 / (w * l - p * p);
        e = (l * r - p * m) * v;
        w = (w * m - p * r) * v;
        return 0 <= e && 0 < w && 1 > e + w
    };
    q.prototype.ne = function(c, n) {
        if (n) switch (c) {
            case 0:
                return this.Na;
            case 1:
                return this.Gb;
            case 2:
                return this.Cb;
            case 3:
                return this.zb;
            case 4:
                return this.Na;
            default:
                return this.Na
        } else switch (c) {
            case 0:
                return this.Oa;
            case 1:
                return this.Hb;
            case 2:
                return this.Db;
            case 3:
                return this.Ab;
            case 4:
                return this.Oa;
            default:
                return this.Oa
        }
    };
    q.prototype.fp = function() {
        return (this.Na + this.Gb + this.Cb + this.zb) / 4
    };
    q.prototype.gp = function() {
        return (this.Oa + this.Hb + this.Db + this.Ab) / 4
    };
    q.prototype.yo = function(c) {
        var n = c.fp(),
            e = c.gp();
        if (this.Ib(n, e)) return !0;
        n = this.fp();
        e = this.gp();
        if (c.Ib(n, e)) return !0;
        var r, g, k, h, w, a, p, l;
        for (p =
            0; 4 > p; p++)
            for (l = 0; 4 > l; l++)
                if (n = this.ne(p, !0), e = this.ne(p, !1), r = this.ne(p + 1, !0), g = this.ne(p + 1, !1), k = c.ne(l, !0), h = c.ne(l, !1), w = c.ne(l + 1, !0), a = c.ne(l + 1, !1), wa(n, e, r, g, k, h, w, a)) return !0;
        return !1
    };
    xa = q;
    ya = function(c, n) {
        for (var e in n) n.hasOwnProperty(e) && (c[e] = n[e]);
        return c
    };
    Aa = function(c, n) {
        var e, r;
        n = T(n);
        if (!(0 > n || n >= c.length)) {
            e = n;
            for (r = c.length - 1; e < r; e++) c[e] = c[e + 1];
            c.length = r
        }
    };
    Ba = function(c, n) {
        c.length = n.length;
        var e, r;
        e = 0;
        for (r = n.length; e < r; e++) c[e] = n[e]
    };
    Ca = function(c, n) {
        c.push.apply(c, n)
    };
    Da =
        function(c, n) {
            var e, r;
            e = 0;
            for (r = c.length; e < r; ++e)
                if (c[e] === n) return e;
            return -1
        };
    Fa = function(c, n) {
        var e = Da(c, n); - 1 !== e && Aa(c, e)
    };
    V = function(c) {
        return c / (180 / ra)
    };
    Ga = function(c) {
        return 180 / ra * c
    };
    Ha = function(c) {
        c %= 360;
        0 > c && (c += 360);
        return c
    };
    Ia = function(c) {
        c %= 2 * ra;
        0 > c && (c += 2 * ra);
        return c
    };
    Ja = function(c) {
        return Ha(Ga(c))
    };
    Ka = function(c) {
        return Ia(V(c))
    };
    La = function(c, n, e, r) {
        return Math.atan2(r - n, e - c)
    };
    Ma = function(c, n) {
        if (c === n) return 0;
        var e = Math.sin(c),
            r = Math.cos(c),
            g = Math.sin(n),
            k = Math.cos(n),
            e = e * g +
            r * k;
        return 1 <= e ? 0 : -1 >= e ? ra : Math.acos(e)
    };
    Na = function(c, n, e) {
        var r = Math.sin(c),
            g = Math.cos(c),
            k = Math.sin(n),
            h = Math.cos(n);
        return Math.acos(r * k + g * h) > e ? 0 < g * k - r * h ? Ia(c + e) : Ia(c - e) : Ia(n)
    };
    Sa = function(c, n) {
        var e = Math.sin(c),
            r = Math.cos(c),
            g = Math.sin(n),
            k = Math.cos(n);
        return 0 >= r * g - e * k
    };
    Ta = function(c, n, e, r, g, k) {
        if (0 === e) return k ? c : n;
        var h = Math.sin(e);
        e = Math.cos(e);
        c -= r;
        n -= g;
        var w = c * h;
        c = c * e - n * h;
        n = n * e + w;
        return k ? c + r : n + g
    };
    Ua = function(c, n, e, r) {
        c = e - c;
        n = r - n;
        return Math.sqrt(c * c + n * n)
    };
    Va = function(c, n) {
        return !c !== !n
    };
    Wa = function(c) {
        for (var n in c)
            if (c.hasOwnProperty(n)) return !0;
        return !1
    };
    Xa = function(c) {
        for (var n in c) c.hasOwnProperty(n) && delete c[n]
    };
    var p = +new Date;
    Ya = function() {
        if ("undefined" !== typeof window.performance) {
            var c = window.performance;
            if ("undefined" !== typeof c.now) return c.now();
            if ("undefined" !== typeof c.webkitNow) return c.webkitNow();
            if ("undefined" !== typeof c.mozNow) return c.mozNow();
            if ("undefined" !== typeof c.msNow) return c.msNow()
        }
        return Date.now() - p
    };
    var h = !1,
        E = h = !1,
        c = !1;
    "undefined" !== typeof window &&
        (h = /chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent), h = !h && /safari/i.test(navigator.userAgent), E = /(iphone|ipod|ipad)/i.test(navigator.userAgent), c = window.c2ejecta);
    var n = !h && !c && !E && "undefined" !== typeof Set && "undefined" !== typeof Set.prototype.forEach;
    b.prototype.contains = function(c) {
        return this.Vd() ? !1 : n ? this.ed.has(c) : this.items && this.items.hasOwnProperty(c)
    };
    b.prototype.add = function(c) {
        if (n) this.ed.has(c) || (this.ed.add(c), this.pe = !1);
        else {
            var e = c.toString(),
                r = this.items;
            r ? r.hasOwnProperty(e) || (r[e] = c, this.Zf++, this.pe = !1) : (this.items = {}, this.items[e] = c, this.Zf = 1, this.pe = !1)
        }
    };
    b.prototype.remove = function(c) {
        if (!this.Vd())
            if (n) this.ed.has(c) && (this.ed["delete"](c), this.pe = !1);
            else if (this.items) {
            c = c.toString();
            var e = this.items;
            e.hasOwnProperty(c) && (delete e[c], this.Zf--, this.pe = !1)
        }
    };
    b.prototype.clear = function() {
        this.Vd() || (n ? this.ed.clear() : (this.items = null, this.Zf = 0), this.zg.length = 0, this.pe = !0)
    };
    b.prototype.Vd = function() {
        return 0 === this.count()
    };
    b.prototype.count =
        function() {
            return n ? this.ed.size : this.Zf
        };
    var r = null,
        w = 0;
    b.prototype.uv = function() {
        if (!this.pe) {
            if (n) this.zg.length = this.ed.size, r = this.zg, w = 0, this.ed.forEach(d), r = null, w = 0;
            else {
                var c = this.zg;
                c.length = this.Zf;
                var e, g = 0,
                    k = this.items;
                if (k)
                    for (e in k) k.hasOwnProperty(e) && (c[g++] = k[e])
            }
            this.pe = !0
        }
    };
    b.prototype.Ne = function() {
        this.uv();
        return this.zg
    };
    ca = b;
    new ca;
    Za = function(c, e) {
        n ? $a(c, e.ed) : ab(c, e.Ne())
    };
    $a = function(c, n) {
        var e, r, g, k;
        r = e = 0;
        for (g = c.length; e < g; ++e) k = c[e], n.has(k) || (c[r++] = k);
        c.length = r
    };
    ab = function(c, n) {
        var e, r, g, k;
        r = e = 0;
        for (g = c.length; e < g; ++e) k = c[e], -1 === Da(n, k) && (c[r++] = k);
        c.length = r
    };
    g.prototype.add = function(c) {
        this.y = c - this.Gk;
        this.bk = this.pa + this.y;
        this.Gk = this.bk - this.pa - this.y;
        this.pa = this.bk
    };
    g.prototype.reset = function() {
        this.pa = this.bk = this.y = this.Gk = 0
    };
    bb = g;
    cb = function(c) {
        return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
    };
    v.prototype.Rh = function(c) {
        this.Kp = c;
        this.dd = c.length / 2;
        this.ib.length = c.length;
        this.mi = this.ni = -1;
        this.Ln = 0
    };
    v.prototype.Uf = function() {
        return !this.Kp.length
    };
    v.prototype.ya = function() {
        for (var c = this.ib, n = c[0], e = n, r = c[1], g = r, k, h, w = 1, p = this.dd; w < p; ++w) h = 2 * w, k = c[h], h = c[h + 1], k < n && (n = k), k > e && (e = k), h < r && (r = h), h > g && (g = h);
        this.hi = n;
        this.ii = e;
        this.ji = r;
        this.gi = g
    };
    v.prototype.tg = function(c, n, e) {
        this.ib.length = 8;
        this.dd = 4;
        var r = this.ib;
        r[0] = c.left - n;
        r[1] = c.top - e;
        r[2] = c.right - n;
        r[3] = c.top - e;
        r[4] = c.right - n;
        r[5] = c.bottom - e;
        r[6] = c.left - n;
        r[7] = c.bottom - e;
        this.ni = c.right - c.left;
        this.mi = c.bottom - c.top;
        this.ya()
    };
    v.prototype.sg = function(c, n, e, r, g) {
        this.ib.length = 8;
        this.dd =
            4;
        var k = this.ib;
        k[0] = c.Na - n;
        k[1] = c.Oa - e;
        k[2] = c.Gb - n;
        k[3] = c.Hb - e;
        k[4] = c.Cb - n;
        k[5] = c.Db - e;
        k[6] = c.zb - n;
        k[7] = c.Ab - e;
        this.ni = r;
        this.mi = g;
        this.ya()
    };
    v.prototype.Tp = function(c) {
        this.dd = c.dd;
        Ba(this.ib, c.ib);
        this.hi = c.hi;
        this.ji - c.ji;
        this.ii = c.ii;
        this.gi = c.gi
    };
    v.prototype.Hf = function(c, n, e) {
        if (this.ni !== c || this.mi !== n || this.Ln !== e) {
            this.ni = c;
            this.mi = n;
            this.Ln = e;
            var r, k, g, h, w, p = 0,
                a = 1,
                l = this.Kp,
                m = this.ib;
            0 !== e && (p = Math.sin(e), a = Math.cos(e));
            e = 0;
            for (g = this.dd; e < g; e++) r = 2 * e, k = r + 1, h = l[r] * c, w = l[k] * n, m[r] = h * a - w *
                p, m[k] = w * a + h * p;
            this.ya()
        }
    };
    v.prototype.Ib = function(c, n) {
        var e = this.ib;
        if (c === e[0] && n === e[1]) return !0;
        var r, k, g, h = this.dd,
            w = this.hi - 110,
            p = this.ji - 101,
            a = this.ii + 131,
            l = this.gi + 120,
            m, v, b = 0,
            D = 0;
        for (r = 0; r < h; r++) k = 2 * r, g = (r + 1) % h * 2, m = e[k], k = e[k + 1], v = e[g], g = e[g + 1], wa(w, p, c, n, m, k, v, g) && b++, wa(a, l, c, n, m, k, v, g) && D++;
        return 1 === b % 2 || 1 === D % 2
    };
    v.prototype.Yg = function(c, n, e) {
        var r = c.ib,
            k = this.ib;
        if (this.Ib(r[0] + n, r[1] + e) || c.Ib(k[0] - n, k[1] - e)) return !0;
        var g, h, w, p, a, l, m, v, b, D, P, t;
        g = 0;
        for (p = this.dd; g < p; g++)
            for (h = 2 * g,
                w = (g + 1) % p * 2, v = k[h], h = k[h + 1], b = k[w], D = k[w + 1], w = 0, m = c.dd; w < m; w++)
                if (a = 2 * w, l = (w + 1) % m * 2, P = r[a] + n, a = r[a + 1] + e, t = r[l] + n, l = r[l + 1] + e, wa(v, h, b, D, P, a, t, l)) return !0;
        return !1
    };
    db = v;
    t.prototype.te = function(c, n, e) {
        var r;
        r = this.cells[c];
        return r ? (r = r[n]) ? r : e ? (r = l(this, c, n), this.cells[c][n] = r) : null : e ? (r = l(this, c, n), this.cells[c] = {}, this.cells[c][n] = r) : null
    };
    t.prototype.nc = function(c) {
        return T(c / this.Jk)
    };
    t.prototype.oc = function(c) {
        return T(c / this.Ik)
    };
    t.prototype.update = function(c, n, e) {
        var r, k, g, h, w;
        if (n)
            for (r = n.left,
                k = n.right; r <= k; ++r)
                for (g = n.top, h = n.bottom; g <= h; ++g)
                    if (!e || !e.Ib(r, g))
                        if (w = this.te(r, g, !1)) w.remove(c), w.Vd() && (w.mb.clear(), 1E3 > D.length && D.push(w), this.cells[r][g] = null);
        if (e)
            for (r = e.left, k = e.right; r <= k; ++r)
                for (g = e.top, h = e.bottom; g <= h; ++g) n && n.Ib(r, g) || this.te(r, g, !0).Bl(c)
    };
    t.prototype.Kj = function(c, n) {
        var e, r, g, k, h, w;
        e = this.nc(c.left);
        g = this.oc(c.top);
        r = this.nc(c.right);
        for (h = this.oc(c.bottom); e <= r; ++e)
            for (k = g; k <= h; ++k)(w = this.te(e, k, !1)) && w.dump(n)
    };
    eb = t;
    u.prototype.te = function(c, n, e) {
        var r;
        r =
            this.cells[c];
        return r ? (r = r[n]) ? r : e ? (r = k(this, c, n), this.cells[c][n] = r) : null : e ? (r = k(this, c, n), this.cells[c] = {}, this.cells[c][n] = r) : null
    };
    u.prototype.nc = function(c) {
        return T(c / this.Jk)
    };
    u.prototype.oc = function(c) {
        return T(c / this.Ik)
    };
    u.prototype.update = function(c, n, e) {
        var r, k, g, h, w;
        if (n)
            for (r = n.left, k = n.right; r <= k; ++r)
                for (g = n.top, h = n.bottom; g <= h; ++g)
                    if (!e || !e.Ib(r, g))
                        if (w = this.te(r, g, !1)) w.remove(c), w.Vd() && (w.reset(), 1E3 > y.length && y.push(w), this.cells[r][g] = null);
        if (e)
            for (r = e.left, k = e.right; r <= k; ++r)
                for (g =
                    e.top, h = e.bottom; g <= h; ++g) n && n.Ib(r, g) || this.te(r, g, !0).Bl(c)
    };
    u.prototype.Kj = function(c, n, e, r, g) {
        var k, h;
        c = this.nc(c);
        n = this.oc(n);
        e = this.nc(e);
        for (k = this.oc(r); c <= e; ++c)
            for (r = n; r <= k; ++r)(h = this.te(c, r, !1)) && h.dump(g)
    };
    u.prototype.mu = function(c) {
        var n, e, r, g, k;
        n = c.left;
        r = c.top;
        e = c.right;
        for (g = c.bottom; n <= e; ++n)
            for (c = r; c <= g; ++c)
                if (k = this.te(n, c, !1)) k.Xf = !1
    };
    fb = u;
    var D = [];
    e.prototype.Vd = function() {
        return this.mb.Vd()
    };
    e.prototype.Bl = function(c) {
        this.mb.add(c)
    };
    e.prototype.remove = function(c) {
        this.mb.remove(c)
    };
    e.prototype.dump = function(c) {
        Ca(c, this.mb.Ne())
    };
    ba = e;
    var y = [];
    s.prototype.Vd = function() {
        if (!this.mb.length) return !0;
        if (this.mb.length > this.wd.count()) return !1;
        this.bl();
        return !0
    };
    s.prototype.Bl = function(c) {
        this.wd.contains(c) ? (this.wd.remove(c), this.wd.Vd() && (this.Dg = !1)) : this.mb.length ? (this.mb[this.mb.length - 1].qd() > c.qd() && (this.Xf = !1), this.mb.push(c)) : (this.mb.push(c), this.Xf = !0)
    };
    s.prototype.remove = function(c) {
        this.wd.add(c);
        this.Dg = !0;
        30 <= this.wd.count() && this.bl()
    };
    s.prototype.bl = function() {
        this.Dg &&
            (this.wd.count() === this.mb.length ? this.reset() : (Za(this.mb, this.wd), this.wd.clear(), this.Dg = !1))
    };
    s.prototype.Gs = function() {
        this.Xf || (this.mb.sort(m), this.Xf = !0)
    };
    s.prototype.reset = function() {
        this.mb.length = 0;
        this.Xf = !0;
        this.wd.clear();
        this.Dg = !1
    };
    s.prototype.dump = function(c) {
        this.bl();
        this.Gs();
        this.mb.length && c.push(this.mb)
    };
    ea = s;
    var P = "lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
    gb = function(c) {
        return 0 >= c || 11 <=
            c ? "source-over" : P[c - 1]
    };
    hb = function(c, n, e) {
        if (e) switch (c.Fb = e.ONE, c.Eb = e.ONE_MINUS_SRC_ALPHA, n) {
            case 1:
                c.Fb = e.ONE;
                c.Eb = e.ONE;
                break;
            case 3:
                c.Fb = e.ONE;
                c.Eb = e.ZERO;
                break;
            case 4:
                c.Fb = e.ONE_MINUS_DST_ALPHA;
                c.Eb = e.ONE;
                break;
            case 5:
                c.Fb = e.DST_ALPHA;
                c.Eb = e.ZERO;
                break;
            case 6:
                c.Fb = e.ZERO;
                c.Eb = e.SRC_ALPHA;
                break;
            case 7:
                c.Fb = e.ONE_MINUS_DST_ALPHA;
                c.Eb = e.ZERO;
                break;
            case 8:
                c.Fb = e.ZERO;
                c.Eb = e.ONE_MINUS_SRC_ALPHA;
                break;
            case 9:
                c.Fb = e.DST_ALPHA;
                c.Eb = e.ONE_MINUS_SRC_ALPHA;
                break;
            case 10:
                c.Fb = e.ONE_MINUS_DST_ALPHA, c.Eb =
                    e.SRC_ALPHA
        }
    };
    ib = function(c) {
        return Math.round(1E6 * c) / 1E6
    };
    jb = function(c, n) {
        return "string" !== typeof c || "string" !== typeof n || c.length !== n.length ? !1 : c === n ? !0 : c.toLowerCase() === n.toLowerCase()
    };
    kb = function(c) {
        c = c.target;
        return !c || c === document || c === window || document && document.body && c === document.body || jb(c.tagName, "canvas") ? !0 : !1
    }
})();
var cc = "undefined" !== typeof Float32Array ? Float32Array : Array;

function dc(f) {
    var q = new cc(3);
    f && (q[0] = f[0], q[1] = f[1], q[2] = f[2]);
    return q
}

function ec(f) {
    var q = new cc(16);
    f && (q[0] = f[0], q[1] = f[1], q[2] = f[2], q[3] = f[3], q[4] = f[4], q[5] = f[5], q[6] = f[6], q[7] = f[7], q[8] = f[8], q[9] = f[9], q[10] = f[10], q[11] = f[11], q[12] = f[12], q[13] = f[13], q[14] = f[14], q[15] = f[15]);
    return q
}

function fc(f, q) {
    q[0] = f[0];
    q[1] = f[1];
    q[2] = f[2];
    q[3] = f[3];
    q[4] = f[4];
    q[5] = f[5];
    q[6] = f[6];
    q[7] = f[7];
    q[8] = f[8];
    q[9] = f[9];
    q[10] = f[10];
    q[11] = f[11];
    q[12] = f[12];
    q[13] = f[13];
    q[14] = f[14];
    q[15] = f[15]
}

function gc(f, q) {
    var a = q[0],
        b = q[1];
    q = q[2];
    f[0] *= a;
    f[1] *= a;
    f[2] *= a;
    f[3] *= a;
    f[4] *= b;
    f[5] *= b;
    f[6] *= b;
    f[7] *= b;
    f[8] *= q;
    f[9] *= q;
    f[10] *= q;
    f[11] *= q
}

function hc(f, q, a, b) {
    b || (b = ec());
    var d, g, v, t, u, l, e, k, s = f[0],
        m = f[1];
    f = f[2];
    g = a[0];
    v = a[1];
    d = a[2];
    a = q[1];
    l = q[2];
    s === q[0] && m === a && f === l ? (f = b, f[0] = 1, f[1] = 0, f[2] = 0, f[3] = 0, f[4] = 0, f[5] = 1, f[6] = 0, f[7] = 0, f[8] = 0, f[9] = 0, f[10] = 1, f[11] = 0, f[12] = 0, f[13] = 0, f[14] = 0, f[15] = 1) : (a = s - q[0], l = m - q[1], e = f - q[2], k = 1 / Math.sqrt(a * a + l * l + e * e), a *= k, l *= k, e *= k, q = v * e - d * l, d = d * a - g * e, g = g * l - v * a, (k = Math.sqrt(q * q + d * d + g * g)) ? (k = 1 / k, q *= k, d *= k, g *= k) : g = d = q = 0, v = l * g - e * d, t = e * q - a * g, u = a * d - l * q, (k = Math.sqrt(v * v + t * t + u * u)) ? (k = 1 / k, v *= k, t *= k, u *= k) : u = t = v = 0,
        b[0] = q, b[1] = v, b[2] = a, b[3] = 0, b[4] = d, b[5] = t, b[6] = l, b[7] = 0, b[8] = g, b[9] = u, b[10] = e, b[11] = 0, b[12] = -(q * s + d * m + g * f), b[13] = -(v * s + t * m + u * f), b[14] = -(a * s + l * m + e * f), b[15] = 1)
}
(function() {
    function f(g) {
        this.ve = /msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent);
        this.height = this.width = 0;
        this.Mn = dc([0, 0, 100]);
        this.Po = dc([0, 0, 0]);
        this.oq = dc([0, 1, 0]);
        this.hn = dc([1, 1, 1]);
        this.Vn = !0;
        this.Zl = ec();
        this.Oc = ec();
        this.Ho = ec();
        this.Qk = ec();
        this.A = g;
        this.uo()
    }

    function q(g, a, b) {
        this.A = g;
        this.Sh = a;
        this.name = b;
        this.Nc = g.getAttribLocation(a, "aPos");
        this.Ae = g.getAttribLocation(a, "aTex");
        this.No = g.getUniformLocation(a, "matP");
        this.pj = g.getUniformLocation(a, "matMV");
        this.eg =
            g.getUniformLocation(a, "opacity");
        this.Oo = g.getUniformLocation(a, "samplerFront");
        this.sh = g.getUniformLocation(a, "samplerBack");
        this.rf = g.getUniformLocation(a, "destStart");
        this.qf = g.getUniformLocation(a, "destEnd");
        this.Vl = g.getUniformLocation(a, "seconds");
        this.Ul = g.getUniformLocation(a, "pixelWidth");
        this.Tl = g.getUniformLocation(a, "pixelHeight");
        this.rh = g.getUniformLocation(a, "layerScale");
        this.qh = g.getUniformLocation(a, "layerAngle");
        this.vh = g.getUniformLocation(a, "viewOrigin");
        this.uh = g.getUniformLocation(a,
            "scrollPos");
        this.Tt = !!(this.Ul || this.Tl || this.Vl || this.sh || this.rf || this.qf || this.rh || this.qh || this.vh || this.uh);
        this.Xo = this.Yo = -999;
        this.sj = 1;
        this.To = this.So = 0;
        this.Vo = this.Ro = this.Qo = 1;
        this.$o = this.Zo = this.cp = this.bp = this.Uo = 0;
        this.Ml = [];
        this.Wo = ec();
        this.eg && g.uniform1f(this.eg, 1);
        this.Oo && g.uniform1i(this.Oo, 0);
        this.sh && g.uniform1i(this.sh, 1);
        this.rf && g.uniform2f(this.rf, 0, 0);
        this.qf && g.uniform2f(this.qf, 1, 1);
        this.rh && g.uniform1f(this.rh, 1);
        this.qh && g.uniform1f(this.qh, 0);
        this.vh && g.uniform2f(this.vh,
            0, 0);
        this.uh && g.uniform2f(this.uh, 0, 0);
        this.cf = !1
    }

    function a(g, a) {
        this.type = g;
        this.C = a;
        this.A = a.A;
        this.Kc = this.Ac = this.vp = 0;
        this.ma = this.gd = null;
        this.Vp = []
    }
    f.prototype.uo = function() {
        var g = this.A,
            a;
        this.Io = 1;
        this.lf = this.ye = null;
        this.wi = 1;
        g.clearColor(0, 0, 0, 0);
        g.clear(g.COLOR_BUFFER_BIT);
        g.enable(g.BLEND);
        g.blendFunc(g.ONE, g.ONE_MINUS_SRC_ALPHA);
        g.disable(g.CULL_FACE);
        g.disable(g.DEPTH_TEST);
        this.Jo = g.ONE;
        this.Go = g.ONE_MINUS_SRC_ALPHA;
        this.qm = g.createBuffer();
        g.bindBuffer(g.ARRAY_BUFFER, this.qm);
        this.di =
            Array(4);
        this.Wh = Array(4);
        for (a = 0; 4 > a; a++) this.di[a] = g.createBuffer(), g.bindBuffer(g.ARRAY_BUFFER, this.di[a]), this.Wh[a] = g.createBuffer(), g.bindBuffer(g.ARRAY_BUFFER, this.Wh[a]);
        this.Kd = 0;
        this.Wt = g.createBuffer();
        g.bindBuffer(g.ELEMENT_ARRAY_BUFFER, this.Wt);
        this.bn = new Float32Array(16E3);
        this.Qm = new Float32Array(16E3);
        this.Hp = new Float32Array(32E3);
        for (var b = new Uint16Array(12E3), d = a = 0; 12E3 > a;) b[a++] = d, b[a++] = d + 1, b[a++] = d + 2, b[a++] = d, b[a++] = d + 2, b[a++] = d + 3, d += 4;
        g.bufferData(g.ELEMENT_ARRAY_BUFFER, b,
            g.STATIC_DRAW);
        this.ng = this.Ed = 0;
        this.kb = [];
        a = this.Pk({
            src: "varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"
        }, "attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}", "<default>");
        this.kb.push(a);
        a = this.Pk({
            src: "uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"
        }, "attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}", "<point>");
        this.kb.push(a);
        for (var l in ic) ic.hasOwnProperty(l) && this.kb.push(this.Pk(ic[l],
            "attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}", l));
        g.activeTexture(g.TEXTURE0);
        g.bindTexture(g.TEXTURE_2D, null);
        this.Id = [];
        this.nd = 0;
        this.gc = this.Pb = !1;
        this.Sn = this.gh = -1;
        this.Lg = null;
        this.et = g.createFramebuffer();
        this.Np = null;
        this.Me = dc([0, 0, 0]);
        g = g.getParameter(g.ALIASED_POINT_SIZE_RANGE);
        this.pu = g[0];
        this.$l =
            g[1];
        2048 < this.$l && (this.$l = 2048);
        this.Ad(0)
    };
    q.prototype.Wm = function(g) {
        var a = this.Wo;
        if (a[0] !== g[0] || a[1] !== g[1] || a[2] !== g[2] || a[3] !== g[3] || a[4] !== g[4] || a[5] !== g[5] || a[6] !== g[6] || a[7] !== g[7] || a[8] !== g[8] || a[9] !== g[9] || a[10] !== g[10] || a[11] !== g[11] || a[12] !== g[12] || a[13] !== g[13] || a[14] !== g[14] || a[15] !== g[15]) fc(g, this.Wo), this.A.uniformMatrix4fv(this.pj, !1, g)
    };
    f.prototype.Pk = function(g, a, b) {
        var d = this.A,
            l = d.createShader(d.FRAGMENT_SHADER);
        d.shaderSource(l, g.src);
        d.compileShader(l);
        if (!d.getShaderParameter(l,
                d.COMPILE_STATUS)) return d.deleteShader(l), null;
        var e = d.createShader(d.VERTEX_SHADER);
        d.shaderSource(e, a);
        d.compileShader(e);
        if (!d.getShaderParameter(e, d.COMPILE_STATUS)) return d.deleteShader(l), d.deleteShader(e), null;
        a = d.createProgram();
        d.attachShader(a, l);
        d.attachShader(a, e);
        d.linkProgram(a);
        if (!d.getProgramParameter(a, d.LINK_STATUS)) return d.deleteShader(l), d.deleteShader(e), d.deleteProgram(a), null;
        d.useProgram(a);
        d.deleteShader(l);
        d.deleteShader(e);
        b = new q(d, a, b);
        b.Yk = g.Yk || 0;
        b.Zk = g.Zk || 0;
        b.Rn = !!g.Rn;
        b.Fn = !!g.Fn;
        b.O = g.O || [];
        g = 0;
        for (l = b.O.length; g < l; g++) b.O[g][1] = d.getUniformLocation(a, b.O[g][0]), b.Ml.push(0), d.uniform1f(b.O[g][1], 0);
        return b
    };
    f.prototype.ml = function(g) {
        var a, b;
        a = 0;
        for (b = this.kb.length; a < b; a++)
            if (this.kb[a].name === g) return a;
        return -1
    };
    f.prototype.Jp = function(g, a, b) {
        var d = this.Oc,
            l = this.Zl,
            e = [0, 0, 0, 0, 0, 0, 0, 0];
        e[0] = d[0] * g + d[4] * a + d[12];
        e[1] = d[1] * g + d[5] * a + d[13];
        e[2] = d[2] * g + d[6] * a + d[14];
        e[3] = d[3] * g + d[7] * a + d[15];
        e[4] = l[0] * e[0] + l[4] * e[1] + l[8] * e[2] + l[12] * e[3];
        e[5] = l[1] * e[0] + l[5] *
            e[1] + l[9] * e[2] + l[13] * e[3];
        e[6] = l[2] * e[0] + l[6] * e[1] + l[10] * e[2] + l[14] * e[3];
        e[7] = -e[2];
        0 !== e[7] && (e[7] = 1 / e[7], e[4] *= e[7], e[5] *= e[7], e[6] *= e[7], b[0] = (.5 * e[4] + .5) * this.width, b[1] = (.5 * e[5] + .5) * this.height)
    };
    f.prototype.rg = function(g, a, b) {
        if (this.width !== g || this.height !== a || b) {
            this.Pd();
            this.width = g;
            this.height = a;
            this.A.viewport(0, 0, g, a);
            a = g / a;
            var d = this.Zl,
                l;
            l = 1 * Math.tan(45 * Math.PI / 360);
            a *= l;
            g = -a;
            b = -l;
            d || (d = ec());
            var e = a - g,
                k = l - b;
            d[0] = 2 / e;
            d[1] = 0;
            d[2] = 0;
            d[3] = 0;
            d[4] = 0;
            d[5] = 2 / k;
            d[6] = 0;
            d[7] = 0;
            d[8] = (a + g) / e;
            d[9] =
                (l + b) / k;
            d[10] = -1001 / 999;
            d[11] = -1;
            d[12] = 0;
            d[13] = 0;
            d[14] = -2E3 / 999;
            d[15] = 0;
            hc(this.Mn, this.Po, this.oq, this.Oc);
            g = [0, 0];
            a = [0, 0];
            this.Jp(0, 0, g);
            this.Jp(1, 1, a);
            this.hn[0] = 1 / (a[0] - g[0]);
            this.hn[1] = -1 / (a[1] - g[1]);
            g = 0;
            for (a = this.kb.length; g < a; g++) b = this.kb[g], b.cf = !1, b.No && (this.A.useProgram(b.Sh), this.A.uniformMatrix4fv(b.No, !1, this.Zl));
            this.A.useProgram(this.kb[this.gh].Sh);
            this.A.bindTexture(this.A.TEXTURE_2D, null);
            this.A.activeTexture(this.A.TEXTURE1);
            this.A.bindTexture(this.A.TEXTURE_2D, null);
            this.A.activeTexture(this.A.TEXTURE0);
            this.lf = this.ye = null
        }
    };
    f.prototype.yd = function() {
        hc(this.Mn, this.Po, this.oq, this.Oc);
        gc(this.Oc, this.hn)
    };
    f.prototype.translate = function(g, a) {
        if (0 !== g || 0 !== a) {
            this.Me[0] = g;
            this.Me[1] = a;
            this.Me[2] = 0;
            var b = this.Oc,
                d = this.Me,
                l = d[0],
                e = d[1],
                d = d[2];
            b[12] = b[0] * l + b[4] * e + b[8] * d + b[12];
            b[13] = b[1] * l + b[5] * e + b[9] * d + b[13];
            b[14] = b[2] * l + b[6] * e + b[10] * d + b[14];
            b[15] = b[3] * l + b[7] * e + b[11] * d + b[15]
        }
    };
    f.prototype.scale = function(g, a) {
        if (1 !== g || 1 !== a) this.Me[0] = g, this.Me[1] = a, this.Me[2] = 1, gc(this.Oc, this.Me)
    };
    f.prototype.Bm =
        function(g) {
            if (0 !== g) {
                var a = this.Oc,
                    b, d = Math.sin(g);
                g = Math.cos(g);
                var l = a[0],
                    e = a[1],
                    k = a[2],
                    s = a[3],
                    m = a[4],
                    f = a[5],
                    q = a[6],
                    p = a[7];
                b ? a !== b && (b[8] = a[8], b[9] = a[9], b[10] = a[10], b[11] = a[11], b[12] = a[12], b[13] = a[13], b[14] = a[14], b[15] = a[15]) : b = a;
                b[0] = l * g + m * d;
                b[1] = e * g + f * d;
                b[2] = k * g + q * d;
                b[3] = s * g + p * d;
                b[4] = l * -d + m * g;
                b[5] = e * -d + f * g;
                b[6] = k * -d + q * g;
                b[7] = s * -d + p * g
            }
        };
    f.prototype.Dd = function() {
        for (var a = !1, b = 0; 16 > b; b++)
            if (this.Ho[b] !== this.Oc[b]) {
                a = !0;
                break
            }
        a && (a = this.Sc(), a.type = 5, a.ma ? fc(this.Oc, a.ma) : a.ma = ec(this.Oc), fc(this.Oc,
            this.Ho), this.gc = this.Pb = !1)
    };
    a.prototype.ws = function() {
        this.A.bindTexture(this.A.TEXTURE_2D, this.gd)
    };
    a.prototype.xs = function() {
        var a = this.A;
        a.activeTexture(a.TEXTURE1);
        a.bindTexture(a.TEXTURE_2D, this.gd);
        a.activeTexture(a.TEXTURE0)
    };
    a.prototype.ts = function() {
        var a = this.vp,
            b = this.C;
        b.wi = a;
        b = b.Lg;
        b.eg && b.sj !== a && (b.sj = a, this.A.uniform1f(b.eg, a))
    };
    a.prototype.qs = function() {
        this.A.drawElements(this.A.TRIANGLES, this.Kc, this.A.UNSIGNED_SHORT, 2 * this.Ac)
    };
    a.prototype.ss = function() {
        this.A.blendFunc(this.Ac,
            this.Kc)
    };
    a.prototype.ys = function() {
        var a, b, d, f = this.C.kb,
            l = this.C.Sn;
        a = 0;
        for (b = f.length; a < b; a++) d = f[a], a === l && d.pj ? (d.Wm(this.ma), d.cf = !0) : d.cf = !1;
        fc(this.ma, this.C.Qk)
    };
    a.prototype.rs = function() {
        var a = this.A,
            b = this.C;
        this.gd ? (b.lf === this.gd && (a.activeTexture(a.TEXTURE1), a.bindTexture(a.TEXTURE_2D, null), b.lf = null, a.activeTexture(a.TEXTURE0)), a.bindFramebuffer(a.FRAMEBUFFER, b.et), a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, this.gd, 0)) : (a.framebufferTexture2D(a.FRAMEBUFFER,
            a.COLOR_ATTACHMENT0, a.TEXTURE_2D, null, 0), a.bindFramebuffer(a.FRAMEBUFFER, null))
    };
    a.prototype.ns = function() {
        var a = this.A;
        0 === this.Ac ? (a.clearColor(this.ma[0], this.ma[1], this.ma[2], this.ma[3]), a.clear(a.COLOR_BUFFER_BIT)) : (a.enable(a.SCISSOR_TEST), a.scissor(this.ma[0], this.ma[1], this.ma[2], this.ma[3]), a.clearColor(0, 0, 0, 0), a.clear(this.A.COLOR_BUFFER_BIT), a.disable(a.SCISSOR_TEST))
    };
    a.prototype.os = function() {
        var a = this.A,
            b = this.C,
            d = b.kb[1];
        a.useProgram(d.Sh);
        !d.cf && d.pj && (d.Wm(b.Qk), d.cf = !0);
        a.enableVertexAttribArray(d.Nc);
        a.bindBuffer(a.ARRAY_BUFFER, b.qm);
        a.vertexAttribPointer(d.Nc, 4, a.FLOAT, !1, 0, 0);
        a.drawArrays(a.POINTS, this.Ac / 4, this.Kc);
        d = b.Lg;
        a.useProgram(d.Sh);
        0 <= d.Nc && (a.enableVertexAttribArray(d.Nc), a.bindBuffer(a.ARRAY_BUFFER, b.di[b.Kd]), a.vertexAttribPointer(d.Nc, 2, a.FLOAT, !1, 0, 0));
        0 <= d.Ae && (a.enableVertexAttribArray(d.Ae), a.bindBuffer(a.ARRAY_BUFFER, b.Wh[b.Kd]), a.vertexAttribPointer(d.Ae, 2, a.FLOAT, !1, 0, 0))
    };
    a.prototype.us = function() {
        var a = this.A,
            b = this.C,
            d = b.kb[this.Ac];
        b.Sn = this.Ac;
        b.Lg = d;
        a.useProgram(d.Sh);
        !d.cf && d.pj && (d.Wm(b.Qk), d.cf = !0);
        d.eg && d.sj !== b.wi && (d.sj = b.wi, a.uniform1f(d.eg, b.wi));
        0 <= d.Nc && (a.enableVertexAttribArray(d.Nc), a.bindBuffer(a.ARRAY_BUFFER, b.di[b.Kd]), a.vertexAttribPointer(d.Nc, 2, a.FLOAT, !1, 0, 0));
        0 <= d.Ae && (a.enableVertexAttribArray(d.Ae), a.bindBuffer(a.ARRAY_BUFFER, b.Wh[b.Kd]), a.vertexAttribPointer(d.Ae, 2, a.FLOAT, !1, 0, 0))
    };
    a.prototype.vs = function() {
        var a, b, d = this.C.Lg,
            f = this.A;
        a = this.ma;
        d.sh && this.C.lf !== this.gd && (f.activeTexture(f.TEXTURE1), f.bindTexture(f.TEXTURE_2D, this.gd),
            this.C.lf = this.gd, f.activeTexture(f.TEXTURE0));
        var l = a[0];
        d.Ul && l !== d.Yo && (d.Yo = l, f.uniform1f(d.Ul, l));
        l = a[1];
        d.Tl && l !== d.Xo && (d.Xo = l, f.uniform1f(d.Tl, l));
        l = a[2];
        b = a[3];
        !d.rf || l === d.So && b === d.To || (d.So = l, d.To = b, f.uniform2f(d.rf, l, b));
        l = a[4];
        b = a[5];
        !d.qf || l === d.Qo && b === d.Ro || (d.Qo = l, d.Ro = l, f.uniform2f(d.qf, l, b));
        l = a[6];
        d.rh && l !== d.Vo && (d.Vo = l, f.uniform1f(d.rh, l));
        l = a[7];
        d.qh && l !== d.Uo && (d.Uo = l, f.uniform1f(d.qh, l));
        l = a[8];
        b = a[9];
        !d.vh || l === d.bp && b === d.cp || (d.bp = l, d.cp = b, f.uniform2f(d.vh, l, b));
        l = a[10];
        b = a[11];
        !d.uh || l === d.Zo && b === d.$o || (d.Zo = l, d.$o = b, f.uniform2f(d.uh, l, b));
        d.Vl && f.uniform1f(d.Vl, Ya() / 1E3);
        if (d.O.length)
            for (a = 0, b = d.O.length; a < b; a++) l = this.Vp[a], l !== d.Ml[a] && (d.Ml[a] = l, f.uniform1f(d.O[a][1], l))
    };
    f.prototype.Sc = function() {
        this.nd === this.Id.length && this.Id.push(new a(0, this));
        return this.Id[this.nd++]
    };
    f.prototype.Pd = function() {
        if (0 !== this.nd && !this.A.isContextLost()) {
            var a = this.A;
            0 < this.ng && (a.bindBuffer(a.ARRAY_BUFFER, this.qm), a.bufferData(a.ARRAY_BUFFER, this.Hp.subarray(0, this.ng),
                a.STREAM_DRAW), b && 0 <= b.Nc && "<point>" === b.name && a.vertexAttribPointer(b.Nc, 4, a.FLOAT, !1, 0, 0));
            if (0 < this.Ed) {
                var b = this.Lg;
                a.bindBuffer(a.ARRAY_BUFFER, this.di[this.Kd]);
                a.bufferData(a.ARRAY_BUFFER, this.bn.subarray(0, this.Ed), a.STREAM_DRAW);
                b && 0 <= b.Nc && "<point>" !== b.name && a.vertexAttribPointer(b.Nc, 2, a.FLOAT, !1, 0, 0);
                a.bindBuffer(a.ARRAY_BUFFER, this.Wh[this.Kd]);
                a.bufferData(a.ARRAY_BUFFER, this.Qm.subarray(0, this.Ed), a.STREAM_DRAW);
                b && 0 <= b.Ae && "<point>" !== b.name && a.vertexAttribPointer(b.Ae, 2, a.FLOAT, !1, 0, 0)
            }
            for (var d, a = 0, b = this.nd; a < b; a++) switch (d = this.Id[a], d.type) {
                case 1:
                    d.qs();
                    break;
                case 2:
                    d.ws();
                    break;
                case 3:
                    d.ts();
                    break;
                case 4:
                    d.ss();
                    break;
                case 5:
                    d.ys();
                    break;
                case 6:
                    d.rs();
                    break;
                case 7:
                    d.ns();
                    break;
                case 8:
                    d.os();
                    break;
                case 9:
                    d.us();
                    break;
                case 10:
                    d.vs();
                    break;
                case 11:
                    d.xs()
            }
            this.ng = this.Ed = this.nd = 0;
            this.gc = this.Pb = !1;
            this.Kd++;
            4 <= this.Kd && (this.Kd = 0)
        }
    };
    f.prototype.He = function(a) {
        if (a !== this.Io) {
            var b = this.Sc();
            b.type = 3;
            this.Io = b.vp = a;
            this.gc = this.Pb = !1
        }
    };
    f.prototype.Xb = function(a) {
        if (a !==
            this.ye) {
            var b = this.Sc();
            b.type = 2;
            this.ye = b.gd = a;
            this.gc = this.Pb = !1
        }
    };
    f.prototype.Ge = function(a, b) {
        if (a !== this.Jo || b !== this.Go) {
            var d = this.Sc();
            d.type = 4;
            d.Ac = a;
            d.Kc = b;
            this.Jo = a;
            this.Go = b;
            this.gc = this.Pb = !1
        }
    };
    f.prototype.Rp = function() {
        this.Ge(this.A.ONE, this.A.ONE_MINUS_SRC_ALPHA)
    };
    f.prototype.Lh = function(a, b, d, f, l, e, k, s) {
        15992 <= this.Ed && this.Pd();
        var m = this.Ed,
            z = this.bn,
            q = this.Qm;
        if (this.Pb) this.Id[this.nd - 1].Kc += 6;
        else {
            var p = this.Sc();
            p.type = 1;
            p.Ac = m / 4 * 3;
            p.Kc = 6;
            this.Pb = !0;
            this.gc = !1
        }
        z[m] = a;
        q[m++] =
            0;
        z[m] = b;
        q[m++] = 0;
        z[m] = d;
        q[m++] = 1;
        z[m] = f;
        q[m++] = 0;
        z[m] = l;
        q[m++] = 1;
        z[m] = e;
        q[m++] = 1;
        z[m] = k;
        q[m++] = 0;
        z[m] = s;
        q[m++] = 1;
        this.Ed = m
    };
    f.prototype.xd = function(a, b, d, f, l, e, k, s, m) {
        15992 <= this.Ed && this.Pd();
        var z = this.Ed,
            q = this.bn,
            p = this.Qm;
        if (this.Pb) this.Id[this.nd - 1].Kc += 6;
        else {
            var h = this.Sc();
            h.type = 1;
            h.Ac = z / 4 * 3;
            h.Kc = 6;
            this.Pb = !0;
            this.gc = !1
        }
        var h = m.left,
            E = m.top,
            c = m.right;
        m = m.bottom;
        q[z] = a;
        p[z++] = h;
        q[z] = b;
        p[z++] = E;
        q[z] = d;
        p[z++] = c;
        q[z] = f;
        p[z++] = E;
        q[z] = l;
        p[z++] = c;
        q[z] = e;
        p[z++] = m;
        q[z] = k;
        p[z++] = h;
        q[z] = s;
        p[z++] =
            m;
        this.Ed = z
    };
    f.prototype.Cu = function(a, b, d, f) {
        7996 <= this.ng && this.Pd();
        var l = this.ng,
            e = this.Hp;
        if (this.gc) this.Id[this.nd - 1].Kc++;
        else {
            var k = this.Sc();
            k.type = 8;
            k.Ac = l;
            k.Kc = 1;
            this.gc = !0;
            this.Pb = !1
        }
        e[l++] = a;
        e[l++] = b;
        e[l++] = d;
        e[l++] = f;
        this.ng = l
    };
    f.prototype.Ad = function(a) {
        if (this.gh !== a) {
            if (!this.kb[a]) {
                if (0 === this.gh) return;
                a = 0
            }
            var b = this.Sc();
            b.type = 9;
            this.gh = b.Ac = a;
            this.gc = this.Pb = !1
        }
    };
    f.prototype.Hh = function(a) {
        a = this.kb[a];
        return !(!a.rf && !a.qf)
    };
    f.prototype.tm = function(a) {
        a = this.kb[a];
        return !!(a.rf ||
            a.qf || a.Rn)
    };
    f.prototype.Ku = function(a) {
        a = this.kb[a];
        return 0 !== a.Yk || 0 !== a.Zk
    };
    f.prototype.yt = function(a) {
        return this.kb[a].Yk
    };
    f.prototype.zt = function(a) {
        return this.kb[a].Zk
    };
    f.prototype.At = function(a, b) {
        return this.kb[a].O[b][2]
    };
    f.prototype.Ij = function(a) {
        return this.kb[a].Fn
    };
    f.prototype.qg = function(a, b, d, f, l, e, k, s, m, q, x, p, h, E) {
        var c = this.kb[this.gh],
            n, r;
        if (c.Tt || E.length) {
            n = this.Sc();
            n.type = 10;
            n.ma ? fc(this.Oc, n.ma) : n.ma = ec();
            r = n.ma;
            r[0] = b;
            r[1] = d;
            r[2] = f;
            r[3] = l;
            r[4] = e;
            r[5] = k;
            r[6] = s;
            r[7] = m;
            r[8] =
                q;
            r[9] = x;
            r[10] = p;
            r[11] = h;
            n.gd = c.sh ? a : null;
            if (E.length)
                for (d = n.Vp, d.length = E.length, a = 0, b = E.length; a < b; a++) d[a] = E[a];
            this.gc = this.Pb = !1
        }
    };
    f.prototype.clear = function(a, b, d, f) {
        var l = this.Sc();
        l.type = 7;
        l.Ac = 0;
        l.ma || (l.ma = ec());
        l.ma[0] = a;
        l.ma[1] = b;
        l.ma[2] = d;
        l.ma[3] = f;
        this.gc = this.Pb = !1
    };
    f.prototype.clearRect = function(a, b, d, f) {
        if (!(0 > d || 0 > f)) {
            var l = this.Sc();
            l.type = 7;
            l.Ac = 1;
            l.ma || (l.ma = ec());
            l.ma[0] = a;
            l.ma[1] = b;
            l.ma[2] = d;
            l.ma[3] = f;
            this.gc = this.Pb = !1
        }
    };
    f.prototype.Ju = function() {
        this.Pd();
        this.A.flush()
    };
    var b = [],
        d = {};
    f.prototype.es = function() {
        b.length = 0;
        d = {}
    };
    f.prototype.bg = function(a, f, q, u) {
        f = !!f;
        q = !!q;
        var l = a.src + "," + f + "," + q + (f ? ",undefined" : ""),
            e = null;
        if ("undefined" !== typeof a.src && d.hasOwnProperty(l)) return e = d[l], e.li++, e;
        this.Pd();
        var k = this.A,
            s = ka(a.width) && ka(a.height),
            e = k.createTexture();
        k.bindTexture(k.TEXTURE_2D, e);
        k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
        var m = k.RGBA,
            z = k.RGBA,
            x = k.UNSIGNED_BYTE;
        if (u && !this.ve) switch (u) {
            case 1:
                z = m = k.RGB;
                break;
            case 2:
                x = k.UNSIGNED_SHORT_4_4_4_4;
                break;
            case 3:
                x = k.UNSIGNED_SHORT_5_5_5_1;
                break;
            case 4:
                z = m = k.RGB, x = k.UNSIGNED_SHORT_5_6_5
        }
        if (!s && f) {
            u = document.createElement("canvas");
            u.width = la(a.width);
            u.height = la(a.height);
            var p = u.getContext("2d");
            p.webkitImageSmoothingEnabled = q;
            p.mozImageSmoothingEnabled = q;
            p.msImageSmoothingEnabled = q;
            p.imageSmoothingEnabled = q;
            p.drawImage(a, 0, 0, a.width, a.height, 0, 0, u.width, u.height);
            k.texImage2D(k.TEXTURE_2D, 0, m, z, x, u)
        } else k.texImage2D(k.TEXTURE_2D, 0, m, z, x, a);
        f ? (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.REPEAT),
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.REPEAT)) : (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.CLAMP_TO_EDGE), k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.CLAMP_TO_EDGE));
        q ? (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MAG_FILTER, k.LINEAR), s && this.Vn ? (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, k.LINEAR_MIPMAP_LINEAR), k.generateMipmap(k.TEXTURE_2D)) : k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, k.LINEAR)) : (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MAG_FILTER, k.NEAREST), k.texParameteri(k.TEXTURE_2D,
            k.TEXTURE_MIN_FILTER, k.NEAREST));
        k.bindTexture(k.TEXTURE_2D, null);
        this.ye = null;
        e.Hg = a.width;
        e.Gg = a.height;
        e.li = 1;
        e.Kn = l;
        b.push(e);
        return d[l] = e
    };
    f.prototype.Jd = function(a, d, f, q) {
        this.Pd();
        var l = this.A;
        this.ve && (q = !1);
        var e = l.createTexture();
        l.bindTexture(l.TEXTURE_2D, e);
        l.texImage2D(l.TEXTURE_2D, 0, l.RGBA, a, d, 0, l.RGBA, q ? l.UNSIGNED_SHORT_4_4_4_4 : l.UNSIGNED_BYTE, null);
        l.texParameteri(l.TEXTURE_2D, l.TEXTURE_WRAP_S, l.CLAMP_TO_EDGE);
        l.texParameteri(l.TEXTURE_2D, l.TEXTURE_WRAP_T, l.CLAMP_TO_EDGE);
        l.texParameteri(l.TEXTURE_2D,
            l.TEXTURE_MAG_FILTER, f ? l.LINEAR : l.NEAREST);
        l.texParameteri(l.TEXTURE_2D, l.TEXTURE_MIN_FILTER, f ? l.LINEAR : l.NEAREST);
        l.bindTexture(l.TEXTURE_2D, null);
        this.ye = null;
        e.Hg = a;
        e.Gg = d;
        b.push(e);
        return e
    };
    f.prototype.zv = function(a, b, d) {
        this.Pd();
        var f = this.A;
        this.ve && (d = !1);
        f.bindTexture(f.TEXTURE_2D, b);
        f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
        try {
            f.texImage2D(f.TEXTURE_2D, 0, f.RGBA, f.RGBA, d ? f.UNSIGNED_SHORT_4_4_4_4 : f.UNSIGNED_BYTE, a)
        } catch (l) {
            console && console.error && console.error("Error updating WebGL texture: ",
                l)
        }
        f.bindTexture(f.TEXTURE_2D, null);
        this.ye = null
    };
    f.prototype.deleteTexture = function(a) {
        a && ("undefined" !== typeof a.li && 1 < a.li ? a.li-- : (this.Pd(), a === this.ye && (this.A.bindTexture(this.A.TEXTURE_2D, null), this.ye = null), a === this.lf && (this.A.activeTexture(this.A.TEXTURE1), this.A.bindTexture(this.A.TEXTURE_2D, null), this.A.activeTexture(this.A.TEXTURE0), this.lf = null), Fa(b, a), "undefined" !== typeof a.Kn && delete d[a.Kn], this.A.deleteTexture(a)))
    };
    f.prototype.zd = function(a) {
        if (a !== this.Np) {
            var b = this.Sc();
            b.type =
                6;
            this.Np = b.gd = a;
            this.gc = this.Pb = !1
        }
    };
    lb = f
})();
(function() {
    function f() {
        return "undefined" !== typeof jQuery ? jQuery(window).width() : window.innerWidth
    }

    function q() {
        return "undefined" !== typeof jQuery ? jQuery(window).height() : window.innerHeight
    }

    function a(c) {
        if (c && (c.getContext || c.dc) && !c.c2runtime) {
            c.c2runtime = this;
            var n = this;
            this.vc = (this.$g = /crosswalk/i.test(navigator.userAgent) || /xwalk/i.test(navigator.userAgent) || !("undefined" === typeof window.c2isCrosswalk || !window.c2isCrosswalk)) || "undefined" !== typeof window.device && ("undefined" !== typeof window.device.cordova ||
                "undefined" !== typeof window.device.phonegap) || "undefined" !== typeof window.c2iscordova && window.c2iscordova;
            this.tb = !!c.dc;
            this.Sf = "undefined" !== typeof window.AppMobi || this.tb;
            this.uc = !!window.c2cocoonjs;
            this.Lc = !!window.c2ejecta;
            this.uc && (CocoonJS.App.onSuspended.addEventListener(function() {
                n.setSuspended(!0)
            }), CocoonJS.App.onActivated.addEventListener(function() {
                n.setSuspended(!1)
            }));
            this.Lc && (document.addEventListener("pagehide", function() {
                n.setSuspended(!0)
            }), document.addEventListener("pageshow",
                function() {
                    n.setSuspended(!1)
                }), document.addEventListener("resize", function() {
                n.setSize(window.innerWidth, window.innerHeight)
            }));
            this.Ga = this.tb || this.uc || this.Lc;
            this.ve = /msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent) || /iemobile/i.test(navigator.userAgent) || /edge\//i.test(navigator.userAgent);
            this.Co = /tizen/i.test(navigator.userAgent);
            this.Xi = /android/i.test(navigator.userAgent) && !this.Co && !this.ve;
            this.Ll = (/iphone/i.test(navigator.userAgent) || /ipod/i.test(navigator.userAgent)) &&
                !this.ve;
            this.Fo = /ipad/i.test(navigator.userAgent);
            this.cj = this.Ll || this.Fo || this.Lc;
            this.iu = this.Ll && /os\s6/i.test(navigator.userAgent);
            this.Zg = (/chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent)) && !this.ve;
            this.zo = /amazonwebappplatform/i.test(navigator.userAgent);
            this.bu = /firefox/i.test(navigator.userAgent);
            this.Bo = /safari/i.test(navigator.userAgent) && !this.Zg && !this.ve;
            this.fu = /windows/i.test(navigator.userAgent);
            this.we = "undefined" !== typeof window.c2nodewebkit || /nodewebkit/i.test(navigator.userAgent);
            this.Do = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8);
            this.hu = !("undefined" === typeof window.c2isWindows8Capable || !window.c2isWindows8Capable);
            this.Tf = !("undefined" === typeof window.c2isWindowsPhone8 || !window.c2isWindowsPhone8);
            this.Zi = !("undefined" === typeof window.c2isWindowsPhone81 || !window.c2isWindowsPhone81);
            this.Il = this.Do || this.hu || this.Zi;
            this.$t = !("undefined" === typeof window.c2isBlackberry10 || !window.c2isBlackberry10);
            this.Yi = this.Xi && !this.Zg && !this.$g && !this.bu && !this.zo &&
                !this.Ga;
            this.devicePixelRatio = 1;
            this.sd = this.vc || this.$g || this.Sf || this.uc || this.Xi || this.cj || this.Tf || this.Zi || this.$t || this.Co || this.Lc;
            this.sd || (this.sd = /(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));
            "undefined" === typeof cr_is_preview || this.we || "?nw" !== window.location.search && !/nodewebkit/i.test(navigator.userAgent) || (this.we = !0);
            this.au = "undefined" !== typeof cr_is_preview && -1 < window.location.search.indexOf("debug");
            this.canvas =
                c;
            this.Nn = document.getElementById("c2canvasdiv");
            this.qa = this.C = this.A = null;
            this.el = "";
            this.Gi = !1;
            this.op = this.pp = 0;
            this.canvas.oncontextmenu = function(c) {
                c.preventDefault && c.preventDefault();
                return !1
            };
            this.canvas.onselectstart = function(c) {
                c.preventDefault && c.preventDefault();
                return !1
            };
            this.tb && (window.c2runtime = this);
            this.we && (window.ondragover = function(c) {
                c.preventDefault();
                return !1
            }, window.ondrop = function(c) {
                c.preventDefault();
                return !1
            }, require("nw.gui").App.clearCache());
            this.Yi && "undefined" !==
                typeof jQuery && jQuery("canvas").parents("*").css("overflow", "visible");
            this.width = c.width;
            this.height = c.height;
            this.T = this.width;
            this.S = this.height;
            this.ti = this.width;
            this.si = this.height;
            this.ih = window.innerWidth;
            this.hh = window.innerHeight;
            this.ht = !1;
            this.ra = !0;
            this.bh = !1;
            Date.now || (Date.now = function() {
                return +new Date
            });
            this.plugins = [];
            this.types = {};
            this.B = [];
            this.Ta = [];
            this.Rl = {};
            this.ad = [];
            this.Xk = {};
            this.Qd = [];
            this.Bg = [];
            this.mk = [];
            this.Ak = [];
            this.Ur = [];
            this.$p = null;
            this.Ue = {};
            this.El = this.ue = !1;
            this.Zc = 0;
            this.Gl = !1;
            this.Yc = [];
            this.Wd = this.Kb = this.lj = this.Fm = "";
            this.Uh = this.Yp = !1;
            this.Nk = this.wh = this.Od = this.We = 0;
            this.Af = 1;
            this.wc = new bb;
            this.Fd = new bb;
            this.gj = 0;
            this.ep = !0;
            this.uj = this.Ji = this.Ng = this.hd = this.nf = this.dl = 0;
            this.Se = null;
            this.Uk = [];
            this.Wk = [];
            this.Di = -1;
            this.Wl = [
                []
            ];
            this.Tm = this.qj = 0;
            this.Jj(null);
            this.Yl = [];
            this.rj = -1;
            this.jp = this.Ah = 0;
            this.Ql = !0;
            this.Og = 0;
            this.Vh = [];
            this.ik = this.Lj = -1;
            this.Yf = !0;
            this.dg = 0;
            this.ah = !1;
            this.lv = 0;
            this.Gf = null;
            this.Rt = !1;
            this.Nl = 0;
            this.rd = this.rl =
                this.vm = !1;
            this.np = new ca;
            this.im = new ca;
            this.jm = new ca;
            this.Nj = [];
            this.fd = new db([]);
            this.Pm = new db([]);
            this.me = [];
            this.Qi = {};
            this.If = {};
            this.Ff = {};
            this.Ag = {};
            this.Hn = {};
            this.Mo = this.kj = this.jc = this.xc = this.Lo = this.jj = this.ta = null;
            this.yg = this.Jl = !1;
            this.fl = [null, null];
            this.Ze = 0;
            this.al = "";
            this.Be = {};
            this.Wj = this.cg = null;
            this.tj = [];
            this.Su()
        }
    }

    function b(c) {
        c.target.result.createObjectStore("saves", {
            keyPath: "slot"
        })
    }

    function d(c, n, e, a) {
        var k = indexedDB.open("_C2SaveStates");
        k.onupgradeneeded = b;
        k.onerror =
            a;
        k.onsuccess = function(k) {
            k = k.target.result;
            k.onerror = a;
            k.transaction(["saves"], "readwrite").objectStore("saves").put({
                slot: c,
                data: n
            }).onsuccess = e
        }
    }

    function g(c, n, e) {
        var a = indexedDB.open("_C2SaveStates");
        a.onupgradeneeded = b;
        a.onerror = e;
        a.onsuccess = function(a) {
            a = a.target.result;
            a.onerror = e;
            var k = a.transaction(["saves"]).objectStore("saves").get(c);
            k.onsuccess = function() {
                k.result ? n(k.result.data) : n(null)
            }
        }
    }

    function v() {
        J("Reloading for continuous preview");
        window.c2cocoonjs ? CocoonJS.App.reload() : -1 <
            window.location.search.indexOf("continuous") ? window.location.reload(!0) : window.location += "?continuous"
    }

    function t(c) {
        var n, e = {};
        for (n in c) !c.hasOwnProperty(n) || c[n] instanceof ca || c[n] && "undefined" !== typeof c[n].Aw || (e[n] = c[n]);
        return e
    }
    a.prototype.Su = function() {
        var c = this,
            n;
        n = this.Tf ? new ActiveXObject("Microsoft.XMLHTTP") : new XMLHttpRequest;
        var e = "/assets/data.json";
        if (this.Do || this.Tf || this.Zi) e = "data.json";
        n.open("GET", e, !0);
        var a = !1;
        if (!this.Ga && "response" in n && "responseType" in n) try {
            n.responseType = "json",
                a = "json" === n.responseType
        } catch (k) {
            a = !1
        }
        if (!a && "responseType" in n) try {
            n.responseType = "text"
        } catch (h) {}
        if ("overrideMimeType" in n) try {
            n.overrideMimeType("application/json; charset=utf-8")
        } catch (b) {}
        this.Tf ? n.onreadystatechange = function() {
            4 === n.readyState && c.nj(JSON.parse(n.responseText))
        } : (n.onload = function() {
            if (a) c.nj(n.response);
            else if (c.Lc) {
                var e = n.responseText,
                    e = e.substr(e.indexOf("{"));
                c.nj(JSON.parse(e))
            } else c.nj(JSON.parse(n.responseText))
        }, n.onerror = function(c) {
            fa("Error requesting " + e + ":");
            fa(c)
        });
        n.send()
    };
    a.prototype.Xt = function() {
        var c = this,
            n, e, a, k, h, b, d, p, l;
        this.devicePixelRatio = (this.jf = (!this.Ga || this.Lc) && this.wv && !this.Yi) ? window.devicePixelRatio || window.webkitDevicePixelRatio || window.mozDevicePixelRatio || window.msDevicePixelRatio || 1 : 1;
        this.yb();
        e = !(!this.ht && (!this.Ck || this.we || this.Il || this.Tf || this.$g || this.vc || this.zo));
        0 < this.ec && this.setSize(f(), q(), !0);
        try {
            this.Es && (this.uc || this.Lc || !this.Ga) && (n = {
                    alpha: e,
                    depth: !1,
                    antialias: !1,
                    failIfMajorPerformanceCaveat: !0
                }, this.A =
                this.canvas.getContext("webgl", n) || this.canvas.getContext("experimental-webgl", n))
        } catch (m) {}
        if (this.A) {
            this.Ga || (this.ub = document.createElement("canvas"), jQuery(this.ub).appendTo(this.canvas.parentNode), this.ub.oncontextmenu = function() {
                return !1
            }, this.ub.onselectstart = function() {
                return !1
            }, this.ub.width = this.ti, this.ub.height = this.si, jQuery(this.ub).css({
                width: this.ti + "px",
                height: this.si + "px"
            }), this.Ip(), this.pm = this.ub.getContext("2d"));
            this.C = new lb(this.A, this.sd);
            this.C.rg(this.canvas.width, this.canvas.height);
            this.C.Vn = 0 !== this.zs;
            this.qa = null;
            this.canvas.addEventListener("webglcontextlost", function(n) {
                n.preventDefault();
                c.su();
                J("[Construct 2] WebGL context lost");
                window.cr_setSuspended(!0)
            }, !1);
            this.canvas.addEventListener("webglcontextrestored", function() {
                c.C.uo();
                c.C.rg(c.C.width, c.C.height, !0);
                c.xc = null;
                c.jc = null;
                c.fl[0] = null;
                c.fl[1] = null;
                c.tu();
                c.ra = !0;
                J("[Construct 2] WebGL context restored");
                window.cr_setSuspended(!1)
            }, !1);
            n = 0;
            for (e = this.B.length; n < e; n++)
                for (h = this.B[n], a = 0, k = h.N.length; a < k; a++) d =
                    h.N[a], d.wb = this.C.ml(d.id), this.yg = this.yg || this.C.Hh(d.wb);
            n = 0;
            for (e = this.ad.length; n < e; n++) {
                p = this.ad[n];
                a = 0;
                for (k = p.N.length; a < k; a++) d = p.N[a], d.wb = this.C.ml(d.id);
                a = 0;
                for (k = p.U.length; a < k; a++)
                    for (l = p.U[a], h = 0, b = l.N.length; h < b; h++) d = l.N[h], d.wb = this.C.ml(d.id), this.yg = this.yg || this.C.Hh(d.wb)
            }
        } else {
            if (0 < this.ec && this.tb) {
                this.canvas = null;
                document.oncontextmenu = function() {
                    return !1
                };
                document.onselectstart = function() {
                    return !1
                };
                this.qa = AppMobi.canvas.getContext("2d");
                try {
                    this.qa.samplingMode = this.ca ?
                        "smooth" : "sharp", this.qa.globalScale = 1, this.qa.HTML5CompatibilityMode = !0, this.qa.imageSmoothingEnabled = this.ca
                } catch (g) {}
                0 !== this.width && 0 !== this.height && (this.qa.width = this.width, this.qa.height = this.height)
            }
            this.qa || (n = this.uc ? {
                antialias: !!this.ca,
                alpha: e
            } : {
                alpha: e
            }, this.qa = this.canvas.getContext("2d", n), this.qa.webkitImageSmoothingEnabled = this.ca, this.qa.mozImageSmoothingEnabled = this.ca, this.qa.msImageSmoothingEnabled = this.ca, this.qa.imageSmoothingEnabled = this.ca);
            this.pm = this.ub = null
        }
        this.hk = function() {
            c.Ma(!1)
        };
        window == window.top || this.Ga || this.Il || this.Tf || (document.addEventListener("mousedown", function() {
            window.focus()
        }, !0), document.addEventListener("touchstart", function() {
            window.focus()
        }, !0));
        "undefined" !== typeof cr_is_preview && (this.uc && console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"), -1 < window.location.search.indexOf("continuous") && (J("Reloading for continuous preview"), this.lj = "__c2_continuouspreview", this.Uh = !0), this.Au && !this.sd && (jQuery(window).focus(function() {
                c.setSuspended(!1)
            }),
            jQuery(window).blur(function() {
                c.setSuspended(!0)
            })));
        this.Ga || (n = function(c) {
            if (kb(c) && document.activeElement && document.activeElement !== document.getElementsByTagName("body")[0] && document.activeElement.blur) try {
                document.activeElement.blur()
            } catch (n) {}
        }, window.navigator.pointerEnabled ? document.addEventListener("pointerdown", n) : window.navigator.msPointerEnabled ? document.addEventListener("MSPointerDown", n) : document.addEventListener("touchstart", n), document.addEventListener("mousedown", n));
        0 === this.ec &&
            this.jf && 1 < this.devicePixelRatio && this.setSize(this.hb, this.gb, !0);
        this.kq();
        this.Pt();
        this.go();
        this.ka = {}
    };
    a.prototype.setSize = function(c, n, e) {
        var a = 0,
            k = 0,
            h = 0,
            b = 0,
            b = 0,
            d = this.iu && this.Bo && !navigator.standalone && !this.Ga && !this.vc;
        d && (n += 60);
        if (this.ih !== c || this.hh !== n || e) {
            this.ih = c;
            this.hh = n;
            var p = this.ec,
                l = (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.ah) && !this.vc;
            if (l || 0 !== this.ec || e) l && 0 < this.Ze && (p = this.Ze), e = this.devicePixelRatio,
                4 <= p ? (h = this.hb / this.gb, c / n > h ? (h *= n, 5 === p ? (b = h * e / this.hb, 1 < b ? b = Math.floor(b) : 1 > b && (b = 1 / Math.ceil(1 / b)), h = this.hb * b / e, b = this.gb * b / e, a = (c - h) / 2, k = (n - b) / 2, c = h, n = b) : (a = (c - h) / 2, c = h)) : (b = c / h, 5 === p ? (b = b * e / this.gb, 1 < b ? b = Math.floor(b) : 1 > b && (b = 1 / Math.ceil(1 / b)), h = this.hb * b / e, b = this.gb * b / e, a = (c - h) / 2, k = (n - b) / 2, c = h) : k = (n - b) / 2, n = b), l && !this.we && (k = a = 0)) : this.we && this.ah && 0 === this.bo && (a = Math.floor((c - this.hb) / 2), k = Math.floor((n - this.gb) / 2), c = this.hb, n = this.gb), 2 > p && (this.Fg = e), this.jf && this.Fo && 1 < e && (1024 <= c && (c =
                    1023), 1024 <= n && (n = 1023)), this.ti = Math.round(c), this.si = Math.round(n), this.width = Math.round(c * e), this.height = Math.round(n * e), this.ra = !0, this.uq ? (this.T = this.width, this.S = this.height, this.Jc = !0) : this.width < this.hb && this.height < this.gb || 1 === p ? (this.T = this.width, this.S = this.height, this.Jc = !0) : (this.T = this.hb, this.S = this.gb, this.Jc = !1, 2 === p ? (h = this.hb / this.gb, p = this.ih / this.hh, p < h ? this.T = this.S * p : p > h && (this.S = this.T / p)) : 3 === p && (h = this.hb / this.gb, p = this.ih / this.hh, p > h ? this.T = this.S * p : p < h && (this.S = this.T /
                    p))), this.Nn && !this.Ga && (jQuery(this.Nn).css({
                    width: Math.round(c) + "px",
                    height: Math.round(n) + "px",
                    "margin-left": Math.floor(a) + "px",
                    "margin-top": Math.floor(k) + "px"
                }), "undefined" !== typeof cr_is_preview && jQuery("#borderwrap").css({
                    width: Math.round(c) + "px",
                    height: Math.round(n) + "px"
                })), this.canvas && (this.canvas.width = Math.round(c * e), this.canvas.height = Math.round(n * e), this.Lc ? (this.canvas.style.left = Math.floor(a) + "px", this.canvas.style.top = Math.floor(k) + "px", this.canvas.style.width = Math.round(c) + "px", this.canvas.style.height =
                    Math.round(n) + "px") : this.jf && !this.Ga && jQuery(this.canvas).css({
                    width: Math.round(c) + "px",
                    height: Math.round(n) + "px"
                })), this.ub && (this.ub.width = Math.round(c), this.ub.height = Math.round(n), jQuery(this.ub).css({
                    width: Math.round(c) + "px",
                    height: Math.round(n) + "px"
                })), this.C && this.C.rg(Math.round(c * e), Math.round(n * e)), this.tb && this.qa && (this.qa.width = Math.round(c), this.qa.height = Math.round(n)), this.qa && (this.qa.webkitImageSmoothingEnabled = this.ca, this.qa.mozImageSmoothingEnabled = this.ca, this.qa.msImageSmoothingEnabled =
                    this.ca, this.qa.imageSmoothingEnabled = this.ca), this.kq(), this.Ga || !d && !this.Ll || window.setTimeout(function() {
                    window.scrollTo(0, 60);
                }, 100)
        }
    };
    a.prototype.kq = function() {
        if (this.Wr && 0 !== this.nm) {
            var c = "portrait";
            2 === this.nm && (c = "landscape");
            screen.orientation && screen.orientation.lock ? screen.orientation.lock(c) : screen.lockOrientation ? screen.lockOrientation(c) : screen.webkitLockOrientation ? screen.webkitLockOrientation(c) : screen.mozLockOrientation ? screen.mozLockOrientation(c) : screen.msLockOrientation && screen.msLockOrientation(c)
        }
    };
    a.prototype.su = function() {
        this.C.es();
        this.Jl = !0;
        var c, n, e;
        c = 0;
        for (n = this.B.length; c < n; c++) e = this.B[c], e.Bh && e.Bh()
    };
    a.prototype.tu = function() {
        this.Jl = !1;
        var c, n, e;
        c = 0;
        for (n = this.B.length; c < n; c++) e = this.B[c], e.wj && e.wj()
    };
    a.prototype.Ip = function() {
        if (!this.Ga) {
            var c = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || document.msFullscreenElement || this.ah) && !this.vc ? jQuery(this.canvas).offset() : jQuery(this.canvas).position();
            c.position = "absolute";
            jQuery(this.ub).css(c)
        }
    };
    var u =
        window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame;
    a.prototype.setSuspended = function(c) {
        var n;
        if (c && !this.bh)
            for (J("[Construct 2] Suspending"), this.bh = !0, -1 !== this.Lj && u && u(this.Lj), -1 !== this.ik && clearTimeout(this.ik), c = 0, n = this.Vh.length; c < n; c++) this.Vh[c](!0);
        else if (!c && this.bh) {
            J("[Construct 2] Resuming");
            this.bh = !1;
            this.gj = Ya();
            this.nf = Ya();
            c = this.wh = this.Ji = 0;
            for (n = this.Vh.length; c < n; c++) this.Vh[c](!1);
            this.Ma(!1)
        }
    };
    a.prototype.Cn = function(c) {
        this.Vh.push(c)
    };
    a.prototype.ie = function(c) {
        return this.tj[c]
    };
    a.prototype.nj = function(c) {
        c && c.project || fa("Project model unavailable");
        c = c.project;
        this.name = c[0];
        this.ao = c[1];
        this.ec = c[12];
        this.bo = c[12];
        this.hb = c[10];
        this.gb = c[11];
        this.Cp = this.hb / 2;
        this.Dp = this.gb / 2;
        this.Ga && !this.Lc && (4 <= c[12] || 0 === c[12]) && (J("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"), this.bo = this.ec = 3);
        this.$m = c[18];
        this.ph = c[19];
        0 === this.ph && (this.cg = new Image, this.cg.src = "/assets/traffic/loading-logo.png");
        this.Ah = c[21];
        this.tj = jc();
        this.Bd = new X(this);
        var n, e, a, k, b, h, d, p, l;
        n = 0;
        for (e = c[2].length; n < e; n++) d = c[2][n], a = this.ie(d[0]), mb(d, a.prototype), l = new a(this), l.Uj = d[1], l.xe = d[2], l.hp = d[9], l.Y && l.Y(), this.plugins.push(l);
        this.tj = jc();
        n = 0;
        for (e = c[3].length; n < e; n++) {
            d = c[3][n];
            b = this.ie(d[1]);
            l = null;
            a = 0;
            for (k = this.plugins.length; a < k; a++)
                if (this.plugins[a] instanceof b) {
                    l = this.plugins[a];
                    break
                }
            var m = new l.Da(l);
            m.name = d[0];
            m.G =
                d[2];
            m.Cl = d[3].slice(0);
            m.yv = d[3].length;
            m.Xr = d[4];
            m.jt = d[5];
            m.Z = d[11];
            m.G ? (m.gg = [], m.Rd = this.Og++, m.Fa = null) : (m.gg = null, m.Rd = -1, m.Fa = []);
            m.Ei = null;
            m.Mf = null;
            m.Xn = null;
            m.hc = !1;
            m.cc = null;
            d[6] ? (m.dk = d[6][0], m.ek = d[6][1], m.Xh = d[6][2]) : (m.dk = null, m.ek = 0, m.Xh = 0);
            m.$b = d[7] ? d[7] : null;
            m.index = n;
            m.d = [];
            m.yi = [];
            m.Ke = [new nb(m)];
            m.Nd = 0;
            m.Hc = null;
            m.ls = 0;
            m.wg = !0;
            m.ok = ob;
            m.ot = pb;
            m.wt = qb;
            m.V = rb;
            m.Jh = tb;
            m.Kh = ub;
            m.De = vb;
            m.Li = wb;
            m.gl = xb;
            m.il = yb;
            m.Xc = zb;
            m.ko = Ab;
            m.Ig = new eb(this.hb, this.gb);
            m.ei = !0;
            m.fi = !1;
            m.ka = {};
            m.toString =
                Bb;
            m.Ta = [];
            a = 0;
            for (k = d[8].length; a < k; a++) {
                p = d[8][a];
                var g = this.ie(p[1]),
                    f = null;
                b = 0;
                for (h = this.Ta.length; b < h; b++)
                    if (this.Ta[b] instanceof g) {
                        f = this.Ta[b];
                        break
                    }
                f || (f = new g(this), f.gm = [], f.fm = new ca, f.Y && f.Y(), this.Ta.push(f), bc.kv && f instanceof bc.kv && (this.$p = f)); - 1 === f.gm.indexOf(m) && f.gm.push(m);
                b = new f.Da(f, m);
                b.name = p[0];
                b.Z = p[2];
                b.Y();
                m.Ta.push(b)
            }
            m.global = d[9];
            m.Fl = d[10];
            m.N = [];
            a = 0;
            for (k = d[12].length; a < k; a++) m.N.push({
                id: d[12][a][0],
                name: d[12][a][1],
                wb: -1,
                Ea: !0,
                index: a
            });
            m.Ow = d[13];
            this.$m &&
                !m.G && !m.Fl && l.xe || m.Y();
            m.name && (this.types[m.name] = m);
            this.B.push(m);
            l.Uj && (a = new l.ua(m), a.uid = this.Ah++, a.Lp = this.jp++, a.ef = 0, a.Tg = Cb, a.toString = Db, a.F = d[14], a.Y(), m.d.push(a), this.Be[a.uid.toString()] = a)
        }
        n = 0;
        for (e = c[4].length; n < e; n++)
            for (b = c[4][n], h = this.B[b[0]], a = 1, k = b.length; a < k; a++) d = this.B[b[a]], d.Fa.push(h), h.gg.push(d);
        n = 0;
        for (e = c[27].length; n < e; n++) {
            b = c[27][n];
            h = [];
            a = 0;
            for (k = b.length; a < k; a++) h.push(this.B[b[a]]);
            a = 0;
            for (k = h.length; a < k; a++) h[a].hc = !0, h[a].cc = h
        }
        if (0 < this.Og)
            for (n = 0, e = this.B.length; n <
                e; n++)
                if (d = this.B[n], !d.G && d.Fa.length) {
                    d.Ei = Array(this.Og);
                    d.Mf = Array(this.Og);
                    d.Xn = Array(this.Og);
                    m = [];
                    a = f = g = p = 0;
                    for (k = d.Fa.length; a < k; a++)
                        for (l = d.Fa[a], d.Ei[l.Rd] = p, p += l.yv, d.Mf[l.Rd] = g, g += l.Xr, d.Xn[l.Rd] = f, f += l.jt, b = 0, h = l.N.length; b < h; b++) m.push(ya({}, l.N[b]));
                    d.N = m.concat(d.N);
                    a = 0;
                    for (k = d.N.length; a < k; a++) d.N[a].index = a
                }
        n = 0;
        for (e = c[5].length; n < e; n++) d = c[5][n], a = new Eb(this, d), this.Rl[a.name] = a, this.ad.push(a);
        n = 0;
        for (e = c[6].length; n < e; n++) d = c[6][n], a = new Fb(this, d), this.Xk[a.name] = a, this.Qd.push(a);
        n = 0;
        for (e = this.Qd.length; n < e; n++) this.Qd[n].Sa();
        n = 0;
        for (e = this.Qd.length; n < e; n++) this.Qd[n].Vm();
        n = 0;
        for (e = this.mk.length; n < e; n++) this.mk[n].Sa();
        this.mk.length = 0;
        this.Vr = c[7];
        this.al = c[8];
        this.Rc = c[9];
        this.Fg = 1;
        this.Es = c[13];
        this.ca = c[14];
        this.Ck = c[15];
        this.wv = c[17];
        this.nm = c[20];
        this.Wr = 0 < this.nm;
        this.Au = c[22];
        this.Jc = this.uq = c[23];
        this.zs = c[24];
        this.Hu = c[25];
        this.Zj = Date.now();
        this.tj.length = 0;
        this.Xt()
    };
    var l = !1;
    a.prototype.dn = function(c, e) {
        c.cocoonLazyLoad = !0;
        c.onerror = function(e) {
            l = c.Jn = !0;
            console && console.error && console.error("Error loading image '" + c.src + "': ", e)
        };
        this.Lc ? c.src = e : c.src || ("undefined" !== typeof XAPKReader ? XAPKReader.get(e, function(e) {
            c.src = e
        }, function(a) {
            l = c.Jn = !0;
            console && console.error && console.error("Error extracting image '" + e + "' from expansion file: ", a)
        }) : c.src = e);
        this.Bg.push(c)
    };
    a.prototype.gt = function(c) {
        var e, a;
        e = 0;
        for (a = this.Bg.length; e < a; e++)
            if (this.Bg[e].gs === c) return this.Bg[e];
        return null
    };
    var e = 0,
        k = !1;
    a.prototype.Pt = function() {
        this.Gf && (e = this.Gf.gv(this.Vr))
    };
    a.prototype.Gn = function() {
        var c = e,
            a = 0,
            r = 0,
            b = !0,
            d, h, r = 0;
        for (d = this.Bg.length; r < d; r++) {
            h = this.Bg[r];
            var p = h.Ok;
            if (!p || 0 >= p) p = 5E4;
            c += p;
            h.src && (h.complete || h.loaded) && !h.Jn ? a += p : b = !1
        }
        b && this.Hu && this.Gf && (k || (this.Gf.nv(), k = !0), r = this.Gf.xt(), a += r, r < e && (b = !1));
        this.vf = 0 == c ? 0 : a / c;
        return b
    };
    a.prototype.go = function() {
        if (this.qa || this.C) {
            var c = this.qa || this.pm;
            this.ub && this.Ip();
            this.vf = 0;
            this.Ko = -1;
            if (this.Gn()) this.Qt();
            else {
                var e = Date.now() - this.Zj;
                if (c) {
                    var a = this.width,
                        k = this.height,
                        b = this.devicePixelRatio;
                    this.ub && (a = this.ti, k = this.si, b = 1);
                    if (3 !== this.ph && (this.uc || 500 <= e && this.Ko != this.vf)) {
                        c.clearRect(0, 0, a, k);
                        var e = a / 2,
                            k = k / 2,
                            a = 0 === this.ph && this.cg.complete,
                            d = 40 * b,
                            h = 0,
                            p = 80 * b,
                            m;
                        a && (p = this.cg.width * b, m = this.cg.height * b, d = p / 2, h = m / 2, c.drawImage(this.cg, T(e - d), T(k - h), p, m));
                        1 >= this.ph ? (e = T(e - d) + .5, k = T(k + (h + (a ? 12 * b : 0))) + .5, c.fillStyle = l ? "red" : "DodgerBlue", c.fillRect(e, k, Math.floor(p * this.vf), 6 * b), c.strokeStyle = "black", c.strokeRect(e, k, p, 6 * b), c.strokeStyle = "white", c.strokeRect(e - 1 * b, k - 1 * b, p + 2 * b, 8 * b)) : 2 ===
                            this.ph && (c.font = this.Lc ? "12pt ArialMT" : "12pt Arial", c.fillStyle = l ? "#f00" : "#999", c.Nw = "middle", b = Math.round(100 * this.vf) + "%", a = c.measureText ? c.measureText(b) : null, c.fillText(b, e - (a ? a.width : 0) / 2, k))
                    }
                    this.Ko = this.vf
                }
                setTimeout(function(c) {
                    return function() {
                        c.go()
                    }
                }(this), this.uc ? 10 : 100)
            }
        }
    };
    a.prototype.Qt = function() {
        this.ub && (this.canvas.parentNode.removeChild(this.ub), this.ub = this.pm = null);
        this.Zj = Date.now();
        this.nf = Ya();
        var c, e, a;
        if (this.$m)
            for (c = 0, e = this.B.length; c < e; c++) a = this.B[c], a.G || a.Fl || !a.Aa.xe ||
                a.Y();
        else this.Yf = !1;
        c = 0;
        for (e = this.ad.length; c < e; c++) this.ad[c].hs();
        2 <= this.ec && (c = this.hb / this.gb, e = this.width / this.height, this.Fg = 2 !== this.ec && e > c || 2 === this.ec && e < c ? this.height / this.gb : this.width / this.hb);
        this.ao ? this.Rl[this.ao].Nm() : this.ad[0].Nm();
        this.$m || (this.dg = 1, this.trigger(X.prototype.n.nn, null));
        navigator.splashscreen && navigator.splashscreen.hide && navigator.splashscreen.hide();
        c = 0;
        for (e = this.B.length; c < e; c++) a = this.B[c], a.ru && a.ru();
        document.hidden || document.webkitHidden || document.mozHidden ||
            document.msHidden ? window.cr_setSuspended(!0) : this.Ma(!1);
        this.tb && AppMobi.webview.execute("onGameReady();")
    };
    var s = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;
    a.prototype.Ma = function(c) {
        if (this.ta) {
            var e = Ya();
            if (this.Rt && this.vm && 29 > e - this.Nl) this.vm = !1, this.Nl = e, s ? this.Lj = s(this.hk, this.canvas) : this.ik = setTimeout(this.hk, this.sd ? 1 : 16);
            else {
                this.vm = !0;
                this.Nl = e;
                var a = this.ec,
                    k = (document.mozFullScreen ||
                        document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement) && !this.vc;
                (k || this.ah) && 0 < this.Ze && (a = this.Ze);
                0 < a && (!this.cj || window.self !== window.top) && (a = window.innerHeight, this.ih === window.innerWidth && this.hh === a || this.setSize(f(), q()));
                this.Ga || (k ? (this.Gi || (this.el = jQuery(this.canvas).css("margin") || "0", this.Gi = !0), this.Zg || this.we || jQuery(this.canvas).css({
                    "margin-left": "" + Math.floor((screen.width - this.width / this.devicePixelRatio) / 2) + "px",
                    "margin-top": "" + Math.floor((screen.height -
                        this.height / this.devicePixelRatio) / 2) + "px"
                })) : this.Gi ? (this.Zg || this.we || jQuery(this.canvas).css("margin", this.el), this.el = "", this.Gi = !1, 0 === this.ec && this.setSize(Math.round(this.pp / this.devicePixelRatio), Math.round(this.op / this.devicePixelRatio), !0)) : (this.pp = this.width, this.op = this.height));
                this.Yf && (k = this.Gn(), this.dg = this.vf, k && (this.Yf = !1, this.vf = 1, this.trigger(X.prototype.n.nn, null)));
                this.lu();
                !this.ra && !this.uc || this.Jl || this.Uh || c || (this.ra = !1, this.C ? this.Ob() : this.qc(), this.Wj && (this.canvas &&
                    this.canvas.toDataURL && (this.canvas.toDataURL(this.Wj[0], this.Wj[1]), this.trigger(X.prototype.n.Tq, null)), this.Wj = null));
                this.Hw || (this.hd++, this.Ng++, this.Ji++);
                this.wh += Ya() - e;
                this.bh || c || (s ? this.Lj = s(this.hk, this.canvas) : this.ik = setTimeout(this.hk, this.sd ? 1 : 16))
            }
        }
    };
    a.prototype.lu = function() {
        var c, e, a, k, b, d, h, p, m;
        c = Ya();
        1E3 <= c - this.nf && (this.nf += 1E3, 1E3 <= c - this.nf && (this.nf = c), this.dl = this.Ji, this.Ji = 0, this.Nk = this.wh, this.wh = 0);
        this.ep && (0 !== this.gj && (e = c - this.gj, 0 !== e || this.au ? (this.Od = e / 1E3,
            .5 < this.Od ? this.Od = 0 : .1 < this.Od && (this.Od = .1)) : (10 <= this.Qw && (this.ep = !1), this.Od = 1 / 60)), this.gj = c);
        this.We = this.Od * this.Af;
        this.wc.add(this.We);
        this.Fd.add(this.Od);
        c = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement || this.ah) && !this.vc;
        2 <= this.ec || c && 0 < this.Ze ? (e = this.hb / this.gb, a = this.width / this.height, k = this.ec, c && 0 < this.Ze && (k = this.Ze), this.Fg = 2 !== k && a > e || 2 === k && a < e ? this.height / this.gb : this.width / this.hb, this.ta && (this.ta.Pp(this.ta.scrollX),
            this.ta.Qp(this.ta.scrollY))) : this.Fg = this.jf ? this.devicePixelRatio : 1;
        this.yb();
        this.Zc++;
        this.Bd.Vu();
        this.Zc--;
        this.yb();
        this.Zc++;
        a = this.np.Ne();
        c = 0;
        for (e = a.length; c < e; c++) a[c].Jw();
        c = 0;
        for (e = this.B.length; c < e; c++)
            if (h = this.B[c], !h.G && (h.Ta.length || h.Fa.length))
                for (a = 0, k = h.d.length; a < k; a++)
                    for (p = h.d[a], b = 0, d = p.R.length; b < d; b++) p.R[b].Ma();
        c = 0;
        for (e = this.B.length; c < e; c++)
            if (h = this.B[c], !h.G && (h.Ta.length || h.Fa.length))
                for (a = 0, k = h.d.length; a < k; a++)
                    for (p = h.d[a], b = 0, d = p.R.length; b < d; b++) m = p.R[b], m.Gu &&
                        m.Gu();
        a = this.im.Ne();
        c = 0;
        for (e = a.length; c < e; c++) a[c].Ma();
        this.Zc--;
        this.St();
        for (c = 0; this.Se && 10 > c++;) this.Un(this.Se);
        c = 0;
        for (e = this.Qd.length; c < e; c++) this.Qd[c].tl = !1;
        this.ta.Xe && this.ta.Xe.ab();
        this.Nj.length = 0;
        this.Ql = !1;
        this.Zc++;
        c = 0;
        for (e = this.B.length; c < e; c++)
            if (h = this.B[c], !h.G && (h.Ta.length || h.Fa.length))
                for (a = 0, k = h.d.length; a < k; a++)
                    for (p = h.d[a], b = 0, d = p.R.length; b < d; b++) m = p.R[b], m.gk && m.gk();
        a = this.jm.Ne();
        c = 0;
        for (e = a.length; c < e; c++) a[c].gk();
        this.Zc--
    };
    a.prototype.Un = function(c) {
        var e =
            this.ta;
        this.ta.ov();
        var a, k, b, h, d, p, m;
        if (this.C)
            for (a = 0, k = this.B.length; a < k; a++) d = this.B[a], d.G || !d.nk || d.global && 0 !== d.d.length || -1 !== c.Xg.indexOf(d) || d.nk();
        e == c && (this.Bd.Yb.length = 0);
        c.Nm();
        a = 0;
        for (k = this.B.length; a < k; a++)
            if (d = this.B[a], d.global || d.Aa.Uj)
                for (c = 0, e = d.d.length; c < e; c++)
                    if (p = d.d[c], p.lm && p.lm(), p.R)
                        for (b = 0, h = p.R.length; b < h; b++) m = p.R[b], m.lm && m.lm();
        this.Ql = this.ra = !0;
        this.yb()
    };
    a.prototype.Yh = function(c) {
        this.im.add(c)
    };
    a.prototype.pv = function(c) {
        this.jm.add(c)
    };
    a.prototype.Qg = function(c) {
        return c &&
            -1 !== c.zh ? this.Od * c.zh : this.We
    };
    a.prototype.qc = function() {
        this.ta.qc(this.qa);
        this.tb && this.qa.present()
    };
    a.prototype.Ob = function() {
        this.ta.Ob(this.C);
        this.C.Ju()
    };
    a.prototype.An = function(c) {
        c && this.Uk.push(c)
    };
    a.prototype.Oi = function(c) {
        c = c.toString();
        return this.Be.hasOwnProperty(c) ? this.Be[c] : null
    };
    var m = [];
    a.prototype.he = function(c) {
        var e, a;
        e = c.type.name;
        var k = null;
        if (this.Ue.hasOwnProperty(e)) {
            if (k = this.Ue[e], k.contains(c)) return
        } else k = m.length ? m.pop() : new ca, this.Ue[e] = k;
        k.add(c);
        this.ue = !0;
        if (c.hc)
            for (e = 0, a = c.siblings.length; e < a; e++) this.he(c.siblings[e]);
        this.El && k.zg.push(c);
        this.Zc++;
        this.trigger(Object.getPrototypeOf(c.type.Aa).n.Vq, c);
        this.Zc--
    };
    a.prototype.yb = function() {
        if (this.ue) {
            var c, e, a, k, b, d;
            this.El = !0;
            a = 0;
            for (b = this.Yc.length; a < b; ++a)
                for (c = this.Yc[a], e = c.type, e.d.push(c), k = 0, d = e.Fa.length; k < d; ++k) e.Fa[k].d.push(c), e.Fa[k].wg = !0;
            this.Yc.length = 0;
            this.Mq();
            Xa(this.Ue);
            this.ue = this.El = !1
        }
    };
    a.prototype.Mq = function() {
        for (var c in this.Ue) this.Ue.hasOwnProperty(c) && this.yq(this.Ue[c])
    };
    a.prototype.yq = function(c) {
        var e = c.Ne(),
            a = e[0].type,
            k, b, d, h, p, l;
        Za(a.d, c);
        a.wg = !0;
        0 === a.d.length && (a.fi = !1);
        k = 0;
        for (b = a.Fa.length; k < b; ++k) l = a.Fa[k], Za(l.d, c), l.wg = !0;
        k = 0;
        for (b = this.Bd.Yb.length; k < b; ++k)
            if (p = this.Bd.Yb[k], p.Mb.hasOwnProperty(a.index) && Za(p.Mb[a.index].Ud, c), !a.G)
                for (d = 0, h = a.Fa.length; d < h; ++d) l = a.Fa[d], p.Mb.hasOwnProperty(l.index) && Za(p.Mb[l.index].Ud, c);
        if (p = e[0].m) {
            if (p.jd)
                for (d = p.d, k = 0, b = d.length; k < b; ++k) h = d[k], c.contains(h) && (h.ya(), p.mc.update(h, h.Ub, null), h.Ub.set(0, 0, -1, -1));
            Za(p.d, c);
            p.Qh(0)
        }
        for (k = 0; k < e.length; ++k) this.xq(e[k], a);
        c.clear();
        m.push(c);
        this.ra = !0
    };
    a.prototype.xq = function(c, e) {
        var a, k, b;
        a = 0;
        for (k = this.Uk.length; a < k; ++a) this.Uk[a](c);
        c.Cc && e.Ig.update(c, c.Cc, null);
        (a = c.m) && a.pg(c, !0);
        if (c.R)
            for (a = 0, k = c.R.length; a < k; ++a) b = c.R[a], b.lg && b.lg(), b.behavior.fm.remove(c);
        this.np.remove(c);
        this.im.remove(c);
        this.jm.remove(c);
        c.lg && c.lg();
        this.Be.hasOwnProperty(c.uid.toString()) && delete this.Be[c.uid.toString()];
        this.uj--;
        100 > e.yi.length && e.yi.push(c)
    };
    a.prototype.Qn =
        function(c, e, a, k) {
            if (c.G) {
                var b = T(Math.random() * c.gg.length);
                return this.Qn(c.gg[b], e, a, k)
            }
            return c.Hc ? this.qe(c.Hc, e, !1, a, k, !1) : null
        };
    var z = [];
    a.prototype.qe = function(c, e, a, k, b, d) {
        var h, p, m, l;
        if (!c) return null;
        var g = this.B[c[1]],
            f = g.Aa.xe;
        if (this.Yf && f && !g.Fl || f && !this.C && 11 === c[0][11]) return null;
        var E = e;
        f || (e = null);
        var s;
        g.yi.length ? (s = g.yi.pop(), s.zc = !0, g.Aa.ua.call(s, g)) : (s = new g.Aa.ua(g), s.zc = !1);
        s.uid = a && !d ? c[2] : this.Ah++;
        this.Be[s.uid.toString()] = s;
        s.Lp = this.jp++;
        s.ef = g.d.length;
        h = 0;
        for (p =
            this.Yc.length; h < p; ++h) this.Yc[h].type === g && s.ef++;
        s.Tg = Cb;
        s.toString = Db;
        m = c[3];
        if (s.zc) Xa(s.ka);
        else {
            s.ka = {};
            if ("undefined" !== typeof cr_is_preview)
                for (s.xo = [], s.xo.length = m.length, h = 0, p = m.length; h < p; h++) s.xo[h] = m[h][1];
            s.fb = [];
            s.fb.length = m.length
        }
        h = 0;
        for (p = m.length; h < p; h++) s.fb[h] = m[h][0];
        if (f) {
            var q = c[0];
            s.x = ga(k) ? q[0] : k;
            s.y = ga(b) ? q[1] : b;
            s.z = q[2];
            s.width = q[3];
            s.height = q[4];
            s.depth = q[5];
            s.k = q[6];
            s.opacity = q[7];
            s.Qb = q[8];
            s.Rb = q[9];
            s.Nb = q[10];
            h = q[11];
            !this.C && g.N.length && (s.Nb = h);
            s.Jg = gb(s.Nb);
            this.A &&
                hb(s, s.Nb, this.A);
            if (s.zc) {
                h = 0;
                for (p = q[12].length; h < p; h++)
                    for (m = 0, l = q[12][h].length; m < l; m++) s.La[h][m] = q[12][h][m];
                s.za.set(0, 0, 0, 0);
                s.Cc.set(0, 0, -1, -1);
                s.Ub.set(0, 0, -1, -1);
                s.Bb.tg(s.za);
                s.Fk.length = 0
            } else {
                s.La = q[12].slice(0);
                h = 0;
                for (p = s.La.length; h < p; h++) s.La[h] = q[12][h].slice(0);
                s.fa = [];
                s.ke = [];
                s.ke.length = g.N.length;
                s.za = new U(0, 0, 0, 0);
                s.Cc = new U(0, 0, -1, -1);
                s.Ub = new U(0, 0, -1, -1);
                s.Bb = new xa;
                s.Fk = [];
                s.K = Gb;
                s.Tr = Hb;
                s.Ib = Ib;
                s.ya = Jb;
                s.vv = Kb;
                s.Zm = Lb;
                s.qd = Mb
            }
            s.Zh = !1;
            s.sv = 0;
            s.rv = 0;
            s.qv = null;
            14 === q.length &&
                (s.Zh = !0, s.sv = q[13][0], s.rv = q[13][1], s.qv = q[13][2]);
            h = 0;
            for (p = g.N.length; h < p; h++) s.ke[h] = !0;
            s.ee = Nb;
            s.ee();
            s.tq = !!s.fa.length;
            s.ki = !0;
            s.Hk = !0;
            g.ei = !0;
            s.visible = !0;
            s.zh = -1;
            s.m = e;
            s.kd = e.d.length;
            "undefined" === typeof s.ga && (s.ga = null);
            this.ra = s.Dc = !0
        }
        var x;
        h = z.length = 0;
        for (p = g.Fa.length; h < p; h++) z.push.apply(z, g.Fa[h].Ta);
        z.push.apply(z, g.Ta);
        if (s.zc)
            for (h = 0, p = z.length; h < p; h++) {
                var u = z[h];
                x = s.R[h];
                x.zc = !0;
                u.behavior.ua.call(x, u, s);
                q = c[4][h];
                m = 0;
                for (l = q.length; m < l; m++) x.F[m] = q[m];
                x.Y();
                u.behavior.fm.add(s)
            } else
                for (s.R = [], h = 0, p = z.length; h < p; h++) u = z[h], x = new u.behavior.ua(u, s), x.zc = !1, x.F = c[4][h].slice(0), x.Y(), s.R.push(x), u.behavior.fm.add(s);
        q = c[5];
        if (s.zc)
            for (h = 0, p = q.length; h < p; h++) s.F[h] = q[h];
        else s.F = q.slice(0);
        this.Yc.push(s);
        this.ue = !0;
        e && (e.Eg(s, !0), 1 !== e.Pc || 1 !== e.Qc) && (g.fi = !0);
        this.uj++;
        if (g.hc) {
            if (s.hc = !0, s.zc ? s.siblings.length = 0 : s.siblings = [], !a && !d) {
                h = 0;
                for (p = g.cc.length; h < p; h++)
                    if (g.cc[h] !== g) {
                        if (!g.cc[h].Hc) return null;
                        s.siblings.push(this.qe(g.cc[h].Hc, E, !1, f ? s.x : k, f ? s.y : b, !0))
                    }
                h = 0;
                for (p = s.siblings.length; h <
                    p; h++)
                    for (s.siblings[h].siblings.push(s), m = 0; m < p; m++) h !== m && s.siblings[h].siblings.push(s.siblings[m])
            }
        } else s.hc = !1, s.siblings = null;
        s.Y();
        h = 0;
        for (p = s.R.length; h < p; h++) s.R[h].Fu && s.R[h].Fu();
        return s
    };
    a.prototype.kl = function(c) {
        var e, a;
        e = 0;
        for (a = this.ta.U.length; e < a; e++) {
            var k = this.ta.U[e];
            if (jb(k.name, c)) return k
        }
        return null
    };
    a.prototype.Rg = function(c) {
        c = T(c);
        0 > c && (c = 0);
        c >= this.ta.U.length && (c = this.ta.U.length - 1);
        return this.ta.U[c]
    };
    a.prototype.Lk = function(c) {
        var e, a;
        e = 0;
        for (a = c.length; e < a; e++) c[e].V().da = !0
    };
    a.prototype.Jh = function(c) {
        var e, a;
        e = 0;
        for (a = c.length; e < a; e++) c[e].Jh()
    };
    a.prototype.Kh = function(c) {
        var e, a;
        e = 0;
        for (a = c.length; e < a; e++) c[e].Kh()
    };
    a.prototype.De = function(c) {
        var e, a;
        e = 0;
        for (a = c.length; e < a; e++) c[e].De()
    };
    a.prototype.qq = function(c) {
        if (c.ei) {
            var e, a, k = c.d;
            e = 0;
            for (a = k.length; e < a; ++e) k[e].Zm();
            k = this.Yc;
            e = 0;
            for (a = k.length; e < a; ++e) k[e].type === c && k[e].Zm();
            c.ei = !1
        }
    };
    a.prototype.fo = function(c, e, a, k) {
        var h, b, d = c ? 1 !== c.Pc || 1 !== c.Qc : !1;
        if (e.G)
            for (c = 0, h = e.gg.length; c < h; ++c) b = e.gg[c], d || b.fi ?
                Ca(k, b.d) : (this.qq(b), b.Ig.Kj(a, k));
        else d || e.fi ? Ca(k, e.d) : (this.qq(e), e.Ig.Kj(a, k))
    };
    a.prototype.Ct = function(c, e, a, k) {
        var h, b;
        h = 0;
        for (b = e.length; h < b; ++h) this.fo(c, e[h], a, k)
    };
    a.prototype.Bt = function(c, e, a) {
        var k = this.$p;
        k && this.Ct(c, k.gm, e, a)
    };
    a.prototype.ck = function(c, e, a) {
        var k = c.V(),
            h, b, d, p, m, l;
        if (k.da)
            for (k.da = !1, h = k.d.length = 0, p = c.d.length; h < p; h++) d = c.d[h], d.ya(), m = d.m.ac(e, a, !0), l = d.m.ac(e, a, !1), d.Ib(m, l) && k.d.push(d);
        else {
            h = b = 0;
            for (p = k.d.length; h < p; h++) d = k.d[h], d.ya(), m = d.m.ac(e, a, !0), l = d.m.ac(e,
                a, !1), d.Ib(m, l) && (k.d[b] = k.d[h], b++);
            k.d.length = b
        }
        c.Xc();
        return k.sl()
    };
    a.prototype.xf = function(c, e) {
        if (!(c && e && c !== e && c.Dc && e.Dc)) return !1;
        c.ya();
        e.ya();
        var a = c.m,
            k = e.m,
            h, b, d, p, m, l, s, g;
        if (a === k || a.Pc === k.Pc && k.Qc === k.Qc && a.scale === k.scale && a.k === k.k && a.ld === k.ld) {
            if (!c.za.Yt(e.za) || !c.Bb.yo(e.Bb) || c.Zh && e.Zh) return !1;
            if (c.Zh) return this.cq(c, e);
            if (e.Zh) return this.cq(e, c);
            s = c.ga && !c.ga.Uf();
            h = e.ga && !e.ga.Uf();
            if (!s && !h) return !0;
            s ? (c.ga.Hf(c.width, c.height, c.k), s = c.ga) : (this.fd.sg(c.Bb, c.x, c.y, c.width,
                c.height), s = this.fd);
            h ? (e.ga.Hf(e.width, e.height, e.k), g = e.ga) : (this.fd.sg(e.Bb, e.x, e.y, e.width, e.height), g = this.fd);
            return s.Yg(g, e.x - c.x, e.y - c.y)
        }
        s = c.ga && !c.ga.Uf();
        h = e.ga && !e.ga.Uf();
        s ? (c.ga.Hf(c.width, c.height, c.k), this.fd.Tp(c.ga)) : this.fd.sg(c.Bb, c.x, c.y, c.width, c.height);
        s = this.fd;
        h ? (e.ga.Hf(e.width, e.height, e.k), this.Pm.Tp(e.ga)) : this.Pm.sg(e.Bb, e.x, e.y, e.width, e.height);
        g = this.Pm;
        h = 0;
        for (b = s.dd; h < b; h++) d = 2 * h, p = d + 1, m = s.ib[d], l = s.ib[p], s.ib[d] = a.Ha(m + c.x, l + c.y, !0), s.ib[p] = a.Ha(m + c.x, l + c.y, !1);
        s.ya();
        h = 0;
        for (b = g.dd; h < b; h++) d = 2 * h, p = d + 1, m = g.ib[d], l = g.ib[p], g.ib[d] = k.Ha(m + e.x, l + e.y, !0), g.ib[p] = k.Ha(m + e.x, l + e.y, !1);
        g.ya();
        return s.Yg(g, 0, 0)
    };
    var x = new xa;
    new U(0, 0, 0, 0);
    var p = [];
    a.prototype.cq = function(c, e) {
        var a, k, h, b, d = e.za,
            m = c.x,
            l = c.y;
        c.Dw(d, p);
        var s = e.ga && !e.ga.Uf();
        a = 0;
        for (k = p.length; a < k; ++a)
            if (h = p[a], b = h.Kw, d.Zt(b, m, l) && (x.tg(b), x.offset(m, l), x.yo(e.Bb)))
                if (s)
                    if (e.ga.Hf(e.width, e.height, e.k), h.rm) {
                        if (h.rm.Yg(e.ga, e.x - (m + b.left), e.y - (l + b.top))) return p.length = 0, !0
                    } else {
                        if (this.fd.sg(x,
                                0, 0, b.right - b.left, b.bottom - b.top), this.fd.Yg(e.ga, e.x, e.y)) return p.length = 0, !0
                    } else if (h.rm) {
            if (this.fd.sg(e.Bb, 0, 0, e.width, e.height), h.rm.Yg(this.fd, -(m + b.left), -(l + b.top))) return p.length = 0, !0
        } else return p.length = 0, !0;
        p.length = 0;
        return !1
    };
    a.prototype.lq = function(c, e) {
        if (!e) return !1;
        var a, k, h, b, d;
        a = 0;
        for (k = c.Ta.length; a < k; a++)
            if (c.Ta[a].behavior instanceof e) return !0;
        if (!c.G)
            for (a = 0, k = c.Fa.length; a < k; a++)
                for (d = c.Fa[a], h = 0, b = d.Ta.length; h < b; h++)
                    if (d.Ta[h].behavior instanceof e) return !0;
        return !1
    };
    a.prototype.mq = function(c) {
        return this.lq(c, bc.Zv)
    };
    a.prototype.Um = function(c) {
        return this.lq(c, bc.$v)
    };
    var h = [];
    a.prototype.yf = function(c) {
        var e, a, k;
        c.ya();
        this.Bt(c.m, c.za, h);
        e = 0;
        for (a = h.length; e < a; ++e)
            if (k = h[e], k.ka.solidEnabled && this.xf(c, k)) return h.length = 0, k;
        h.length = 0;
        return null
    };
    a.prototype.Ou = function(c, e, a, k) {
        k = k || 50;
        var h = c.x,
            b = c.y,
            d, p = null,
            m = null;
        for (d = 0; d < k; d++)
            if (c.x = h + e * d, c.y = b + a * d, c.K(), !this.xf(c, p) && ((p = this.yf(c)) && (m = p), !p && !p)) return m && this.Lu(c, e, a, m), !0;
        c.x = h;
        c.y = b;
        c.K();
        return !1
    };
    a.prototype.Lu = function(c, e, a, k) {
        var h = 2,
            b, d = !1;
        b = !1;
        for (var p = c.x, m = c.y; 16 >= h;) b = 1 / h, h *= 2, c.x += e * b * (d ? 1 : -1), c.y += a * b * (d ? 1 : -1), c.K(), this.xf(c, k) ? b = d = !0 : (b = d = !1, p = c.x, m = c.y);
        b && (c.x = p, c.y = m, c.K())
    };
    a.prototype.Pu = function(c) {
        var e = 0,
            a = c.x,
            k = c.y,
            h = 0,
            b = 0,
            d = 0,
            p = this.yf(c);
        if (p) {
            for (; 100 >= e;) {
                switch (h) {
                    case 0:
                        b = 0;
                        d = -1;
                        e++;
                        break;
                    case 1:
                        b = 1;
                        d = -1;
                        break;
                    case 2:
                        b = 1;
                        d = 0;
                        break;
                    case 3:
                        d = b = 1;
                        break;
                    case 4:
                        b = 0;
                        d = 1;
                        break;
                    case 5:
                        b = -1;
                        d = 1;
                        break;
                    case 6:
                        b = -1;
                        d = 0;
                        break;
                    case 7:
                        d = b = -1
                }
                h = (h + 1) % 8;
                c.x = T(a + b * e);
                c.y =
                    T(k + d * e);
                c.K();
                if (!this.xf(c, p) && (p = this.yf(c), !p)) return
            }
            c.x = a;
            c.y = k;
            c.K()
        }
    };
    a.prototype.Ru = function(c, e) {
        c.Dc && e.Dc && this.Nj.push([c, e])
    };
    a.prototype.cs = function(c, e) {
        var a, k, h;
        a = 0;
        for (k = this.Nj.length; a < k; a++)
            if (h = this.Nj[a], h[0] == c && h[1] == e || h[0] == e && h[1] == c) return !0;
        return !1
    };
    a.prototype.as = function(c, e, a) {
        var k = c.x,
            h = c.y,
            b = pa(10, Ua(e, a, k, h)),
            d = La(e, a, k, h),
            p = this.yf(c);
        if (!p) return Ia(d + ra);
        var m = p,
            l, s, g, f, E = V(5);
        for (l = 1; 36 > l; l++)
            if (s = d - l * E, c.x = e + Math.cos(s) * b, c.y = a + Math.sin(s) * b, c.K(), !this.xf(c,
                    m) && (m = this.yf(c), !m)) {
                g = s;
                break
            }
        36 === l && (g = Ia(d + ra));
        m = p;
        for (l = 1; 36 > l; l++)
            if (s = d + l * E, c.x = e + Math.cos(s) * b, c.y = a + Math.sin(s) * b, c.K(), !this.xf(c, m) && (m = this.yf(c), !m)) {
                f = s;
                break
            }
        36 === l && (f = Ia(d + ra));
        c.x = k;
        c.y = h;
        c.K();
        if (f === g) return f;
        c = Ma(f, g) / 2;
        c = Sa(f, g) ? Ia(g + c + ra) : Ia(f + c);
        g = Math.cos(d);
        d = Math.sin(d);
        f = Math.cos(c);
        c = Math.sin(c);
        e = g * f + d * c;
        return La(0, 0, g - 2 * e * f, d - 2 * e * c)
    };
    var E = -1;
    a.prototype.trigger = function(c, e, a) {
        if (!this.ta) return !1;
        var k = this.ta.Xe;
        if (!k) return !1;
        var h = !1,
            b, d, p;
        E++;
        var m = k.Sk;
        d =
            0;
        for (p = m.length; d < p; ++d) b = this.iq(c, e, m[d], a), h = h || b;
        b = this.iq(c, e, k, a);
        E--;
        return h || b
    };
    a.prototype.iq = function(c, e, a, k) {
        var h = !1,
            b, d, p, m;
        if (e)
            for (p = this.Sm(c, e, e.type.name, a, k), h = h || p, m = e.type.Fa, b = 0, d = m.length; b < d; ++b) p = this.Sm(c, e, m[b].name, a, k), h = h || p;
        else p = this.Sm(c, e, "system", a, k), h = h || p;
        return h
    };
    a.prototype.Sm = function(c, e, a, k, h) {
        var b, d = !1,
            p = !1,
            p = "undefined" !== typeof h,
            m = (p ? k.Zn : k.jq)[a];
        if (!m) return d;
        var l = null;
        k = 0;
        for (b = m.length; k < b; ++k)
            if (m[k].method == c) {
                l = m[k].Mg;
                break
            }
        if (!l) return d;
        c = p ? l[h] : l;
        if (!c) return null;
        k = 0;
        for (b = c.length; k < b; k++) h = c[k][0], p = c[k][1], p = this.dt(e, a, h, p), d = d || p;
        return d
    };
    a.prototype.dt = function(c, e, a, k) {
        var h, b, d = !1;
        this.Tm++;
        var p = this.sb().qb;
        p && this.Jh(p.Ie);
        var m = 1 < this.Tm;
        this.Jh(a.Ie);
        m && this.Mu();
        var l = this.Jj(a);
        l.qb = a;
        c && (h = this.types[e].V(), h.da = !1, h.d.length = 1, h.d[0] = c, this.types[e].Xc());
        c = !0;
        if (a.parent) {
            e = l.bq;
            for (h = a.parent; h;) e.push(h), h = h.parent;
            e.reverse();
            h = 0;
            for (b = e.length; h < b; h++)
                if (!e[h].Xu()) {
                    c = !1;
                    break
                }
        }
        c && (this.Ng++, a.bd ? a.Wu(k) :
            a.ab(), d = d || l.mf);
        this.Ej();
        m && this.Du();
        this.De(a.Ie);
        p && this.De(p.Ie);
        this.ue && 0 === this.Zc && 0 === E && !this.Gl && this.yb();
        this.Tm--;
        return d
    };
    a.prototype.Mi = function() {
        var c = this.sb();
        return c.qb.bb[c.Ua]
    };
    a.prototype.Mu = function() {
        this.qj++;
        this.qj >= this.Wl.length && this.Wl.push([])
    };
    a.prototype.Du = function() {
        this.qj--
    };
    a.prototype.ho = function() {
        return this.Wl[this.qj]
    };
    a.prototype.Jj = function(c) {
        this.Di++;
        this.Di >= this.Wk.length && this.Wk.push(new Ob);
        var e = this.sb();
        e.reset(c);
        return e
    };
    a.prototype.Ej =
        function() {
            this.Di--
        };
    a.prototype.sb = function() {
        return this.Wk[this.Di]
    };
    a.prototype.Nu = function() {
        this.rj++;
        this.rj >= this.Yl.length && this.Yl.push(aa({
            name: void 0,
            index: 0,
            xb: !1
        }));
        var c = this.nt();
        c.name = void 0;
        c.index = 0;
        c.xb = !1;
        return c
    };
    a.prototype.Eu = function() {
        this.rj--
    };
    a.prototype.nt = function() {
        return this.Yl[this.rj]
    };
    a.prototype.jo = function(c, e) {
        for (var a, k, h, b, d, p; e;) {
            a = 0;
            for (k = e.Tc.length; a < k; a++)
                if (p = e.Tc[a], p instanceof Pb && jb(c, p.name)) return p;
            e = e.parent
        }
        a = 0;
        for (k = this.Qd.length; a < k; a++)
            for (d =
                this.Qd[a], h = 0, b = d.re.length; h < b; h++)
                if (p = d.re[h], p instanceof Pb && jb(c, p.name)) return p;
        return null
    };
    a.prototype.lo = function(c) {
        var e, a;
        e = 0;
        for (a = this.ad.length; e < a; e++)
            if (this.ad[e].Z === c) return this.ad[e];
        return null
    };
    a.prototype.Pi = function(c) {
        var e, a;
        e = 0;
        for (a = this.B.length; e < a; e++)
            if (this.B[e].Z === c) return this.B[e];
        return null
    };
    a.prototype.pt = function(c) {
        var e, a;
        e = 0;
        for (a = this.me.length; e < a; e++)
            if (this.me[e].Z === c) return this.me[e];
        return null
    };
    a.prototype.St = function() {
        var c = this,
            e = this.Fm,
            a = this.Wd,
            k = this.lj,
            h = !1;
        this.Yp && (h = !0, e = "__c2_continuouspreview", this.Yp = !1);
        if (e.length) {
            this.yb();
            a = this.av();
            if (window.indexedDB && !this.uc) d(e, a, function() {
                J("Saved state to IndexedDB storage (" + a.length + " bytes)");
                c.Wd = a;
                c.trigger(X.prototype.n.xk, null);
                c.Wd = "";
                h && v()
            }, function(k) {
                try {
                    localStorage.setItem("__c2save_" + e, a), J("Saved state to WebStorage (" + a.length + " bytes)"), c.Wd = a, c.trigger(X.prototype.n.xk, null), c.Wd = "", h && v()
                } catch (b) {
                    J("Failed to save game state: " + k + "; " + b)
                }
            });
            else try {
                localStorage.setItem("__c2save_" +
                    e, a), J("Saved state to WebStorage (" + a.length + " bytes)"), c.Wd = a, this.trigger(X.prototype.n.xk, null), c.Wd = "", h && v()
            } catch (b) {
                J("Error saving to WebStorage: " + b)
            }
            this.Kb = this.lj = this.Fm = ""
        }
        k.length && (window.indexedDB && !this.uc ? g(k, function(e) {
            e ? (c.Kb = e, J("Loaded state from IndexedDB storage (" + c.Kb.length + " bytes)")) : (c.Kb = localStorage.getItem("__c2save_" + k) || "", J("Loaded state from WebStorage (" + c.Kb.length + " bytes)"));
            c.Uh = !1;
            c.Kb.length || c.trigger(X.prototype.n.wk, null)
        }, function() {
            c.Kb = localStorage.getItem("__c2save_" +
                k) || "";
            J("Loaded state from WebStorage (" + c.Kb.length + " bytes)");
            c.Uh = !1;
            c.Kb.length || c.trigger(X.prototype.n.wk, null)
        }) : (this.Kb = localStorage.getItem("__c2save_" + k) || "", J("Loaded state from WebStorage (" + this.Kb.length + " bytes)"), this.Uh = !1, c.Kb.length || c.trigger(X.prototype.n.wk, null)), this.Fm = this.lj = "");
        this.Kb.length && (this.yb(), this.ku(this.Kb), this.Wd = this.Kb, this.trigger(X.prototype.n.br, null), this.Kb = this.Wd = "")
    };
    a.prototype.av = function() {
        var c, e, a, k, h, b, d, p = {
            c2save: !0,
            version: 1,
            rt: {
                time: this.wc.pa,
                walltime: this.Fd.pa,
                timescale: this.Af,
                tickcount: this.hd,
                execcount: this.Ng,
                next_uid: this.Ah,
                running_layout: this.ta.Z,
                start_time_offset: Date.now() - this.Zj
            },
            types: {},
            layouts: {},
            events: {
                groups: {},
                cnds: {},
                acts: {},
                vars: {}
            }
        };
        c = 0;
        for (e = this.B.length; c < e; c++)
            if (h = this.B[c], !h.G && !this.mq(h)) {
                b = {
                    instances: []
                };
                Wa(h.ka) && (b.ex = t(h.ka));
                a = 0;
                for (k = h.d.length; a < k; a++) b.instances.push(this.Em(h.d[a]));
                p.types[h.Z.toString()] = b
            }
        c = 0;
        for (e = this.ad.length; c < e; c++) a = this.ad[c], p.layouts[a.Z.toString()] = a.Wb();
        k = p.events.groups;
        c = 0;
        for (e = this.me.length; c < e; c++) a = this.me[c], k[a.Z.toString()] = this.Qi[a.Ug].Pf;
        e = p.events.cnds;
        for (d in this.If) this.If.hasOwnProperty(d) && (c = this.If[d], Wa(c.ka) && (e[d] = {
            ex: t(c.ka)
        }));
        e = p.events.acts;
        for (d in this.Ff) this.Ff.hasOwnProperty(d) && (c = this.Ff[d], Wa(c.ka) && (e[d] = {
            ex: c.ka
        }));
        e = p.events.vars;
        for (d in this.Ag) this.Ag.hasOwnProperty(d) && (c = this.Ag[d], c.$i || c.parent && !c.eh || (e[d] = c.data));
        p.system = this.Bd.Wb();
        return JSON.stringify(p)
    };
    a.prototype.Mp = function() {
        var c, e, a, k, h, b;
        this.Be = {};
        c = 0;
        for (e = this.B.length; c < e; c++)
            if (a = this.B[c], !a.G)
                for (k = 0, h = a.d.length; k < h; k++) b = a.d[k], this.Be[b.uid.toString()] = b
    };
    a.prototype.ku = function(c) {
        c = JSON.parse(c);
        if (c.c2save && !(1 < c.version)) {
            var e = c.rt;
            this.wc.reset();
            this.wc.pa = e.time;
            this.Fd.reset();
            this.Fd.pa = e.walltime || 0;
            this.Af = e.timescale;
            this.hd = e.tickcount;
            this.Ng = e.execcount;
            this.Zj = Date.now() - e.start_time_offset;
            var a = e.running_layout;
            if (a !== this.ta.Z)
                if (a = this.lo(a)) this.Un(a);
                else return;
            var k, h, b, d, p, m, l;
            m = c.types;
            for (h in m)
                if (m.hasOwnProperty(h) &&
                    (d = this.Pi(parseInt(h, 10))) && !d.G && !this.mq(d)) {
                    m[h].ex ? d.ka = m[h].ex : Xa(d.ka);
                    p = d.d;
                    b = m[h].instances;
                    a = 0;
                    for (k = qa(p.length, b.length); a < k; a++) this.mj(p[a], b[a]);
                    a = b.length;
                    for (k = p.length; a < k; a++) this.he(p[a]);
                    a = p.length;
                    for (k = b.length; a < k; a++) {
                        p = null;
                        if (d.Aa.xe && (p = this.ta.Ni(b[a].w.l), !p)) continue;
                        p = this.qe(d.Hc, p, !1, 0, 0, !0);
                        this.mj(p, b[a])
                    }
                    d.wg = !0
                }
            this.yb();
            this.Mp();
            k = c.layouts;
            for (h in k) k.hasOwnProperty(h) && (a = this.lo(parseInt(h, 10))) && a.yc(k[h]);
            k = c.events.groups;
            for (h in k) k.hasOwnProperty(h) &&
                (a = this.pt(parseInt(h, 10))) && this.Qi[a.Ug] && (this.Qi[a.Ug].Pf = k[h]);
            a = c.events.cnds;
            for (h in a) a.hasOwnProperty(h) && this.If.hasOwnProperty(h) && (this.If[h].ka = a[h].ex);
            a = c.events.acts;
            for (h in a) a.hasOwnProperty(h) && this.Ff.hasOwnProperty(h) && (this.Ff[h].ka = a[h].ex);
            a = c.events.vars;
            for (h in a) a.hasOwnProperty(h) && this.Ag.hasOwnProperty(h) && (this.Ag[h].data = a[h]);
            this.Ah = e.next_uid;
            this.Bd.yc(c.system);
            a = 0;
            for (k = this.B.length; a < k; a++)
                if (d = this.B[a], !d.G)
                    for (h = 0, c = d.d.length; h < c; h++) {
                        p = d.d[h];
                        if (d.hc)
                            for (m =
                                p.Tg(), e = p.siblings.length = 0, b = d.cc.length; e < b; e++) l = d.cc[e], d !== l && p.siblings.push(l.d[m]);
                        p.Gd && p.Gd();
                        if (p.R)
                            for (e = 0, b = p.R.length; e < b; e++) m = p.R[e], m.Gd && m.Gd()
                    }
                this.ra = !0
        }
    };
    a.prototype.Em = function(c, e) {
        var a, k, h, b, d;
        b = c.type;
        h = b.Aa;
        var p = {};
        e ? p.c2 = !0 : p.uid = c.uid;
        Wa(c.ka) && (p.ex = t(c.ka));
        if (c.fb && c.fb.length)
            for (p.ivs = {}, a = 0, k = c.fb.length; a < k; a++) p.ivs[c.type.Cl[a].toString()] = c.fb[a];
        if (h.xe) {
            h = {
                x: c.x,
                y: c.y,
                w: c.width,
                h: c.height,
                l: c.m.Z,
                zi: c.qd()
            };
            0 !== c.k && (h.a = c.k);
            1 !== c.opacity && (h.o = c.opacity);
            .5 !== c.Qb && (h.hX = c.Qb);.5 !== c.Rb && (h.hY = c.Rb);
            0 !== c.Nb && (h.bm = c.Nb);
            c.visible || (h.v = c.visible);
            c.Dc || (h.ce = c.Dc); - 1 !== c.zh && (h.mts = c.zh);
            if (b.N.length)
                for (h.fx = [], a = 0, k = b.N.length; a < k; a++) d = b.N[a], h.fx.push({
                    name: d.name,
                    active: c.ke[d.index],
                    params: c.La[d.index]
                });
            p.w = h
        }
        if (c.R && c.R.length)
            for (p.behs = {}, a = 0, k = c.R.length; a < k; a++) b = c.R[a], b.Wb && (p.behs[b.type.Z.toString()] = b.Wb());
        c.Wb && (p.data = c.Wb());
        return p
    };
    a.prototype.tt = function(c, e) {
        var a, h;
        a = 0;
        for (h = c.Cl.length; a < h; a++)
            if (c.Cl[a] === e) return a;
        return -1
    };
    a.prototype.mt = function(c, e) {
        var a, h;
        a = 0;
        for (h = c.R.length; a < h; a++)
            if (c.R[a].type.Z === e) return a;
        return -1
    };
    a.prototype.mj = function(c, e, a) {
        var h, k, b, d, p;
        p = c.type;
        b = p.Aa;
        if (a) {
            if (!e.c2) return
        } else c.uid = e.uid;
        e.ex ? c.ka = e.ex : Xa(c.ka);
        if (k = e.ivs)
            for (h in k) k.hasOwnProperty(h) && (a = this.tt(p, parseInt(h, 10)), 0 > a || a >= c.fb.length || (c.fb[a] = k[h]));
        if (b.xe) {
            b = e.w;
            c.m.Z !== b.l && (a = c.m, c.m = this.ta.Ni(b.l), c.m ? (a.pg(c, !0), c.m.Eg(c, !0), c.K(), c.m.Qh(0)) : (c.m = a, this.he(c)));
            c.x = b.x;
            c.y = b.y;
            c.width = b.w;
            c.height =
                b.h;
            c.kd = b.zi;
            c.k = b.hasOwnProperty("a") ? b.a : 0;
            c.opacity = b.hasOwnProperty("o") ? b.o : 1;
            c.Qb = b.hasOwnProperty("hX") ? b.hX : .5;
            c.Rb = b.hasOwnProperty("hY") ? b.hY : .5;
            c.visible = b.hasOwnProperty("v") ? b.v : !0;
            c.Dc = b.hasOwnProperty("ce") ? b.ce : !0;
            c.zh = b.hasOwnProperty("mts") ? b.mts : -1;
            c.Nb = b.hasOwnProperty("bm") ? b.bm : 0;
            c.Jg = gb(c.Nb);
            this.A && hb(c, c.Nb, this.A);
            c.K();
            if (b.hasOwnProperty("fx"))
                for (a = 0, k = b.fx.length; a < k; a++) d = p.il(b.fx[a].name), 0 > d || (c.ke[d] = b.fx[a].active, c.La[d] = b.fx[a].params);
            c.ee()
        }
        if (p = e.behs)
            for (h in p) p.hasOwnProperty(h) &&
                (b = this.mt(c, parseInt(h, 10)), 0 > b || c.R[b].yc(p[h]));
        e.data && c.yc(e.data)
    };
    Qb = function(c) {
        return new a(document.getElementById(c))
    };
    Rb = function(c, e) {
        return new a({
            dc: !0,
            width: c,
            height: e
        })
    };
    window.cr_createRuntime = Qb;
    window.cr_createDCRuntime = Rb;
    window.createCocoonJSRuntime = function() {
        window.c2cocoonjs = !0;
        var c = document.createElement("screencanvas") || document.createElement("canvas");
        c.Mw = !0;
        document.body.appendChild(c);
        c = new a(c);
        window.c2runtime = c;
        window.addEventListener("orientationchange", function() {
            window.c2runtime.setSize(window.innerWidth,
                window.innerHeight)
        });
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return c
    };
    window.createEjectaRuntime = function() {
        var c = new a(document.getElementById("canvas"));
        window.c2runtime = c;
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return c
    }
})();
window.cr_getC2Runtime = function() {
    var f = document.getElementById("c2canvas");
    return f ? f.c2runtime : window.c2runtime ? window.c2runtime : null
};
window.cr_sizeCanvas = function(f, q) {
    if (0 !== f && 0 !== q) {
        var a = window.cr_getC2Runtime();
        a && a.setSize(f, q)
    }
};
window.cr_setSuspended = function(f) {
    var q = window.cr_getC2Runtime();
    q && q.setSuspended(f)
};
(function() {
    function f(e, a) {
        this.b = e;
        this.Xe = null;
        this.scrollX = this.b.hb / 2;
        this.scrollY = this.b.gb / 2;
        this.scale = 1;
        this.k = 0;
        this.Nf = !0;
        this.name = a[0];
        this.width = a[1];
        this.height = a[2];
        this.nq = a[3];
        this.Wp = a[4];
        this.Z = a[5];
        var b = a[6],
            d, l;
        this.U = [];
        this.Xg = [];
        d = 0;
        for (l = b.length; d < l; d++) {
            var g = new Sb(this, b[d]);
            g.lp = d;
            this.U.push(g)
        }
        b = a[7];
        this.gf = [];
        d = 0;
        for (l = b.length; d < l; d++) {
            var g = b[d],
                p = this.b.B[g[1]];
            p.Hc || (p.Hc = g);
            this.gf.push(g); - 1 === this.Xg.indexOf(p) && this.Xg.push(p)
        }
        this.N = [];
        this.fa = [];
        this.La = [];
        d = 0;
        for (l = a[8].length; d < l; d++) this.N.push({
            id: a[8][d][0],
            name: a[8][d][1],
            wb: -1,
            Ea: !0,
            index: d
        }), this.La.push(a[8][d][2].slice(0));
        this.ee();
        this.Ee = new U(0, 0, 1, 1);
        this.wm = new U(0, 0, 1, 1);
        this.Ce = {}
    }

    function q(e, a) {
        return e.kd - a.kd
    }

    function a(e, a) {
        this.Za = e;
        this.b = e.b;
        this.d = [];
        this.scale = 1;
        this.k = 0;
        this.Ve = !1;
        this.be = new U(0, 0, 0, 0);
        this.hq = new xa;
        this.Ia = this.Ca = this.Ja = this.Ba = 0;
        this.Bf = !1;
        this.ge = -1;
        this.name = a[0];
        this.index = a[1];
        this.Z = a[2];
        this.visible = a[3];
        this.oe = a[4];
        this.de = a[5];
        this.Pc =
            a[6];
        this.Qc = a[7];
        this.opacity = a[8];
        this.cl = a[9];
        this.jd = a[10];
        this.ld = a[11];
        this.Nb = a[12];
        this.Ds = a[13];
        this.Jg = "source-over";
        this.Eb = this.Fb = 0;
        this.mc = null;
        this.ag = b();
        this.Yd = !0;
        this.fj = new U(0, 0, -1, -1);
        this.Gc = new U(0, 0, -1, -1);
        this.jd && (this.mc = new fb(this.b.hb, this.b.gb));
        this.Fe = !1;
        var d = a[14],
            m, l;
        this.Rf = [];
        m = 0;
        for (l = d.length; m < l; m++) {
            var g = d[m],
                p = this.b.B[g[1]];
            p.Hc || (p.Hc = g, p.ls = this.index);
            this.Rf.push(g); - 1 === this.Za.Xg.indexOf(p) && this.Za.Xg.push(p)
        }
        this.N = [];
        this.fa = [];
        this.La = [];
        m = 0;
        for (l = a[15].length; m < l; m++) this.N.push({
            id: a[15][m][0],
            name: a[15][m][1],
            wb: -1,
            Ea: !0,
            index: m
        }), this.La.push(a[15][m][2].slice(0));
        this.ee();
        this.Ee = new U(0, 0, 1, 1);
        this.wm = new U(0, 0, 1, 1)
    }

    function b() {
        return t.length ? t.pop() : []
    }

    function d(e) {
        e.length = 0;
        t.push(e)
    }
    f.prototype.$u = function(e) {
        var a = e.type.Z.toString();
        this.Ce.hasOwnProperty(a) || (this.Ce[a] = []);
        this.Ce[a].push(this.b.Em(e))
    };
    f.prototype.po = function() {
        var e = this.U[0];
        return !e.de && 1 === e.opacity && !e.cl && e.visible
    };
    f.prototype.ee = function() {
        this.fa.length =
            0;
        var e, a, b;
        e = 0;
        for (a = this.N.length; e < a; e++) b = this.N[e], b.Ea && this.fa.push(b)
    };
    f.prototype.hl = function(e) {
        var a, b, d;
        a = 0;
        for (b = this.N.length; a < b; a++)
            if (d = this.N[a], d.name === e) return d;
        return null
    };
    var g = [],
        v = !0;
    f.prototype.Nm = function() {
        this.Wp && (this.Xe = this.b.Xk[this.Wp], this.Xe.Vm());
        this.b.ta = this;
        this.scrollX = this.b.hb / 2;
        this.scrollY = this.b.gb / 2;
        var e, a, b, d, l, f, p;
        e = 0;
        for (b = this.b.B.length; e < b; e++)
            if (a = this.b.B[e], !a.G)
                for (l = a.d, a = 0, d = l.length; a < d; a++)
                    if (f = l[a], f.m) {
                        var h = f.m.lp;
                        h >= this.U.length &&
                            (h = this.U.length - 1);
                        f.m = this.U[h]; - 1 === f.m.d.indexOf(f) && f.m.d.push(f);
                        f.m.Bf = !0
                    }
        if (!v)
            for (e = 0, b = this.U.length; e < b; ++e) this.U[e].d.sort(q);
        g.length = 0;
        this.Zr();
        e = 0;
        for (b = this.U.length; e < b; e++) f = this.U[e], f.js(), f.Xm();
        l = !1;
        if (!this.Nf) {
            for (p in this.Ce)
                if (this.Ce.hasOwnProperty(p) && (a = this.b.Pi(parseInt(p, 10))) && !a.G && this.b.Um(a)) {
                    d = this.Ce[p];
                    e = 0;
                    for (b = d.length; e < b; e++) {
                        f = null;
                        if (a.Aa.xe && (f = this.Ni(d[e].w.l), !f)) continue;
                        f = this.b.qe(a.Hc, f, !1, 0, 0, !0);
                        this.b.mj(f, d[e]);
                        l = !0;
                        g.push(f)
                    }
                    d.length = 0
                }
            e =
                0;
            for (b = this.U.length; e < b; e++) this.U[e].d.sort(q), this.U[e].Bf = !0
        }
        l && (this.b.yb(), this.b.Mp());
        for (e = 0; e < g.length; e++)
            if (f = g[e], f.type.hc)
                for (b = f.Tg(), a = 0, d = f.type.cc.length; a < d; a++) p = f.type.cc[a], f.type !== p && (p.d.length > b ? f.siblings.push(p.d[b]) : p.Hc && (l = this.b.qe(p.Hc, f.m, !0, f.x, f.y, !0), this.b.yb(), p.ok(), f.siblings.push(l), g.push(l)));
        e = 0;
        for (b = this.gf.length; e < b; e++) this.b.qe(this.gf[e], null, !0);
        this.b.Se = null;
        this.b.yb();
        if (this.b.qa && !this.b.Ga)
            for (e = 0, b = this.b.B.length; e < b; e++) p = this.b.B[e], !p.G && p.d.length && p.Hj && p.Hj(this.b.qa);
        e = 0;
        for (b = g.length; e < b; e++) f = g[e], this.b.trigger(Object.getPrototypeOf(f.type.Aa).n.uk, f);
        g.length = 0;
        this.b.trigger(X.prototype.n.mn, null);
        this.Nf = !1
    };
    f.prototype.hs = function() {
        var a, b, d, m, l;
        b = a = 0;
        for (d = this.gf.length; a < d; a++) m = this.gf[a], l = this.b.B[m[1]], l.global ? this.b.qe(m, null, !0) : (this.gf[b] = m, b++);
        this.gf.length = b
    };
    f.prototype.ov = function() {
        this.b.trigger(X.prototype.n.$q, null);
        this.b.Bd.Yb.length = 0;
        var a, b, d, m, l, g;
        if (!this.Nf)
            for (a = 0, b = this.U.length; a <
                b; a++)
                for (this.U[a].Ym(), l = this.U[a].d, d = 0, m = l.length; d < m; d++) g = l[d], g.type.global || this.b.Um(g.type) && this.$u(g);
        a = 0;
        for (b = this.U.length; a < b; a++) {
            l = this.U[a].d;
            d = 0;
            for (m = l.length; d < m; d++) g = l[d], g.type.global || this.b.he(g);
            this.b.yb();
            l.length = 0;
            this.U[a].Bf = !0
        }
        a = 0;
        for (b = this.b.B.length; a < b; a++)
            if (l = this.b.B[a], !(l.global || l.Aa.xe || l.Aa.Uj || l.G)) {
                d = 0;
                for (m = l.d.length; d < m; d++) this.b.he(l.d[d]);
                this.b.yb()
            }
        v = !1
    };
    new U(0, 0, 0, 0);
    f.prototype.qc = function(a) {
        var b, d = a,
            m = !1,
            l = !this.b.Jc;
        l && (this.b.kj || (this.b.kj =
            document.createElement("canvas"), b = this.b.kj, b.width = this.b.T, b.height = this.b.S, this.b.Mo = b.getContext("2d"), m = !0), b = this.b.kj, d = this.b.Mo, b.width !== this.b.T && (b.width = this.b.T, m = !0), b.height !== this.b.S && (b.height = this.b.S, m = !0), m && (d.webkitImageSmoothingEnabled = this.b.ca, d.mozImageSmoothingEnabled = this.b.ca, d.msImageSmoothingEnabled = this.b.ca, d.imageSmoothingEnabled = this.b.ca));
        d.globalAlpha = 1;
        d.globalCompositeOperation = "source-over";
        this.b.Ck && !this.po() && d.clearRect(0, 0, this.b.T, this.b.S);
        var g,
            p, m = 0;
        for (g = this.U.length; m < g; m++) p = this.U[m], p.visible && 0 < p.opacity && 11 !== p.Nb && (p.d.length || !p.de) ? p.qc(d) : p.Xm();
        l && a.drawImage(b, 0, 0, this.b.width, this.b.height)
    };
    f.prototype.Ob = function(a) {
        var b = 0 < this.fa.length || this.b.yg || !this.b.Jc;
        if (b) {
            this.b.jc || (this.b.jc = a.Jd(this.b.T, this.b.S, this.b.ca));
            if (this.b.jc.Hg !== this.b.T || this.b.jc.Gg !== this.b.S) a.deleteTexture(this.b.jc), this.b.jc = a.Jd(this.b.T, this.b.S, this.b.ca);
            a.zd(this.b.jc);
            this.b.Jc || a.rg(this.b.T, this.b.S)
        } else this.b.jc && (a.zd(null),
            a.deleteTexture(this.b.jc), this.b.jc = null);
        this.b.Ck && !this.po() && a.clear(0, 0, 0, 0);
        var d, m, l;
        d = 0;
        for (m = this.U.length; d < m; d++) l = this.U[d], l.visible && 0 < l.opacity && (l.d.length || !l.de) ? l.Ob(a) : l.Xm();
        b && (0 === this.fa.length || 1 === this.fa.length && this.b.Jc ? (1 === this.fa.length ? (b = this.fa[0].index, a.Ad(this.fa[0].wb), a.qg(null, 1 / this.b.T, 1 / this.b.S, 0, 0, 1, 1, this.scale, this.k, 0, 0, this.b.T / 2, this.b.S / 2, this.La[b]), a.Ij(this.fa[0].wb) && (this.b.ra = !0)) : a.Ad(0), this.b.Jc || a.rg(this.b.width, this.b.height), a.zd(null),
            a.He(1), a.Xb(this.b.jc), a.Rp(), a.yd(), a.Dd(), b = this.b.width / 2, d = this.b.height / 2, a.Lh(-b, d, b, d, b, -d, -b, -d), a.Xb(null)) : this.xm(a, null, null, null))
    };
    f.prototype.Sg = function() {
        return 0 < this.fa.length || this.b.yg || !this.b.Jc ? this.b.jc : null
    };
    f.prototype.mo = function() {
        var a = this.U[0].fc(),
            b, d, l;
        b = 1;
        for (d = this.U.length; b < d; b++) l = this.U[b], (0 !== l.Pc || 0 !== l.Qc) && l.fc() < a && (a = l.fc());
        return a
    };
    f.prototype.Pp = function(a) {
        if (!this.nq) {
            var b = 1 / this.mo() * this.b.T / 2;
            a > this.width - b && (a = this.width - b);
            a < b && (a = b)
        }
        this.scrollX !==
            a && (this.scrollX = a, this.b.ra = !0)
    };
    f.prototype.Qp = function(a) {
        if (!this.nq) {
            var b = 1 / this.mo() * this.b.S / 2;
            a > this.height - b && (a = this.height - b);
            a < b && (a = b)
        }
        this.scrollY !== a && (this.scrollY = a, this.b.ra = !0)
    };
    f.prototype.Zr = function() {
        this.Pp(this.scrollX);
        this.Qp(this.scrollY)
    };
    f.prototype.xm = function(a, b, d, l) {
        var g = d ? d.fa : b ? b.fa : this.fa,
            f = 1,
            p = 0,
            h = 0,
            E = 0,
            c = this.b.T,
            n = this.b.S;
        d ? (f = d.m.fc(), p = d.m.Ya(), h = d.m.Ba, E = d.m.Ca, c = d.m.Ja, n = d.m.Ia) : b && (f = b.fc(), p = b.Ya(), h = b.Ba, E = b.Ca, c = b.Ja, n = b.Ia);
        var r = this.b.fl,
            q, u,
            v, t, B = 0,
            sa = 1,
            ha, K = this.b.T,
            G = this.b.S,
            A = K / 2,
            ja = G / 2,
            C = b ? b.Ee : this.Ee,
            H = b ? b.wm : this.wm,
            I = 0,
            Q = 0,
            F = 0,
            L = 0,
            M = K,
            da = K,
            N = G,
            ma = G,
            ia = v = 0,
            ta = d ? d.m.Ya() : 0;
        if (d) {
            q = 0;
            for (u = g.length; q < u; q++) v += a.yt(g[q].wb), ia += a.zt(g[q].wb);
            t = d.za;
            I = b.Ha(t.left, t.top, !0, !0);
            F = b.Ha(t.left, t.top, !1, !0);
            M = b.Ha(t.right, t.bottom, !0, !0);
            N = b.Ha(t.right, t.bottom, !1, !0);
            0 !== ta && (q = b.Ha(t.right, t.top, !0, !0), u = b.Ha(t.right, t.top, !1, !0), Q = b.Ha(t.left, t.bottom, !0, !0), L = b.Ha(t.left, t.bottom, !1, !0), t = Math.min(I, M, q, Q), M = Math.max(I, M, q, Q), I = t,
                t = Math.min(F, N, u, L), N = Math.max(F, N, u, L), F = t);
            I -= v;
            F -= ia;
            M += v;
            N += ia;
            H.left = I / K;
            H.top = 1 - F / G;
            H.right = M / K;
            H.bottom = 1 - N / G;
            Q = I = T(I);
            L = F = T(F);
            da = M = va(M);
            ma = N = va(N);
            Q -= v;
            L -= ia;
            da += v;
            ma += ia;
            0 > I && (I = 0);
            0 > F && (F = 0);
            M > K && (M = K);
            N > G && (N = G);
            0 > Q && (Q = 0);
            0 > L && (L = 0);
            da > K && (da = K);
            ma > G && (ma = G);
            C.left = I / K;
            C.top = 1 - F / G;
            C.right = M / K;
            C.bottom = 1 - N / G
        } else C.left = H.left = 0, C.top = H.top = 0, C.right = H.right = 1, C.bottom = H.bottom = 1;
        ia = d && ((d.k || ta) && a.Hh(g[0].wb) || 0 !== v || 0 !== ia || 1 !== d.opacity || d.type.Aa.hp) || b && !d && 1 !== b.opacity;
        a.Rp();
        if (ia) {
            r[B] || (r[B] = a.Jd(K, G, this.b.ca));
            if (r[B].Hg !== K || r[B].Gg !== G) a.deleteTexture(r[B]), r[B] = a.Jd(K, G, this.b.ca);
            a.Ad(0);
            a.zd(r[B]);
            ha = ma - L;
            a.clearRect(Q, G - L - ha, da - Q, ha);
            d ? d.Ob(a) : (a.Xb(this.b.xc), a.He(b.opacity), a.yd(), a.translate(-A, -ja), a.Dd(), a.xd(I, N, M, N, M, F, I, F, C));
            H.left = H.top = 0;
            H.right = H.bottom = 1;
            d && (t = C.top, C.top = C.bottom, C.bottom = t);
            B = 1;
            sa = 0
        }
        a.He(1);
        v = g.length - 1;
        var ta = a.tm(g[v].wb) || !b && !d && !this.b.Jc,
            ua = 0;
        q = 0;
        for (u = g.length; q < u; q++) {
            r[B] || (r[B] = a.Jd(K, G, this.b.ca));
            if (r[B].Hg !== K || r[B].Gg !==
                G) a.deleteTexture(r[B]), r[B] = a.Jd(K, G, this.b.ca);
            a.Ad(g[q].wb);
            ua = g[q].index;
            a.Ij(g[q].wb) && (this.b.ra = !0);
            0 != q || ia ? (a.qg(l, 1 / K, 1 / G, H.left, H.top, H.right, H.bottom, f, p, h, E, (h + c) / 2, (E + n) / 2, d ? d.La[ua] : b ? b.La[ua] : this.La[ua]), a.Xb(null), q !== v || ta ? (a.zd(r[B]), ha = ma - L, t = G - L - ha, a.clearRect(Q, t, da - Q, ha)) : (d ? a.Ge(d.Fb, d.Eb) : b && a.Ge(b.Fb, b.Eb), a.zd(l)), a.Xb(r[sa]), a.yd(), a.translate(-A, -ja), a.Dd(), a.xd(I, N, M, N, M, F, I, F, C), q !== v || ta || a.Xb(null)) : (a.zd(r[B]), ha = ma - L, t = G - L - ha, a.clearRect(Q, t, da - Q, ha), d ? (a.qg(l,
                1 / d.width, 1 / d.height, H.left, H.top, H.right, H.bottom, f, p, h, E, (h + c) / 2, (E + n) / 2, d.La[ua]), d.Ob(a)) : (a.qg(l, 1 / K, 1 / G, 0, 0, 1, 1, f, p, h, E, (h + c) / 2, (E + n) / 2, b ? b.La[ua] : this.La[ua]), a.Xb(b ? this.b.xc : this.b.jc), a.yd(), a.translate(-A, -ja), a.Dd(), a.xd(I, N, M, N, M, F, I, F, C)), H.left = H.top = 0, H.right = H.bottom = 1, d && !ta && (t = N, N = F, F = t));
            B = 0 === B ? 1 : 0;
            sa = 0 === B ? 1 : 0
        }
        ta && (a.Ad(0), d ? a.Ge(d.Fb, d.Eb) : b ? a.Ge(b.Fb, b.Eb) : this.b.Jc || (a.rg(this.b.width, this.b.height), A = this.b.width / 2, ja = this.b.height / 2, F = I = 0, M = this.b.width, N = this.b.height),
            a.zd(l), a.Xb(r[sa]), a.yd(), a.translate(-A, -ja), a.Dd(), d && 1 === g.length && !ia ? a.xd(I, F, M, F, M, N, I, N, C) : a.xd(I, N, M, N, M, F, I, F, C), a.Xb(null))
    };
    f.prototype.Ni = function(a) {
        var b, d;
        b = 0;
        for (d = this.U.length; b < d; b++)
            if (this.U[b].Z === a) return this.U[b];
        return null
    };
    f.prototype.Wb = function() {
        var a, b, d, l = {
            sx: this.scrollX,
            sy: this.scrollY,
            s: this.scale,
            a: this.k,
            w: this.width,
            h: this.height,
            fv: this.Nf,
            persist: this.Ce,
            fx: [],
            layers: {}
        };
        a = 0;
        for (b = this.N.length; a < b; a++) d = this.N[a], l.fx.push({
            name: d.name,
            active: d.Ea,
            params: this.La[d.index]
        });
        a = 0;
        for (b = this.U.length; a < b; a++) d = this.U[a], l.layers[d.Z.toString()] = d.Wb();
        return l
    };
    f.prototype.yc = function(a) {
        var b, d, l, g;
        this.scrollX = a.sx;
        this.scrollY = a.sy;
        this.scale = a.s;
        this.k = a.a;
        this.width = a.w;
        this.height = a.h;
        this.Ce = a.persist;
        "undefined" !== typeof a.fv && (this.Nf = a.fv);
        var f = a.fx;
        b = 0;
        for (d = f.length; b < d; b++)
            if (l = this.hl(f[b].name)) l.Ea = f[b].active, this.La[l.index] = f[b].params;
        this.ee();
        b = a.layers;
        for (g in b) b.hasOwnProperty(g) && (a = this.Ni(parseInt(g, 10))) && a.yc(b[g])
    };
    Eb = f;
    a.prototype.ee = function() {
        this.fa.length =
            0;
        var a, b, d;
        a = 0;
        for (b = this.N.length; a < b; a++) d = this.N[a], d.Ea && this.fa.push(d)
    };
    a.prototype.hl = function(a) {
        var b, d, l;
        b = 0;
        for (d = this.N.length; b < d; b++)
            if (l = this.N[b], l.name === a) return l;
        return null
    };
    a.prototype.js = function() {
        var a, b, d, l, f, q;
        b = a = 0;
        for (d = this.Rf.length; a < d; a++) {
            l = this.Rf[a];
            f = this.b.B[l[1]];
            q = this.b.Um(f);
            f = !0;
            if (!q || this.Za.Nf) l = this.b.qe(l, this, !0), g.push(l), l.type.global && (f = !1);
            f && (this.Rf[b] = this.Rf[a], b++)
        }
        this.Rf.length = b;
        this.b.yb();
        !this.b.C && this.N.length && (this.Nb = this.Ds);
        this.Jg = gb(this.Nb);
        this.b.A && hb(this, this.Nb, this.b.A);
        this.Yd = !0
    };
    a.prototype.pg = function(a, b) {
        var d = Da(this.d, a);
        0 > d || (b && this.jd && a.Ub && a.Ub.right >= a.Ub.left && (a.ya(), this.mc.update(a, a.Ub, null), a.Ub.set(0, 0, -1, -1)), d === this.d.length - 1 ? this.d.pop() : (Aa(this.d, d), this.Qh(d)), this.Yd = !0)
    };
    a.prototype.Eg = function(a, b) {
        a.kd = this.d.length;
        this.d.push(a);
        b && this.jd && a.Ub && a.K();
        this.Yd = !0
    };
    a.prototype.Iu = function(a) {
        this.d.unshift(a);
        this.Qh(0)
    };
    a.prototype.qu = function(a, b, d) {
        var l = a.qd();
        b = b.qd();
        Aa(this.d, l);
        l < b && b--;
        d && b++;
        b === this.d.length ? this.d.push(a) : this.d.splice(b, 0, a);
        this.Qh(l < b ? l : b)
    };
    a.prototype.Qh = function(a) {
        -1 === this.ge ? this.ge = a : a < this.ge && (this.ge = a);
        this.Yd = this.Bf = !0
    };
    a.prototype.Ym = function() {
        if (this.Bf) {
            -1 === this.ge && (this.ge = 0);
            var a, b, d;
            if (this.jd)
                for (a = this.ge, b = this.d.length; a < b; ++a) d = this.d[a], d.kd = a, this.mc.mu(d.Ub);
            else
                for (a = this.ge, b = this.d.length; a < b; ++a) this.d[a].kd = a;
            this.Bf = !1;
            this.ge = -1
        }
    };
    a.prototype.fc = function(a) {
        return this.ut() * (this.b.Jc || a ? this.b.Fg :
            1)
    };
    a.prototype.ut = function() {
        return (this.scale * this.Za.scale - 1) * this.ld + 1
    };
    a.prototype.Ya = function() {
        return this.Ve ? 0 : Ia(this.Za.k + this.k)
    };
    var t = [],
        u = [],
        l = [];
    a.prototype.no = function() {
        this.Ym();
        this.mc.Kj(this.Ba, this.Ca, this.Ja, this.Ia, l);
        if (!l.length) return b();
        if (1 === l.length) {
            var a = b();
            Ba(a, l[0]);
            l.length = 0;
            return a
        }
        for (var k = !0; 1 < l.length;) {
            for (var a = l, g = void 0, m = void 0, f = void 0, q = void 0, p = void 0, g = 0, m = a.length; g < m - 1; g += 2) {
                var f = a[g],
                    q = a[g + 1],
                    p = b(),
                    h = f,
                    E = q,
                    c = p,
                    n = 0,
                    r = 0,
                    w = 0,
                    v = h.length,
                    t = E.length,
                    P = void 0,
                    B = void 0;
                for (c.length = v + t; n < v && r < t; ++w) P = h[n], B = E[r], P.kd < B.kd ? (c[w] = P, ++n) : (c[w] = B, ++r);
                for (; n < v; ++n, ++w) c[w] = h[n];
                for (; r < t; ++r, ++w) c[w] = E[r];
                k || (d(f), d(q));
                u.push(p)
            }
            1 === m % 2 && (k ? (f = b(), Ba(f, a[m - 1]), u.push(f)) : u.push(a[m - 1]));
            Ba(a, u);
            u.length = 0;
            k = !1
        }
        a = l[0];
        l.length = 0;
        return a
    };
    a.prototype.qc = function(a) {
        this.Fe = this.cl || 1 !== this.opacity || 0 !== this.Nb;
        var b = this.b.canvas,
            l = a,
            m = !1;
        this.Fe && (this.b.jj || (this.b.jj = document.createElement("canvas"), b = this.b.jj, b.width = this.b.T, b.height = this.b.S,
            this.b.Lo = b.getContext("2d"), m = !0), b = this.b.jj, l = this.b.Lo, b.width !== this.b.T && (b.width = this.b.T, m = !0), b.height !== this.b.S && (b.height = this.b.S, m = !0), m && (l.webkitImageSmoothingEnabled = this.b.ca, l.mozImageSmoothingEnabled = this.b.ca, l.msImageSmoothingEnabled = this.b.ca, l.imageSmoothingEnabled = this.b.ca), this.de && l.clearRect(0, 0, this.b.T, this.b.S));
        l.globalAlpha = 1;
        l.globalCompositeOperation = "source-over";
        this.de || (l.fillStyle = "rgb(" + this.oe[0] + "," + this.oe[1] + "," + this.oe[2] + ")", l.fillRect(0, 0, this.b.T,
            this.b.S));
        l.save();
        this.Ve = !0;
        var m = this.ac(0, 0, !0, !0),
            g = this.ac(0, 0, !1, !0);
        this.Ve = !1;
        this.b.Rc && (m = Math.round(m), g = Math.round(g));
        this.Am(m, g, l);
        var f = this.fc();
        l.scale(f, f);
        l.translate(-m, -g);
        this.jd ? (this.Gc.left = this.mc.nc(this.Ba), this.Gc.top = this.mc.oc(this.Ca), this.Gc.right = this.mc.nc(this.Ja), this.Gc.bottom = this.mc.oc(this.Ia), this.Yd || !this.Gc.Ci(this.fj) ? (d(this.ag), m = this.no(), this.Yd = !1, this.fj.ri(this.Gc)) : m = this.ag) : m = this.d;
        for (var p, h = null, g = 0, f = m.length; g < f; ++g) p = m[g], p !== h && (this.As(p,
            l), h = p);
        this.jd && (this.ag = m);
        l.restore();
        this.Fe && (a.globalCompositeOperation = this.Jg, a.globalAlpha = this.opacity, a.drawImage(b, 0, 0))
    };
    a.prototype.As = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.ya();
            var d = a.za;
            d.right < this.Ba || d.bottom < this.Ca || d.left > this.Ja || d.top > this.Ia || (b.globalCompositeOperation = a.Jg, a.qc(b))
        }
    };
    a.prototype.Xm = function() {
        this.Ve = !0;
        var a = this.ac(0, 0, !0, !0),
            b = this.ac(0, 0, !1, !0);
        this.Ve = !1;
        this.b.Rc && (a = Math.round(a), b = Math.round(b));
        this.Am(a, b, null)
    };
    a.prototype.Am =
        function(a, b, d) {
            var l = this.fc();
            this.Ba = a;
            this.Ca = b;
            this.Ja = a + 1 / l * this.b.T;
            this.Ia = b + 1 / l * this.b.S;
            a = this.Ya();
            0 !== a && (d && (d.translate(this.b.T / 2, this.b.S / 2), d.rotate(-a), d.translate(this.b.T / -2, this.b.S / -2)), this.be.set(this.Ba, this.Ca, this.Ja, this.Ia), this.be.offset((this.Ba + this.Ja) / -2, (this.Ca + this.Ia) / -2), this.hq.Up(this.be, a), this.hq.In(this.be), this.be.offset((this.Ba + this.Ja) / 2, (this.Ca + this.Ia) / 2), this.Ba = this.be.left, this.Ca = this.be.top, this.Ja = this.be.right, this.Ia = this.be.bottom)
        };
    a.prototype.Ob =
        function(a) {
            var b = 0,
                l = 0;
            if (this.Fe = this.cl || 1 !== this.opacity || 0 < this.fa.length || 0 !== this.Nb) {
                this.b.xc || (this.b.xc = a.Jd(this.b.T, this.b.S, this.b.ca));
                if (this.b.xc.Hg !== this.b.T || this.b.xc.Gg !== this.b.S) a.deleteTexture(this.b.xc), this.b.xc = a.Jd(this.b.T, this.b.S, this.b.ca);
                a.zd(this.b.xc);
                this.de && a.clear(0, 0, 0, 0)
            }
            this.de || a.clear(this.oe[0] / 255, this.oe[1] / 255, this.oe[2] / 255, 1);
            this.Ve = !0;
            var m = this.ac(0, 0, !0, !0),
                b = this.ac(0, 0, !1, !0);
            this.Ve = !1;
            this.b.Rc && (m = Math.round(m), b = Math.round(b));
            this.Am(m,
                b, null);
            m = this.fc();
            a.yd();
            a.scale(m, m);
            a.Bm(-this.Ya());
            a.translate((this.Ba + this.Ja) / -2, (this.Ca + this.Ia) / -2);
            a.Dd();
            this.jd ? (this.Gc.left = this.mc.nc(this.Ba), this.Gc.top = this.mc.oc(this.Ca), this.Gc.right = this.mc.nc(this.Ja), this.Gc.bottom = this.mc.oc(this.Ia), this.Yd || !this.Gc.Ci(this.fj) ? (d(this.ag), b = this.no(), this.Yd = !1, this.fj.ri(this.Gc)) : b = this.ag) : b = this.d;
            var g, f, p = null,
                l = 0;
            for (g = b.length; l < g; ++l) f = b[l], f !== p && (this.Bs(b[l], a), p = f);
            this.jd && (this.ag = b);
            this.Fe && (b = this.fa.length ? this.fa[0].wb :
                0, l = this.fa.length ? this.fa[0].index : 0, 0 === this.fa.length || 1 === this.fa.length && !a.tm(b) && 1 === this.opacity ? (1 === this.fa.length ? (a.Ad(b), a.qg(this.Za.Sg(), 1 / this.b.T, 1 / this.b.S, 0, 0, 1, 1, m, this.Ya(), this.Ba, this.Ca, (this.Ba + this.Ja) / 2, (this.Ca + this.Ia) / 2, this.La[l]), a.Ij(b) && (this.b.ra = !0)) : a.Ad(0), a.zd(this.Za.Sg()), a.He(this.opacity), a.Xb(this.b.xc), a.Ge(this.Fb, this.Eb), a.yd(), a.Dd(), m = this.b.T / 2, b = this.b.S / 2, a.Lh(-m, b, m, b, m, -b, -m, -b), a.Xb(null)) : this.Za.xm(a, this, null, this.Za.Sg()))
        };
    a.prototype.Bs =
        function(a, b) {
            if (a.visible && 0 !== a.width && 0 !== a.height) {
                a.ya();
                var d = a.za;
                d.right < this.Ba || d.bottom < this.Ca || d.left > this.Ja || d.top > this.Ia || (a.tq ? this.Cs(a, b) : (b.Ad(0), b.Ge(a.Fb, a.Eb), a.Ob(b)))
            }
        };
    a.prototype.Cs = function(a, b) {
        var d = a.fa[0].wb,
            l = a.fa[0].index,
            g = this.fc();
        if (1 !== a.fa.length || b.tm(d) || b.Ku(d) || (a.k || a.m.Ya()) && b.Hh(d) || 1 !== a.opacity || a.type.Aa.hp) this.Za.xm(b, this, a, this.Fe ? this.b.xc : this.Za.Sg()), b.yd(), b.scale(g, g), b.Bm(-this.Ya()), b.translate((this.Ba + this.Ja) / -2, (this.Ca + this.Ia) /
            -2), b.Dd();
        else {
            b.Ad(d);
            b.Ge(a.Fb, a.Eb);
            b.Ij(d) && (this.b.ra = !0);
            var f = 0,
                p = 0,
                h = 0,
                q = 0;
            b.Hh(d) && (d = a.za, f = this.Ha(d.left, d.top, !0, !0), p = this.Ha(d.left, d.top, !1, !0), h = this.Ha(d.right, d.bottom, !0, !0), d = this.Ha(d.right, d.bottom, !1, !0), f /= windowWidth, p = 1 - p / windowHeight, h /= windowWidth, q = 1 - d / windowHeight);
            b.qg(this.Fe ? this.b.xc : this.Za.Sg(), 1 / a.width, 1 / a.height, f, p, h, q, g, this.Ya(), this.Ba, this.Ca, (this.Ba + this.Ja) / 2, (this.Ca + this.Ia) / 2, a.La[l]);
            a.Ob(b)
        }
    };
    a.prototype.ac = function(a, b, d, l) {
        var g = this.b.devicePixelRatio;
        this.b.jf && (a *= g, b *= g);
        var g = this.b.Cp,
            f = this.b.Dp,
            g = (this.Za.scrollX - g) * this.Pc + g,
            f = (this.Za.scrollY - f) * this.Qc + f,
            p = g,
            h = f,
            q = 1 / this.fc(!l);
        l ? (p -= this.b.T * q / 2, h -= this.b.S * q / 2) : (p -= this.b.width * q / 2, h -= this.b.height * q / 2);
        p += a * q;
        h += b * q;
        b = this.Ya();
        0 !== b && (p -= g, h -= f, a = Math.cos(b), b = Math.sin(b), l = p * a - h * b, h = h * a + p * b, p = l + g, h += f);
        return d ? p : h
    };
    a.prototype.Ha = function(a, b, d, l) {
        var g = this.b.Cp,
            f = this.b.Dp,
            p = (this.Za.scrollX - g) * this.Pc + g,
            h = (this.Za.scrollY - f) * this.Qc + f,
            f = p,
            g = h,
            q = this.Ya();
        if (0 !== q) {
            a -= p;
            b -= h;
            var c = Math.cos(-q),
                q = Math.sin(-q),
                n = a * c - b * q;
            b = b * c + a * q;
            a = n + p;
            b += h
        }
        p = 1 / this.fc(!l);
        l ? (f -= this.b.T * p / 2, g -= this.b.S * p / 2) : (f -= this.b.width * p / 2, g -= this.b.height * p / 2);
        f = (a - f) / p;
        g = (b - g) / p;
        a = this.b.devicePixelRatio;
        this.b.jf && !l && (f /= a, g /= a);
        return d ? f : g
    };
    a.prototype.Wb = function() {
        var a, b, d, l = {
            s: this.scale,
            a: this.k,
            vl: this.Ba,
            vt: this.Ca,
            vr: this.Ja,
            vb: this.Ia,
            v: this.visible,
            bc: this.oe,
            t: this.de,
            px: this.Pc,
            py: this.Qc,
            o: this.opacity,
            zr: this.ld,
            fx: [],
            instances: []
        };
        a = 0;
        for (b = this.N.length; a < b; a++) d = this.N[a], l.fx.push({
            name: d.name,
            active: d.Ea,
            params: this.La[d.index]
        });
        return l
    };
    a.prototype.yc = function(a) {

        var b, d;
        this.scale = a.s;
        this.k = a.a;
        this.Ba = a.vl;
        this.Ca = a.vt;
        this.Ja = a.vr;
        this.Ia = a.vb;
        this.visible = a.v;
        this.oe = a.bc;
        this.de = a.t;
        this.Pc = a.px;
        this.Qc = a.py;
        this.opacity = a.o;
        this.ld = a.zr;
        var l = a.fx;
        a = 0;
        for (b = l.length; a < b; a++)
            if (d = this.hl(l[a].name)) d.Ea = l[a].active, this.La[d.index] = l[a].params;
        this.ee();
        this.d.sort(q);
        this.Bf = !0
    };
    Sb = a
})();
(function() {
    function f(a, b) {
        var e, c = a.length;
        switch (c) {
            case 0:
                return !0;
            case 1:
                return a[0] === b[0];
            case 2:
                return a[0] === b[0] && a[1] === b[1];
            default:
                for (e = 0; e < c; e++)
                    if (a[e] !== b[e]) return !1;
                return !0
        }
    }

    function q(a, b) {
        return a.index - b.index
    }

    function a(a) {
        var b, e, c, d;
        2 === a.length ? a[0].index > a[1].index && (b = a[0], a[0] = a[1], a[1] = b) : 2 < a.length && a.sort(q);
        a.length >= m.length && (m.length = a.length + 1);
        m[a.length] || (m[a.length] = []);
        d = m[a.length];
        b = 0;
        for (e = d.length; b < e; b++)
            if (c = d[b], f(a, c)) return c;
        d.push(a);
        return a
    }

    function b(a, b) {
        this.b = a;
        this.jq = {};
        this.Zn = {};
        this.tl = !1;
        this.so = new ca;
        this.Sk = [];
        this.Dk = [];
        this.name = b[0];
        var e = b[1];
        this.re = [];
        var c, d;
        c = 0;
        for (d = e.length; c < d; c++) this.vo(e[c], null, this.re)
    }

    function d(a) {
        this.type = a;
        this.d = [];
        this.ja = [];
        this.da = !0
    }

    function g(a, b, e) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.na = [];
        this.Ie = [];
        this.qo = this.jk = this.Rm = this.Wi = this.group = this.Lm = !1;
        this.bb = [];
        this.Vc = [];
        this.Tc = [];
        this.Ug = "";
        this.Pf = this.Wi = this.group = !1;
        this.pi = null;
        e[1] && (this.Ug = e[1][1].toLowerCase(),
            this.group = !0, this.Wi = !!e[1][0], this.pi = [], this.Pf = this.Wi, this.b.me.push(this), this.b.Qi[this.Ug] = this);
        this.bd = e[2];
        this.Z = e[4];
        this.group || (this.b.Hn[this.Z.toString()] = this);
        var c = e[5];
        a = 0;
        for (b = c.length; a < b; a++) {
            var d = new Tb(this, c[a]);
            d.index = a;
            this.bb.push(d);
            this.Bn(d.type)
        }
        c = e[6];
        a = 0;
        for (b = c.length; a < b; a++) d = new Ub(this, c[a]), d.index = a, this.Vc.push(d);
        if (8 === e.length)
            for (e = e[7], a = 0, b = e.length; a < b; a++) this.sheet.vo(e[a], this, this.Tc);
        this.aj = !1;
        this.bb.length && (this.aj = null == this.bb[0].type &&
            this.bb[0].rb == X.prototype.n.ln)
    }

    function v(a, b) {
        var e, c, d;
        if (a && (-1 === b.indexOf(a) && b.push(a), a.hc))
            for (e = 0, c = a.cc.length; e < c; e++) d = a.cc[e], a !== d && -1 === b.indexOf(d) && b.push(d)
    }

    function t(a, b) {
        this.pc = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.O = [];
        this.wa = [];
        this.ka = {};
        this.index = -1;
        this.Cg = !1;
        this.rb = this.b.ie(b[1]);
        this.trigger = 0 < b[3];
        this.Yn = 2 === b[3];
        this.td = b[4];
        this.Dl = b[5];
        this.ju = b[6];
        this.Z = b[7];
        this.b.If[this.Z.toString()] = this; - 1 === b[0] ? (this.type = null, this.ab = this.Dm, this.Re = null, this.Bc = -1) :
            (this.type = this.b.B[b[0]], this.ab = this.ju ? this.Yu : this.Cm, b[2] ? (this.Re = this.type.Li(b[2]), this.Bc = this.type.gl(b[2])) : (this.Re = null, this.Bc = -1), this.pc.parent && this.pc.parent.Tj());
        this.Yn && (this.ab = this.Zu);
        if (10 === b.length) {
            var e, c, d = b[9];
            e = 0;
            for (c = d.length; e < c; e++) {
                var l = new Vb(this, d[e]);
                this.O.push(l)
            }
            this.wa.length = d.length
        }
    }

    function u(a, b) {
        this.pc = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.O = [];
        this.wa = [];
        this.ka = {};
        this.index = -1;
        this.Cg = !1;
        this.rb = this.b.ie(b[1]); - 1 === b[0] ? (this.type = null, this.ab =
            this.Dm, this.Re = null, this.Bc = -1) : (this.type = this.b.B[b[0]], this.ab = this.Cm, b[2] ? (this.Re = this.type.Li(b[2]), this.Bc = this.type.gl(b[2])) : (this.Re = null, this.Bc = -1));
        this.Z = b[3];
        this.b.Ff[this.Z.toString()] = this;
        if (6 === b.length) {
            var e, c, d = b[5];
            e = 0;
            for (c = d.length; e < c; e++) {
                var l = new Vb(this, d[e]);
                this.O.push(l)
            }
            this.wa.length = d.length
        }
    }

    function l(a, b) {
        this.u = a;
        this.pc = a.pc;
        this.sheet = a.sheet;
        this.b = a.b;
        this.type = b[0];
        this.od = null;
        this.Je = 0;
        this.get = null;
        this.Pn = 0;
        this.Za = null;
        this.key = 0;
        this.object = null;
        this.index = 0;
        this.ai = this.wf = this.ai = this.wf = this.$n = this.Ye = this.bi = null;
        this.Uc = !1;
        var e, c, d;
        switch (b[0]) {
            case 0:
            case 7:
                this.od = new Wb(this, b[1]);
                this.Je = 0;
                this.get = this.Gt;
                break;
            case 1:
                this.od = new Wb(this, b[1]);
                this.Je = 0;
                this.get = this.Ht;
                break;
            case 5:
                this.od = new Wb(this, b[1]);
                this.Je = 0;
                this.get = this.Lt;
                break;
            case 3:
            case 8:
                this.Pn = b[1];
                this.get = this.Et;
                break;
            case 6:
                this.Za = this.b.Rl[b[1]];
                this.get = this.Mt;
                break;
            case 9:
                this.key = b[1];
                this.get = this.Kt;
                break;
            case 4:
                this.object = this.b.B[b[1]];
                this.get =
                    this.Nt;
                this.pc.Bn(this.object);
                this.u instanceof Ub ? this.pc.Tj() : this.pc.parent && this.pc.parent.Tj();
                break;
            case 10:
                this.index = b[1];
                a.type.G ? (this.get = this.It, this.Uc = !0) : this.get = this.Jt;
                break;
            case 11:
                this.bi = b[1];
                this.Ye = null;
                this.get = this.Ft;
                break;
            case 2:
            case 12:
                this.$n = b[1];
                this.get = this.Dt;
                break;
            case 13:
                for (this.get = this.Ot, this.wf = [], this.ai = [], e = 1, c = b.length; e < c; e++) d = new Vb(this.u, b[e]), this.wf.push(d), this.ai.push(0)
        }
    }

    function e(a, b, e) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.na = [];
        this.name =
            e[1];
        this.ci = e[2];
        this.Vi = e[3];
        this.eh = !!e[4];
        this.$i = !!e[5];
        this.Z = e[6];
        this.b.Ag[this.Z.toString()] = this;
        this.data = this.Vi;
        this.parent ? (this.sf = this.eh || this.$i ? -1 : this.b.lv++, this.b.Ur.push(this)) : (this.sf = -1, this.b.Ak.push(this))
    }

    function k(a, b, e) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.na = [];
        this.Wg = null;
        this.Vt = e[1];
        this.Ea = !0
    }

    function s() {
        this.bq = [];
        this.reset(null)
    }
    var m = [];
    b.prototype.toString = function() {
        return this.name
    };
    b.prototype.vo = function(a, b, e) {
        switch (a[0]) {
            case 0:
                a = new Xb(this,
                    b, a);
                if (a.bd)
                    for (e.push(a), e = 0, b = a.bb.length; e < b; e++) a.bb[e].trigger && this.wo(a, e);
                else a.Eo() ? this.wo(a, 0) : e.push(a);
                break;
            case 1:
                a = new Pb(this, b, a);
                e.push(a);
                break;
            case 2:
                a = new Yb(this, b, a), e.push(a)
        }
    };
    b.prototype.Sa = function() {
        var a, b;
        a = 0;
        for (b = this.re.length; a < b; a++) this.re[a].Sa(a < b - 1 && this.re[a + 1].aj)
    };
    b.prototype.Vm = function() {
        this.Sk.length = 0;
        this.Dk.length = 0;
        this.zn(this);
        this.Dk.length = 0
    };
    b.prototype.zn = function(a) {
        var b, e, c, d, l = a.Sk,
            k = a.Dk,
            m = this.so.Ne();
        b = 0;
        for (e = m.length; b < e; ++b) c = m[b],
            d = c.Wg, !c.Ea || a === d || -1 < k.indexOf(d) || (k.push(d), d.zn(a), l.push(d))
    };
    b.prototype.ab = function(a) {
        this.b.Lw || (this.tl = !0, a || (this.b.Gl = !0));
        var b, e;
        b = 0;
        for (e = this.re.length; b < e; b++) {
            var c = this.re[b];
            c.ab();
            this.b.Lk(c.na);
            this.b.ue && this.b.yb()
        }
        a || (this.b.Gl = !1)
    };
    b.prototype.wo = function(a, b) {
        a.bd || this.b.mk.push(a);
        var e, c, d = a.bb[b],
            l;
        l = d.type ? d.type.name : "system";
        var k = (e = d.Yn) ? this.Zn : this.jq;
        k[l] || (k[l] = []);
        l = k[l];
        k = d.rb;
        if (e) {
            if (d.O.length && (d = d.O[0], 1 === d.type && 2 === d.od.type)) {
                d = d.od.value.toLowerCase();
                e = 0;
                for (c = l.length; e < c; e++)
                    if (l[e].method == k) {
                        e = l[e].Mg;
                        e[d] ? e[d].push([a, b]) : e[d] = [
                            [a, b]
                        ];
                        return
                    }
                e = {};
                e[d] = [
                    [a, b]
                ];
                l.push({
                    method: k,
                    Mg: e
                })
            }
        } else {
            e = 0;
            for (c = l.length; e < c; e++)
                if (l[e].method == k) {
                    l[e].Mg.push([a, b]);
                    return
                }
            Y && k === Y.prototype.n.Ef ? l.unshift({
                method: k,
                Mg: [
                    [a, b]
                ]
            }) : l.push({
                method: k,
                Mg: [
                    [a, b]
                ]
            })
        }
    };
    Fb = b;
    d.prototype.sl = function() {
        return this.da ? this.type.d.length : this.d.length
    };
    d.prototype.tc = function() {
        return this.da ? this.type.d : this.d
    };
    d.prototype.Gh = function(a) {
        a && (a.b.sb().qb.bd ? (this.da &&
            (this.d.length = 0, Ba(this.ja, a.type.d), this.da = !1), a = this.ja.indexOf(a), -1 !== a && (this.d.push(this.ja[a]), this.ja.splice(a, 1))) : (this.da = !1, this.d.length = 1, this.d[0] = a))
    };
    nb = d;
    window._c2hh_ = "6F0A399146B1A96ABA8B733C958F2CC01C8BC0B4";
    g.prototype.Sa = function(b) {
        var e, d = this.parent;
        if (this.group)
            for (this.jk = !0; d;) {
                if (!d.group) {
                    this.jk = !1;
                    break
                }
                d = d.parent
            }
        this.Rm = !this.Eo() && (!this.parent || this.parent.group && this.parent.jk);
        this.qo = !!b;
        this.Ie = this.na.slice(0);
        for (d = this.parent; d;) {
            b = 0;
            for (e = d.na.length; b <
                e; b++) this.Sr(d.na[b]);
            d = d.parent
        }
        this.na = a(this.na);
        this.Ie = a(this.Ie);
        b = 0;
        for (e = this.bb.length; b < e; b++) this.bb[b].Sa();
        b = 0;
        for (e = this.Vc.length; b < e; b++) this.Vc[b].Sa();
        b = 0;
        for (e = this.Tc.length; b < e; b++) this.Tc[b].Sa(b < e - 1 && this.Tc[b + 1].aj)
    };
    g.prototype.cv = function(a) {
        if (this.Pf !== !!a) {
            this.Pf = !!a;
            var b;
            a = 0;
            for (b = this.pi.length; a < b; ++a) this.pi[a].pq();
            0 < b && this.b.ta.Xe && this.b.ta.Xe.Vm()
        }
    };
    g.prototype.Bn = function(a) {
        v(a, this.na)
    };
    g.prototype.Sr = function(a) {
        v(a, this.Ie)
    };
    g.prototype.Tj = function() {
        this.Lm = !0;
        this.parent && this.parent.Tj()
    };
    g.prototype.Eo = function() {
        return this.bb.length ? this.bb[0].trigger : !1
    };
    g.prototype.ab = function() {
        var a, b = !1,
            e, c = this.b,
            d = this.b.sb();
        d.qb = this;
        var l = this.bb;
        this.aj || (d.Vk = !1);
        if (this.bd) {
            0 === l.length && (b = !0);
            d.Ua = 0;
            for (a = l.length; d.Ua < a; d.Ua++) l[d.Ua].trigger || (e = l[d.Ua].ab()) && (b = !0);
            (d.mf = b) && this.Pj()
        } else {
            d.Ua = 0;
            for (a = l.length; d.Ua < a; d.Ua++)
                if (e = l[d.Ua].ab(), !e) {
                    d.mf = !1;
                    this.Rm && c.ue && c.yb();
                    return
                }
            d.mf = !0;
            this.Pj()
        }
        this.Fs(d)
    };
    g.prototype.Fs = function(a) {
        a.mf &&
            this.qo && (a.Vk = !0);
        this.Rm && this.b.ue && this.b.yb()
    };
    g.prototype.Wu = function(a) {
        this.b.sb().qb = this;
        this.bb[a].ab() && (this.Pj(), this.b.sb().mf = !0)
    };
    g.prototype.Pj = function() {
        var a = this.b.sb(),
            b;
        a.Zb = 0;
        for (b = this.Vc.length; a.Zb < b; a.Zb++)
            if (this.Vc[a.Zb].ab()) return;
        this.Op()
    };
    g.prototype.Uu = function() {
        var a = this.b.sb(),
            b;
        for (b = this.Vc.length; a.Zb < b; a.Zb++)
            if (this.Vc[a.Zb].ab()) return;
        this.Op()
    };
    g.prototype.Op = function() {
        if (this.Tc.length) {
            var a, b, e, c, d = this.Tc.length - 1;
            this.b.Jj(this);
            if (this.Lm)
                for (a =
                    0, b = this.Tc.length; a < b; a++) e = this.Tc[a], (c = !this.jk || !this.group && a < d) && this.b.Kh(e.na), e.ab(), c ? this.b.De(e.na) : this.b.Lk(e.na);
            else
                for (a = 0, b = this.Tc.length; a < b; a++) this.Tc[a].ab();
            this.b.Ej()
        }
    };
    g.prototype.Xu = function() {
        var a = this.b.sb();
        a.qb = this;
        var b = !1,
            e;
        a.Ua = 0;
        for (e = this.bb.length; a.Ua < e; a.Ua++)
            if (this.bb[a.Ua].ab()) b = !0;
            else if (!this.bd) return !1;
        return this.bd ? b : !0
    };
    g.prototype.zm = function() {
        this.b.Ng++;
        var a = this.b.sb().Ua,
            b = this.b.Jj(this);
        if (!this.bd)
            for (b.Ua = a + 1, a = this.bb.length; b.Ua <
                a; b.Ua++)
                if (!this.bb[b.Ua].ab()) {
                    this.b.Ej();
                    return
                }
        this.Pj();
        this.b.Ej()
    };
    g.prototype.cu = function(a) {
        var b = a.index;
        if (0 === b) return !0;
        for (--b; 0 <= b; --b)
            if (this.bb[b].type === a.type) return !1;
        return !0
    };
    Xb = g;
    t.prototype.Sa = function() {
        var a, b, e;
        a = 0;
        for (b = this.O.length; a < b; a++) e = this.O[a], e.Sa(), e.Uc && (this.Cg = !0)
    };
    t.prototype.Zu = function() {
        return !0
    };
    t.prototype.Dm = function() {
        var a, b;
        a = 0;
        for (b = this.O.length; a < b; a++) this.wa[a] = this.O[a].get();
        return Va(this.rb.apply(this.b.Bd, this.wa), this.Dl)
    };
    t.prototype.Yu =
        function() {
            var a, b;
            a = 0;
            for (b = this.O.length; a < b; a++) this.wa[a] = this.O[a].get();
            a = this.rb.apply(this.Re ? this.Re : this.type, this.wa);
            this.type.Xc();
            return a
        };
    t.prototype.Cm = function() {
        var a, b, e, c, d, l, k, m, g = this.type,
            f = g.V(),
            q = this.pc.bd && !this.trigger;
        b = 0;
        var s = g.hc,
            u = g.G,
            v = g.Rd,
            t = this.Bc,
            z = -1 < t,
            x = this.Cg,
            C = this.O,
            H = this.wa,
            I = this.Dl,
            Q = this.rb,
            F;
        if (x)
            for (b = 0, d = C.length; b < d; ++b) l = C[b], l.Uc || (H[b] = l.get(0));
        else
            for (b = 0, d = C.length; b < d; ++b) H[b] = C[b].get(0);
        if (f.da) {
            f.d.length = 0;
            f.ja.length = 0;
            F = g.d;
            a = 0;
            for (c =
                F.length; a < c; ++a) {
                m = F[a];
                if (x)
                    for (b = 0, d = C.length; b < d; ++b) l = C[b], l.Uc && (H[b] = l.get(a));
                z ? (b = 0, u && (b = m.type.Mf[v]), b = Q.apply(m.R[t + b], H)) : b = Q.apply(m, H);
                (k = Va(b, I)) ? f.d.push(m): q && f.ja.push(m)
            }
            g.finish && g.finish(!0);
            f.da = !1;
            g.Xc();
            return f.sl()
        }
        e = 0;
        F = (k = q && !this.pc.cu(this)) ? f.ja : f.d;
        var L = !1;
        a = 0;
        for (c = F.length; a < c; ++a) {
            m = F[a];
            if (x)
                for (b = 0, d = C.length; b < d; ++b) l = C[b], l.Uc && (H[b] = l.get(a));
            z ? (b = 0, u && (b = m.type.Mf[v]), b = Q.apply(m.R[t + b], H)) : b = Q.apply(m, H);
            if (Va(b, I))
                if (L = !0, k) {
                    if (f.d.push(m), s)
                        for (b = 0, d =
                            m.siblings.length; b < d; b++) l = m.siblings[b], l.type.V().d.push(l)
                } else {
                    F[e] = m;
                    if (s)
                        for (b = 0, d = m.siblings.length; b < d; b++) l = m.siblings[b], l.type.V().d[e] = l;
                    e++
                } else if (k) {
                F[e] = m;
                if (s)
                    for (b = 0, d = m.siblings.length; b < d; b++) l = m.siblings[b], l.type.V().ja[e] = l;
                e++
            } else if (q && (f.ja.push(m), s))
                for (b = 0, d = m.siblings.length; b < d; b++) l = m.siblings[b], l.type.V().ja.push(l)
        }
        F.length = e;
        if (s)
            for (u = g.cc, a = 0, c = u.length; a < c; a++) m = u[a].V(), k ? m.ja.length = e : m.d.length = e;
        e = L;
        if (k && !L)
            for (a = 0, c = f.d.length; a < c; a++) {
                m = f.d[a];
                if (x)
                    for (b =
                        0, d = C.length; b < d; b++) l = C[b], l.Uc && (H[b] = l.get(a));
                b = z ? Q.apply(m.R[t], H) : Q.apply(m, H);
                if (Va(b, I)) {
                    L = !0;
                    break
                }
            }
        g.finish && g.finish(e || q);
        return q ? L : f.sl()
    };
    Tb = t;
    u.prototype.Sa = function() {
        var a, b, e;
        a = 0;
        for (b = this.O.length; a < b; a++) e = this.O[a], e.Sa(), e.Uc && (this.Cg = !0)
    };
    u.prototype.Dm = function() {
        var a, b;
        a = 0;
        for (b = this.O.length; a < b; a++) this.wa[a] = this.O[a].get();
        return this.rb.apply(this.b.Bd, this.wa)
    };
    u.prototype.Cm = function() {
        var a = this.type.V().tc(),
            b = this.type.G,
            e = this.type.Rd,
            c = this.Bc,
            d = -1 < c,
            l = this.Cg,
            k = this.O,
            m = this.wa,
            g = this.rb,
            f, q, s, u, v, t;
        if (l)
            for (q = 0, u = k.length; q < u; ++q) v = k[q], v.Uc || (m[q] = v.get(0));
        else
            for (q = 0, u = k.length; q < u; ++q) m[q] = k[q].get(0);
        f = 0;
        for (s = a.length; f < s; ++f) {
            t = a[f];
            if (l)
                for (q = 0, u = k.length; q < u; ++q) v = k[q], v.Uc && (m[q] = v.get(f));
            d ? (q = 0, b && (q = t.type.Mf[e]), g.apply(t.R[c + q], m)) : g.apply(t, m)
        }
        return !1
    };
    Ub = u;
    var z = [],
        x = -1;
    l.prototype.Sa = function() {
        var a, b;
        if (11 === this.type) this.Ye = this.b.jo(this.bi, this.pc.parent);
        else if (13 === this.type)
            for (a = 0, b = this.wf.length; a < b; a++) this.wf[a].Sa();
        this.od && this.od.Sa()
    };
    l.prototype.ou = function(a) {
        this.Uc || !a || a.Aa.Uj || (this.Uc = !0)
    };
    l.prototype.Sp = function() {
        this.Uc = !0
    };
    l.prototype.jb = function() {
        x++;
        z.length === x && z.push(new Zb);
        return z[x]
    };
    l.prototype.$a = function() {
        x--
    };
    l.prototype.Gt = function(a) {
        this.Je = a || 0;
        a = this.jb();
        this.od.get(a);
        this.$a();
        return a.data
    };
    l.prototype.Ht = function(a) {
        this.Je = a || 0;
        a = this.jb();
        this.od.get(a);
        this.$a();
        return R(a.data) ? a.data : ""
    };
    l.prototype.Nt = function() {
        return this.object
    };
    l.prototype.Et = function() {
        return this.Pn
    };
    l.prototype.Lt = function(a) {
        this.Je = a || 0;
        a = this.jb();
        this.od.get(a);
        this.$a();
        return a.lb() ? this.b.Rg(a.data) : this.b.kl(a.data)
    };
    l.prototype.Mt = function() {
        return this.Za
    };
    l.prototype.Kt = function() {
        return this.key
    };
    l.prototype.Jt = function() {
        return this.index
    };
    l.prototype.It = function(a) {
        a = a || 0;
        var b = this.u.type,
            e = null,
            e = b.V(),
            c = e.tc();
        if (c.length) e = c[a % c.length].type;
        else if (e.ja.length) e = e.ja[a % e.ja.length].type;
        else if (b.d.length) e = b.d[a % b.d.length].type;
        else return 0;
        return this.index + e.Ei[b.Rd]
    };
    l.prototype.Ft = function() {
        return this.Ye
    };
    l.prototype.Dt = function() {
        return this.$n
    };
    l.prototype.Ot = function() {
        var a, b;
        a = 0;
        for (b = this.wf.length; a < b; a++) this.ai[a] = this.wf[a].get();
        return this.ai
    };
    Vb = l;
    e.prototype.Sa = function() {
        this.na = a(this.na)
    };
    e.prototype.ae = function(a) {
        var b = this.b.ho();
        this.parent && !this.eh && b ? (this.sf >= b.length && (b.length = this.sf + 1), b[this.sf] = a) : this.data = a
    };
    e.prototype.bf = function() {
        var a = this.b.ho();
        return !this.parent || this.eh || !a || this.$i ? this.data : this.sf >= a.length || "undefined" ===
            typeof a[this.sf] ? this.Vi : a[this.sf]
    };
    e.prototype.ab = function() {
        !this.parent || this.eh || this.$i || this.ae(this.Vi)
    };
    Pb = e;
    k.prototype.toString = function() {
        return "include:" + this.Wg.toString()
    };
    k.prototype.Sa = function() {
        this.Wg = this.b.Xk[this.Vt];
        this.sheet.so.add(this);
        this.na = a(this.na);
        for (var b = this.parent; b;) b.group && b.pi.push(this), b = b.parent;
        this.pq()
    };
    k.prototype.ab = function() {
        this.parent && this.b.Jh(this.b.B);
        this.Wg.tl || this.Wg.ab(!0);
        this.parent && this.b.De(this.b.B)
    };
    k.prototype.pq = function() {
        for (var a =
                this.parent; a;) {
            if (a.group && !a.Pf) {
                this.Ea = !1;
                return
            }
            a = a.parent
        }
        this.Ea = !0
    };
    Yb = k;
    s.prototype.reset = function(a) {
        this.qb = a;
        this.Zb = this.Ua = 0;
        this.bq.length = 0;
        this.Vk = this.mf = !1
    };
    s.prototype.eu = function() {
        return this.qb.Lm ? !0 : this.Ua < this.qb.bb.length - 1 ? !!this.qb.na.length : !1
    };
    Ob = s
})();
(function() {
    function f(a, b) {
        this.u = a;
        this.b = a.b;
        this.type = b[0];
        this.get = [this.Rs, this.Ns, this.Zs, this.ct, this.Hs, this.$s, this.Vs, this.Ks, this.Us, this.Ys, this.Is, this.Xs, this.Ls, this.Ws, this.Ss, this.Ts, this.Os, this.Ps, this.Js, this.bt, this.Wn, this.Qs, this.Wn, this.Ms][this.type];
        var d = null;
        this.Tb = this.O = this.wa = this.rb = this.fk = this.ob = this.first = this.value = null;
        this.Bc = -1;
        this.Td = null;
        this.an = -1;
        this.Ye = this.bi = null;
        this.Nh = !1;
        switch (this.type) {
            case 0:
            case 1:
            case 2:
                this.value = b[1];
                break;
            case 3:
                this.first =
                    new Wb(a, b[1]);
                break;
            case 18:
                this.first = new Wb(a, b[1]);
                this.ob = new Wb(a, b[2]);
                this.fk = new Wb(a, b[3]);
                break;
            case 19:
                this.rb = this.b.ie(b[1]);
                this.rb !== X.prototype.Va.random && this.rb !== X.prototype.Va.ds || this.u.Sp();
                this.wa = [];
                this.O = [];
                3 === b.length ? (d = b[2], this.wa.length = d.length + 1) : this.wa.length = 1;
                break;
            case 20:
                this.Tb = this.b.B[b[1]];
                this.Bc = -1;
                this.rb = this.b.ie(b[2]);
                this.Nh = b[3];
                ac.Function && this.rb === ac.Function.prototype.Va.Gv && this.u.Sp();
                this.Td = b[4] ? new Wb(a, b[4]) : null;
                this.wa = [];
                this.O = [];
                6 === b.length ? (d = b[5], this.wa.length = d.length + 1) : this.wa.length = 1;
                break;
            case 21:
                this.Tb = this.b.B[b[1]];
                this.Nh = b[2];
                this.Td = b[3] ? new Wb(a, b[3]) : null;
                this.an = b[4];
                break;
            case 22:
                this.Tb = this.b.B[b[1]];
                this.Tb.Li(b[2]);
                this.Bc = this.Tb.gl(b[2]);
                this.rb = this.b.ie(b[3]);
                this.Nh = b[4];
                this.Td = b[5] ? new Wb(a, b[5]) : null;
                this.wa = [];
                this.O = [];
                7 === b.length ? (d = b[6], this.wa.length = d.length + 1) : this.wa.length = 1;
                break;
            case 23:
                this.bi = b[1], this.Ye = null
        }
        this.u.ou(this.Tb);
        4 <= this.type && 17 >= this.type && (this.first = new Wb(a,
            b[1]), this.ob = new Wb(a, b[2]));
        if (d) {
            var g, f;
            g = 0;
            for (f = d.length; g < f; g++) this.O.push(new Wb(a, d[g]))
        }
    }

    function q(a, b) {
        this.type = a || W.Df;
        this.data = b || 0;
        this.ig = null;
        this.type == W.Df && (this.data = Math.floor(this.data))
    }
    f.prototype.Sa = function() {
        23 === this.type && (this.Ye = this.u.b.jo(this.bi, this.u.pc.parent));
        this.first && this.first.Sa();
        this.ob && this.ob.Sa();
        this.fk && this.fk.Sa();
        this.Td && this.Td.Sa();
        if (this.O) {
            var a, b;
            a = 0;
            for (b = this.O.length; a < b; a++) this.O[a].Sa()
        }
    };
    f.prototype.bt = function(a) {
        this.wa[0] =
            a;
        a = this.u.jb();
        var b, d;
        b = 0;
        for (d = this.O.length; b < d; b++) this.O[b].get(a), this.wa[b + 1] = a.data;
        this.u.$a();
        this.rb.apply(this.b.Bd, this.wa)
    };
    f.prototype.Wn = function(a) {
        var b = this.Tb.V(),
            d = b.tc();
        if (!d.length)
            if (b.ja.length) d = b.ja;
            else {
                this.Nh ? a.pb("") : a.xa(0);
                return
            }
        this.wa[0] = a;
        a.ig = this.Tb;
        a = this.u.jb();
        var g, b = 0;
        for (g = this.O.length; b < g; b++) this.O[b].get(a), this.wa[b + 1] = a.data;
        b = this.u.Je;
        this.Td && (this.Td.get(a), a.lb() && (b = a.data, d = this.Tb.d));
        this.u.$a();
        b %= d.length;
        0 > b && (b += d.length);
        d = d[b]; - 1 <
            this.Bc ? (a = 0, this.Tb.G && (a = d.type.Mf[this.Tb.Rd]), this.rb.apply(d.R[this.Bc + a], this.wa)) : this.rb.apply(d, this.wa)
    };
    f.prototype.Qs = function(a) {
        var b = this.Tb.V(),
            d = b.tc();
        if (!d.length)
            if (b.ja.length) d = b.ja;
            else {
                this.Nh ? a.pb("") : a.xa(0);
                return
            }
        b = this.u.Je;
        if (this.Td) {
            var g = this.u.jb();
            this.Td.get(g);
            if (g.lb()) {
                b = g.data;
                d = this.Tb.d;
                b %= d.length;
                0 > b && (b += d.length);
                d = d[b].fb[this.an];
                R(d) ? a.pb(d) : a.H(d);
                this.u.$a();
                return
            }
            this.u.$a()
        }
        b %= d.length;
        0 > b && (b += d.length);
        d = d[b];
        b = 0;
        this.Tb.G && (b = d.type.Ei[this.Tb.Rd]);
        d = d.fb[this.an + b];
        R(d) ? a.pb(d) : a.H(d)
    };
    f.prototype.Rs = function(a) {
        a.type = W.Df;
        a.data = this.value
    };
    f.prototype.Ns = function(a) {
        a.type = W.Cf;
        a.data = this.value
    };
    f.prototype.Zs = function(a) {
        a.type = W.String;
        a.data = this.value
    };
    f.prototype.ct = function(a) {
        this.first.get(a);
        a.lb() && (a.data = -a.data)
    };
    f.prototype.Hs = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() && b.lb() && (a.data += b.data, b.Vf() && a.fg());
        this.u.$a()
    };
    f.prototype.$s = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() && b.lb() && (a.data -= b.data, b.Vf() && a.fg());
        this.u.$a()
    };
    f.prototype.Vs = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() && b.lb() && (a.data *= b.data, b.Vf() && a.fg());
        this.u.$a()
    };
    f.prototype.Ks = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() && b.lb() && (a.data /= b.data, a.fg());
        this.u.$a()
    };
    f.prototype.Us = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() && b.lb() && (a.data %= b.data, b.Vf() && a.fg());
        this.u.$a()
    };
    f.prototype.Ys = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() && b.lb() && (a.data = Math.pow(a.data, b.data), b.Vf() && a.fg());
        this.u.$a()
    };
    f.prototype.Is = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() ? b.bj() ? a.pb(a.data.toString() + b.data) : a.data && b.data ? a.xa(1) : a.xa(0) : a.bj() && (a.data = b.bj() ? a.data + b.data : a.data + (Math.round(1E10 * b.data) / 1E10).toString());
        this.u.$a()
    };
    f.prototype.Xs = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.lb() && b.lb() && (a.data || b.data ? a.xa(1) : a.xa(0));
        this.u.$a()
    };
    f.prototype.Js = function(a) {
        this.first.get(a);
        a.data ? this.ob.get(a) : this.fk.get(a)
    };
    f.prototype.Ls = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.xa(a.data === b.data ? 1 : 0);
        this.u.$a()
    };
    f.prototype.Ws = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.xa(a.data !== b.data ? 1 : 0);
        this.u.$a()
    };
    f.prototype.Ss = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.xa(a.data < b.data ? 1 : 0);
        this.u.$a()
    };
    f.prototype.Ts = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.xa(a.data <= b.data ? 1 : 0);
        this.u.$a()
    };
    f.prototype.Os = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.xa(a.data > b.data ? 1 : 0);
        this.u.$a()
    };
    f.prototype.Ps = function(a) {
        this.first.get(a);
        var b = this.u.jb();
        this.ob.get(b);
        a.xa(a.data >= b.data ? 1 : 0);
        this.u.$a()
    };
    f.prototype.Ms = function(a) {
        var b = this.Ye.bf();
        O(b) ? a.H(b) : a.pb(b)
    };
    Wb = f;
    q.prototype.Vf = function() {
        return this.type === W.Cf
    };
    q.prototype.lb = function() {
        return this.type === W.Df || this.type === W.Cf
    };
    q.prototype.bj = function() {
        return this.type ===
            W.String
    };
    q.prototype.fg = function() {
        this.Vf() || (this.bj() && (this.data = parseFloat(this.data)), this.type = W.Cf)
    };
    q.prototype.xa = function(a) {
        this.type = W.Df;
        this.data = Math.floor(a)
    };
    q.prototype.H = function(a) {
        this.type = W.Cf;
        this.data = a
    };
    q.prototype.pb = function(a) {
        this.type = W.String;
        this.data = a
    };
    q.prototype.jv = function(a) {
        O(a) ? (this.type = W.Cf, this.data = a) : R(a) ? (this.type = W.String, this.data = a.toString()) : (this.type = W.Df, this.data = 0)
    };
    Zb = q;
    W = {
        Df: 0,
        Cf: 1,
        String: 2
    }
})();

function X(f) {
    this.b = f;
    this.Yb = []
}
X.prototype.Wb = function() {
    var f = {},
        q, a, b, d, g, v, t, u;
    f.waits = [];
    var l = f.waits,
        e;
    q = 0;
    for (a = this.Yb.length; q < a; q++) {
        v = this.Yb[q];
        e = {
            t: v.time,
            st: v.Zp,
            s: v.Km,
            ev: v.Kf.Z,
            sm: [],
            sols: {}
        };
        v.Kf.Vc[v.Zb] && (e.act = v.Kf.Vc[v.Zb].Z);
        b = 0;
        for (d = v.na.length; b < d; b++) e.sm.push(v.na[b].Z);
        for (g in v.Mb)
            if (v.Mb.hasOwnProperty(g)) {
                t = this.b.B[parseInt(g, 10)];
                u = {
                    sa: v.Mb[g].Qj,
                    insts: []
                };
                b = 0;
                for (d = v.Mb[g].Ud.length; b < d; b++) u.insts.push(v.Mb[g].Ud[b].uid);
                e.sols[t.Z.toString()] = u
            }
        l.push(e)
    }
    return f
};
X.prototype.yc = function(f) {
    f = f.waits;
    var q, a, b, d, g, v, t, u, l, e, k;
    q = this.Yb.length = 0;
    for (a = f.length; q < a; q++)
        if (v = f[q], u = this.b.Hn[v.ev.toString()]) {
            l = -1;
            b = 0;
            for (d = u.Vc.length; b < d; b++)
                if (u.Vc[b].Z === v.act) {
                    l = b;
                    break
                }
            if (-1 !== l) {
                t = {
                    Mb: {},
                    na: [],
                    Tk: !1
                };
                t.time = v.t;
                t.Zp = v.st || "";
                t.Km = !!v.s;
                t.Kf = u;
                t.Zb = l;
                b = 0;
                for (d = v.sm.length; b < d; b++)(u = this.b.Pi(v.sm[b])) && t.na.push(u);
                for (g in v.sols)
                    if (v.sols.hasOwnProperty(g) && (u = this.b.Pi(parseInt(g, 10)))) {
                        l = v.sols[g];
                        e = {
                            Qj: l.sa,
                            Ud: []
                        };
                        b = 0;
                        for (d = l.insts.length; b < d; b++)(k =
                            this.b.Oi(l.insts[b])) && e.Ud.push(k);
                        t.Mb[u.index.toString()] = e
                    }
                this.Yb.push(t)
            }
        }
};
(function() {
    function f() {}

    function q(a, b) {
        var d = a.ka.c2_feo_val,
            g = b.ka.c2_feo_val;
        if (O(d) && O(g)) return d - g;
        d = "" + d;
        g = "" + g;
        return d < g ? -1 : d > g ? 1 : 0
    }

    function a() {}

    function b() {}
    var d = X.prototype;
    f.prototype.mn = function() {
        return !0
    };
    f.prototype.$q = function() {
        return !0
    };
    var g = [],
        v = -1;
    f.prototype.Fq = function(a, b, d) {
        b = a.V();
        v++;
        g.length === v && g.push([]);
        var f = g[v];
        Ba(f, b.tc());
        var m = this.b.sb(),
            u = m.qb,
            t = this.b.Mi(),
            p = m.eu(),
            m = this.b.Nu(),
            h, E, c, n, r;
        h = 0;
        for (E = f.length; h < E; h++) f[h].ka.c2_feo_val = t.O[1].get(h);
        f.sort(q);
        1 === d && f.reverse();
        d = a.hc;
        if (p)
            for (h = 0, E = f.length; h < E && !m.xb; h++) {
                this.b.Kh(u.na);
                c = f[h];
                b = a.V();
                b.da = !1;
                b.d.length = 1;
                b.d[0] = c;
                if (d)
                    for (t = 0, p = c.siblings.length; t < p; t++) n = c.siblings[t], r = n.type.V(), r.da = !1, r.d.length = 1, r.d[0] = n;
                m.index = h;
                u.zm();
                this.b.De(u.na)
            } else
                for (b.da = !1, b.d.length = 1, h = 0, E = f.length; h < E && !m.xb; h++) {
                    c = f[h];
                    b.d[0] = c;
                    if (d)
                        for (t = 0, p = c.siblings.length; t < p; t++) n = c.siblings[t], r = n.type.V(), r.da = !1, r.d.length = 1, r.d[0] = n;
                    m.index = h;
                    u.zm()
                }
        f.length = 0;
        this.b.Eu();
        v--;
        return !1
    };
    f.prototype.Kr =
        function() {
            var a = this.b.Mi().ka;
            "undefined" === typeof a.TriggerOnce_lastTick && (a.TriggerOnce_lastTick = -1);
            var b = a.TriggerOnce_lastTick,
                d = this.b.hd;
            a.TriggerOnce_lastTick = d;
            return this.b.Ql || b !== d - 1
        };
    f.prototype.Aq = function(a, b, d) {
        return $b(a.bf(), b, d)
    };
    f.prototype.ln = function() {
        var a = this.b.sb();
        return a.Vk ? !1 : !a.mf
    };
    f.prototype.nn = function() {
        return !0
    };
    f.prototype.Tq = function() {
        return !0
    };
    f.prototype.xk = function() {
        return !0
    };
    f.prototype.br = function() {
        return !0
    };
    f.prototype.wk = function() {
        return !0
    };
    f.prototype.wq =
        function(a, b, d) {
            return Ma(V(a), V(d)) <= V(b)
        };
    f.prototype.Jq = function(a, b) {
        return Sa(V(a), V(b))
    };
    f.prototype.Iq = function(a, b, d) {
        a = Ka(a);
        b = Ka(b);
        d = Ka(d);
        return Sa(d, b) ? Sa(a, b) && !Sa(a, d) : !(!Sa(a, b) && Sa(a, d))
    };
    d.n = new f;
    a.prototype.Gq = function(a) {
        this.b.Yf || this.b.Se || (this.b.Se = a)
    };
    a.prototype.Dq = function(a, b, d, g) {
        if (b && a && (b = this.b.Qn(a, b, d, g))) {
            this.b.Zc++;
            var m;
            this.b.trigger(Object.getPrototypeOf(a.Aa).n.uk, b);
            if (b.hc)
                for (d = 0, g = b.siblings.length; d < g; d++) m = b.siblings[d], this.b.trigger(Object.getPrototypeOf(m.type.Aa).n.uk,
                    m);
            this.b.Zc--;
            a = a.V();
            a.da = !1;
            a.d.length = 1;
            a.d[0] = b;
            if (b.hc)
                for (d = 0, g = b.siblings.length; d < g; d++) m = b.siblings[d], a = m.type.V(), a.da = !1, a.d.length = 1, a.d[0] = m
        }
    };
    a.prototype.Cr = function(a, b) {
        0 === a.ci ? O(b) ? a.ae(b) : a.ae(parseFloat(b)) : 1 === a.ci && a.ae(b.toString())
    };
    a.prototype.vq = function(a, b) {
        0 === a.ci ? O(b) ? a.ae(a.bf() + b) : a.ae(a.bf() + parseFloat(b)) : 1 === a.ci && a.ae(a.bf() + b.toString())
    };
    a.prototype.Ir = function(a, b) {
        0 === a.ci && (O(b) ? a.ae(a.bf() - b) : a.ae(a.bf() - parseFloat(b)))
    };
    a.prototype.Br = function(a) {
        0 > a &&
            (a = 0);
        this.b.Af = a
    };
    var t = [],
        u = [];
    a.prototype.Lr = function(a) {
        if (!(0 > a)) {
            var b, d, g, m = this.b.sb(),
                f;
            f = t.length ? t.pop() : {
                Mb: {},
                na: []
            };
            f.Tk = !1;
            f.time = this.b.wc.pa + a;
            f.Zp = "";
            f.Km = !1;
            f.Kf = m.qb;
            f.Zb = m.Zb + 1;
            a = 0;
            for (b = this.b.B.length; a < b; a++) g = this.b.B[a], d = g.V(), d.da && -1 === m.qb.na.indexOf(g) || (f.na.push(g), g = void 0, g = u.length ? u.pop() : {
                Ud: []
            }, g.Qj = !1, g.Qj = d.da, Ba(g.Ud, d.d), f.Mb[a.toString()] = g);
            this.Yb.push(f);
            return !0
        }
    };
    a.prototype.mr = function() {
        var a, b, d;
        a = 0;
        for (b = this.b.Ak.length; a < b; a++) d = this.b.Ak[a],
            d.data = d.Vi
    };
    a.prototype.nr = function() {
        if (!this.b.Yf && !this.b.Se && this.b.ta) {
            this.b.Se = this.b.ta;
            var a, b, d;
            a = 0;
            for (b = this.b.me.length; a < b; a++) d = this.b.me[a], d.cv(d.Wi)
        }
    };
    d.M = new a;
    b.prototype["int"] = function(a, b) {
        R(b) ? (a.xa(parseInt(b, 10)), isNaN(a.data) && (a.data = 0)) : a.xa(b)
    };
    b.prototype["float"] = function(a, b) {
        R(b) ? (a.H(parseFloat(b)), isNaN(a.data) && (a.data = 0)) : a.H(b)
    };
    b.prototype.random = function(a, b, d) {
        void 0 === d ? a.H(Math.random() * b) : a.H(Math.random() * (d - b) + b)
    };
    b.prototype.sqrt = function(a, b) {
        a.H(Math.sqrt(b))
    };
    b.prototype.abs = function(a, b) {
        a.H(Math.abs(b))
    };
    b.prototype.round = function(a, b) {
        a.xa(Math.round(b))
    };
    b.prototype.floor = function(a, b) {
        a.xa(Math.floor(b))
    };
    b.prototype.ceil = function(a, b) {
        a.xa(Math.ceil(b))
    };
    b.prototype.sin = function(a, b) {
        a.H(Math.sin(V(b)))
    };
    b.prototype.cos = function(a, b) {
        a.H(Math.cos(V(b)))
    };
    b.prototype.tan = function(a, b) {
        a.H(Math.tan(V(b)))
    };
    b.prototype.asin = function(a, b) {
        a.H(Ga(Math.asin(b)))
    };
    b.prototype.acos = function(a, b) {
        a.H(Ga(Math.acos(b)))
    };
    b.prototype.atan = function(a, b) {
        a.H(Ga(Math.atan(b)))
    };
    b.prototype.exp = function(a, b) {
        a.H(Math.exp(b))
    };
    b.prototype.log10 = function(a, b) {
        a.H(Math.log(b) / Math.LN10)
    };
    b.prototype.max = function(a) {
        var b = arguments[1];
        "number" !== typeof b && (b = 0);
        var d, g, m;
        d = 2;
        for (g = arguments.length; d < g; d++) m = arguments[d], "number" === typeof m && b < m && (b = m);
        a.H(b)
    };
    b.prototype.min = function(a) {
        var b = arguments[1];
        "number" !== typeof b && (b = 0);
        var d, g, m;
        d = 2;
        for (g = arguments.length; d < g; d++) m = arguments[d], "number" === typeof m && b > m && (b = m);
        a.H(b)
    };
    b.prototype.We = function(a) {
        a.H(this.b.We)
    };
    b.prototype.Af =
        function(a) {
            a.H(this.b.Af)
        };
    b.prototype.time = function(a) {
        a.H(this.b.wc.pa)
    };
    b.prototype.hd = function(a) {
        a.xa(this.b.hd)
    };
    b.prototype.uj = function(a) {
        a.xa(this.b.uj)
    };
    b.prototype.dl = function(a) {
        a.xa(this.b.dl)
    };
    b.prototype.k = function(a, b, d, g, m) {
        a.H(Ga(La(b, d, g, m)))
    };
    b.prototype.find = function(a, b, d) {
        R(b) && R(d) ? a.xa(b.search(new RegExp(cb(d), "i"))) : a.xa(-1)
    };
    b.prototype.left = function(a, b, d) {
        a.pb(R(b) ? b.substr(0, d) : "")
    };
    b.prototype.right = function(a, b, d) {
        a.pb(R(b) ? b.substr(b.length - d) : "")
    };
    b.prototype.replace =
        function(a, b, d, g) {
            R(b) && R(d) && R(g) ? a.pb(b.replace(new RegExp(cb(d), "gi"), g)) : a.pb(R(b) ? b : "")
        };
    b.prototype.trim = function(a, b) {
        a.pb(R(b) ? b.trim() : "")
    };
    b.prototype.ds = function(a) {
        var b = T(Math.random() * (arguments.length - 1));
        a.jv(arguments[b + 1])
    };
    b.prototype.Nk = function(a) {
        a.H(this.b.Nk / 1E3)
    };
    b.prototype.dg = function(a) {
        a.H(this.b.dg)
    };
    d.Va = new b;
    d.Vu = function() {
        var a, b, d, g, m, f, q = this.b.sb();
        a = 0;
        for (d = this.Yb.length; a < d; a++) {
            g = this.Yb[a];
            if (-1 === g.time) {
                if (!g.Km) continue
            } else if (g.time > this.b.wc.pa) continue;
            q.qb = g.Kf;
            q.Zb = g.Zb;
            q.Ua = 0;
            for (b in g.Mb) g.Mb.hasOwnProperty(b) && (m = this.b.B[parseInt(b, 10)].V(), f = g.Mb[b], m.da = f.Qj, Ba(m.d, f.Ud), m = f, m.Ud.length = 0, u.push(m));
            g.Kf.Uu();
            this.b.Lk(g.na);
            g.Tk = !0
        }
        b = a = 0;
        for (d = this.Yb.length; a < d; a++) g = this.Yb[a], this.Yb[b] = g, g.Tk ? (Xa(g.Mb), g.na.length = 0, t.push(g)) : b++;
        this.Yb.length = b
    }
})();
(function() {
    mb = function(f, a) {
        var b = f[1],
            d = f[3],
            g = f[4],
            v = f[5],
            t = f[6],
            u = f[7],
            l = f[8];
        a.n || (a.n = {});
        a.M || (a.M = {});
        a.Va || (a.Va = {});
        var e = a.n,
            k = a.M,
            s = a.Va;
        d && (e.Bq = function(a, b) {
                return $b(this.x, a, b)
            }, e.Cq = function(a, b) {
                return $b(this.y, a, b)
            }, e.Qv = function() {
                var a = this.m;
                this.ya();
                var b = this.za;
                return !(b.right < a.Ba || b.bottom < a.Ca || b.left > a.Ja || b.top > a.Ia)
            }, e.Rv = function() {
                this.ya();
                var a = this.za,
                    b = this.b.ta;
                return 0 > a.right || 0 > a.bottom || a.left > b.width || a.top > b.height
            }, e.bw = function(a, b, d) {
                var e = this.V(),
                    h = e.tc();
                if (!h.length) return !1;
                var g = h[0],
                    c = g,
                    l = Ua(g.x, g.y, b, d),
                    k, f, q;
                k = 1;
                for (f = h.length; k < f; k++)
                    if (g = h[k], q = Ua(g.x, g.y, b, d), 0 === a && q < l || 1 === a && q > l) l = q, c = g;
                e.Gh(c);
                return !0
            }, k.Fr = function(a) {
                this.x !== a && (this.x = a, this.K())
            }, k.Gr = function(a) {
                this.y !== a && (this.y = a, this.K())
            }, k.pw = function(a, b) {
                if (this.x !== a || this.y !== b) this.x = a, this.y = b, this.K()
            }, k.qw = function(a, b) {
                var d = a.wt(this);
                if (d) {
                    var e;
                    d.jl ? (e = d.jl(b, !0), d = d.jl(b, !1)) : (e = d.x, d = d.y);
                    if (this.x !== e || this.y !== d) this.x = e, this.y = d, this.K()
                }
            }, k.Wv =
            function(a) {
                0 !== a && (this.x += Math.cos(this.k) * a, this.y += Math.sin(this.k) * a, this.K())
            }, k.Vv = function(a, b) {
                0 !== b && (this.x += Math.cos(V(a)) * b, this.y += Math.sin(V(a)) * b, this.K())
            }, s.zk = function(a) {
                a.H(this.x)
            }, s.vn = function(a) {
                a.H(this.y)
            }, s.We = function(a) {
                a.H(this.b.Qg(this))
            });
        g && (e.Kv = function(a, b) {
            return $b(this.width, a, b)
        }, e.Hv = function(a, b) {
            return $b(this.height, a, b)
        }, k.Er = function(a) {
            this.width !== a && (this.width = a, this.K())
        }, k.nw = function(a) {
            this.height !== a && (this.height = a, this.K())
        }, k.rw = function(a,
            b) {
            if (this.width !== a || this.height !== b) this.width = a, this.height = b, this.K()
        }, s.xw = function(a) {
            a.H(this.width)
        }, s.Mv = function(a) {
            a.H(this.height)
        }, s.Dv = function(a) {
            this.ya();
            a.H(this.za.left)
        }, s.Fv = function(a) {
            this.ya();
            a.H(this.za.top)
        }, s.Ev = function(a) {
            this.ya();
            a.H(this.za.right)
        }, s.Cv = function(a) {
            this.ya();
            a.H(this.za.bottom)
        });
        v && (e.wq = function(a, b) {
            return Ma(this.k, V(b)) <= V(a)
        }, e.Jq = function(a) {
            return Sa(this.k, V(a))
        }, e.Iq = function(a, b) {
            var d = Ka(a),
                e = Ka(b),
                h = Ia(this.k);
            return Sa(e, d) ? Sa(h, d) &&
                !Sa(h, e) : !(!Sa(h, d) && Sa(h, e))
        }, k.jw = function(a) {
            a = V(Ha(a));
            isNaN(a) || this.k === a || (this.k = a, this.K())
        }, k.fw = function(a) {
            0 === a || isNaN(a) || (this.k += V(a), this.k = Ia(this.k), this.K())
        }, k.gw = function(a) {
            0 === a || isNaN(a) || (this.k -= V(a), this.k = Ia(this.k), this.K())
        }, k.hw = function(a, b) {
            var d = Na(this.k, V(b), V(a));
            isNaN(d) || this.k === d || (this.k = d, this.K())
        }, k.iw = function(a, b, d) {
            a = Na(this.k, Math.atan2(d - this.y, b - this.x), V(a));
            isNaN(a) || this.k === a || (this.k = a, this.K())
        }, k.sw = function(a, b) {
            var d = Math.atan2(b - this.y,
                a - this.x);
            isNaN(d) || this.k === d || (this.k = d, this.K())
        }, s.Bv = function(a) {
            a.H(Ja(this.k))
        });
        b || (e.Iv = function(a, b, d) {
            return $b(this.fb[a], b, d)
        }, e.Ov = function(a) {
            return this.fb[a]
        }, e.cw = function(a, b) {
            var d = this.V(),
                e = d.tc();
            if (!e.length) return !1;
            var h = e[0],
                g = h,
                c = h.fb[b],
                l, k, f;
            l = 1;
            for (k = e.length; l < k; l++)
                if (h = e[l], f = h.fb[b], 0 === a && f < c || 1 === a && f > c) c = f, g = h;
            d.Gh(g);
            return !0
        }, e.aw = function(a) {
            var b, d, e, h, g;
            if (this.b.Mi().Dl) {
                g = this.V();
                if (g.da)
                    for (g.da = !1, g.d.length = 0, g.ja.length = 0, e = this.d, b = 0, d = e.length; b <
                        d; b++) h = e[b], h.uid === a ? g.ja.push(h) : g.d.push(h);
                else {
                    e = b = 0;
                    for (d = g.d.length; b < d; b++) h = g.d[b], g.d[e] = h, h.uid === a ? g.ja.push(h) : e++;
                    g.d.length = e
                }
                this.Xc();
                return !!g.d.length
            }
            h = this.b.Oi(a);
            if (!h) return !1;
            g = this.V();
            if (!g.da && -1 === g.d.indexOf(h)) return !1;
            if (this.G)
                for (a = h.type.Fa, b = 0, d = a.length; b < d; b++) {
                    if (a[b] === this) return g.Gh(h), this.Xc(), !0
                } else if (h.type === this) return g.Gh(h), this.Xc(), !0;
            return !1
        }, e.uk = function() {
            return !0
        }, e.Vq = function() {
            return !0
        }, k.ow = function(a, b) {
            var d = this.fb;
            O(d[a]) ? d[a] =
                O(b) ? b : parseFloat(b) : R(d[a]) && (d[a] = R(b) ? b : b.toString())
        }, k.Av = function(a, b) {
            var d = this.fb;
            O(d[a]) ? d[a] = O(b) ? d[a] + b : d[a] + parseFloat(b) : R(d[a]) && (d[a] = R(b) ? d[a] + b : d[a] + b.toString())
        }, k.uw = function(a, b) {
            var d = this.fb;
            O(d[a]) && (d[a] = O(b) ? d[a] - b : d[a] - parseFloat(b))
        }, k.kw = function(a, b) {
            this.fb[a] = b ? 1 : 0
        }, k.vw = function(a) {
            this.fb[a] = 1 - this.fb[a]
        }, k.Eq = function() {
            this.b.he(this)
        }, k.Nq || (k.Nq = function(a) {
            var b, d;
            try {
                b = JSON.parse(a)
            } catch (e) {
                return
            }
            this.b.mj(this, b, !0);
            this.Gd && this.Gd();
            if (this.R)
                for (a = 0,
                    b = this.R.length; a < b; ++a) d = this.R[a], d.Gd && d.Gd()
        }), s.Lv = function(a) {
            var b = a.ig.d.length,
                d, e, h;
            d = 0;
            for (e = this.b.Yc.length; d < e; d++) h = this.b.Yc[d], a.ig.G ? 0 <= h.type.Fa.indexOf(a.ig) && b++ : h.type === a.ig && b++;
            a.xa(b)
        }, s.ew = function(a) {
            a.xa(a.ig.V().tc().length)
        }, s.ww = function(a) {
            a.xa(this.uid)
        }, s.Nv = function(a) {
            a.xa(this.Tg())
        }, s.kn || (s.kn = function(a) {
            a.pb(JSON.stringify(this.b.Em(this, !0)))
        }));
        t && (e.Sv = function() {
                return this.visible
            }, k.Dr = function(a) {
                !a !== !this.visible && (this.visible = a, this.b.ra = !0)
            }, e.Jv =
            function(a, b) {
                return $b(ib(100 * this.opacity), a, b)
            }, k.un = function(a) {
                a /= 100;
                0 > a ? a = 0 : 1 < a && (a = 1);
                a !== this.opacity && (this.opacity = a, this.b.ra = !0)
            }, s.Opacity = function(a) {
                a.H(ib(100 * this.opacity))
            });
        u && (e.Pv = function(a) {
                return a ? this.m === a : !1
            }, e.dw = function(a) {
                var b = this.V(),
                    d = b.tc();
                if (!d.length) return !1;
                var e = d[0],
                    h = e,
                    g, c;
                g = 1;
                for (c = d.length; g < c; g++)
                    if (e = d[g], 0 === a) {
                        if (e.m.index > h.m.index || e.m.index === h.m.index && e.qd() > h.qd()) h = e
                    } else if (e.m.index < h.m.index || e.m.index === h.m.index && e.qd() < h.qd()) h = e;
                b.Gh(h);
                return !0
            }, k.Qq = function() {
                var a = this.m,
                    b = a.d;
                b.length && b[b.length - 1] === this || (a.pg(this, !1), a.Eg(this, !1), this.b.ra = !0)
            }, k.Xv = function() {
                var a = this.m,
                    b = a.d;
                b.length && b[0] === this || (a.pg(this, !1), a.Iu(this), this.b.ra = !0)
            }, k.Yv = function(a) {
                a && a != this.m && (this.m.pg(this, !0), this.m = a, a.Eg(this, !0), this.b.ra = !0)
            }, k.zw = function(a, b) {
                var d = 0 === a;
                if (b) {
                    var e = b.ot(this);
                    e && e.uid !== this.uid && (this.m.index !== e.m.index && (this.m.pg(this, !0), this.m = e.m, e.m.Eg(this, !0)), this.m.qu(this, e, d), this.b.ra = !0)
                }
            }, s.Uv = function(a) {
                a.xa(this.m.lp)
            },
            s.Tv = function(a) {
                a.pb(this.m.name)
            }, s.yw = function(a) {
                a.xa(this.qd())
            });
        l && (k.lw = function(a, b) {
            if (this.b.C) {
                var d = this.type.il(b);
                if (!(0 > d)) {
                    var e = 1 === a;
                    this.ke[d] !== e && (this.ke[d] = e, this.ee(), this.b.ra = !0)
                }
            }
        }, k.mw = function(a, b, d) {
            if (this.b.C) {
                var e = this.type.il(a);
                0 > e || (a = this.type.N[e], e = this.La[e], b = Math.floor(b), 0 > b || b >= e.length || (1 === this.b.C.At(a.wb, b) && (d /= 100), e[b] !== d && (e[b] = d, a.Ea && (this.b.ra = !0))))
            }
        })
    };
    Gb = function() {
        this.Hk = this.ki = !0;
        this.type.ei = !0;
        this.b.ra = !0;
        var f, a, b = this.Fk;
        f = 0;
        for (a =
            b.length; f < a; ++f) b[f](this);
        this.m.jd && this.ya()
    };
    Hb = function(f) {
        f && this.Fk.push(f)
    };
    Jb = function() {
        if (this.ki) {
            var f = this.za,
                a = this.Bb;
            f.set(this.x, this.y, this.x + this.width, this.y + this.height);
            f.offset(-this.Qb * this.width, -this.Rb * this.height);
            this.k ? (f.offset(-this.x, -this.y), a.Up(f, this.k), a.offset(this.x, this.y), a.In(f)) : a.tg(f);
            f.normalize();
            this.ki = !1;
            this.vv()
        }
    };
    var f = new U(0, 0, 0, 0);
    Kb = function() {
        if (this.m.jd) {
            var q = this.m.mc,
                a = this.za;
            f.set(q.nc(a.left), q.oc(a.top), q.nc(a.right), q.oc(a.bottom));
            this.Ub.Ci(f) || (this.Ub.right < this.Ub.left ? q.update(this, null, f) : q.update(this, this.Ub, f), this.Ub.ri(f), this.m.Yd = !0)
        }
    };
    Lb = function() {
        if (this.Hk && this.Dc) {
            this.ya();
            var q = this.type.Ig,
                a = this.za;
            f.set(q.nc(a.left), q.oc(a.top), q.nc(a.right), q.oc(a.bottom));
            this.Cc.Ci(f) || (this.Cc.right < this.Cc.left ? q.update(this, null, f) : q.update(this, this.Cc, f), this.Cc.ri(f), this.Hk = !1)
        }
    };
    Ib = function(f, a) {
        return this.za.Ib(f, a) && this.Bb.Ib(f, a) ? this.ga && !this.ga.Uf() ? (this.ga.Hf(this.width, this.height, this.k), this.ga.Ib(f -
            this.x, a - this.y)) : !0 : !1
    };
    Cb = function() {
        this.type.ok();
        return this.ef
    };
    Mb = function() {
        this.m.Ym();
        return this.kd
    };
    Nb = function() {
        this.fa.length = 0;
        var f, a;
        f = 0;
        for (a = this.ke.length; f < a; f++) this.ke[f] && this.fa.push(this.type.N[f]);
        this.tq = !!this.fa.length
    };
    Db = function() {
        return "Inst" + this.Lp
    };
    pb = function(f) {
        if (f && f.hc && f.type != this) {
            var a, b, d;
            a = 0;
            for (b = f.siblings.length; a < b; a++)
                if (d = f.siblings[a], d.type == this) return d
        }
        f = this.V().tc();
        return f.length ? f[0] : null
    };
    qb = function(f) {
        var a = this.V().tc();
        return a.length ?
            a[f.Tg() % a.length] : null
    };
    ob = function() {
        if (this.wg && !this.G) {
            var f, a;
            f = 0;
            for (a = this.d.length; f < a; f++) this.d[f].ef = f;
            var b = f,
                d = this.b.Yc;
            f = 0;
            for (a = d.length; f < a; ++f) d[f].type === this && (d[f].ef = b++);
            this.wg = !1
        }
    };
    Ab = function(f) {
        if (f < this.d.length) return this.d[f];
        f -= this.d.length;
        var a = this.b.Yc,
            b, d;
        b = 0;
        for (d = a.length; b < d; ++b)
            if (a[b].type === this) {
                if (0 === f) return a[b];
                --f
            }
        return null
    };
    rb = function() {
        return this.Ke[this.Nd]
    };
    tb = function() {
        this.Nd++;
        this.Nd === this.Ke.length ? this.Ke.push(new nb(this)) : this.Ke[this.Nd].da = !0
    };
    ub = function() {
        this.Nd++;
        this.Nd === this.Ke.length && this.Ke.push(new nb(this));
        var f = this.Ke[this.Nd],
            a = this.Ke[this.Nd - 1];
        a.da ? f.da = !0 : (f.da = !1, Ba(f.d, a.d), Ba(f.ja, a.ja))
    };
    vb = function() {
        this.Nd--
    };
    wb = function(f) {
        var a, b, d, g, v, t = 0;
        if (!this.G)
            for (a = 0, b = this.Fa.length; a < b; a++)
                for (v = this.Fa[a], d = 0, g = v.Ta.length; d < g; d++) {
                    if (f === v.Ta[d].name) return this.ka.lastBehIndex = t, v.Ta[d];
                    t++
                }
        a = 0;
        for (b = this.Ta.length; a < b; a++) {
            if (f === this.Ta[a].name) return this.ka.lastBehIndex = t, this.Ta[a];
            t++
        }
        return null
    };
    xb =
        function(f) {
            return this.Li(f) ? this.ka.lastBehIndex : -1
        };
    yb = function(f) {
        var a, b;
        a = 0;
        for (b = this.N.length; a < b; a++)
            if (this.N[a].name === f) return a;
        return -1
    };
    zb = function() {
        if (this.hc && !this.G) {
            var f, a, b, d, g, v, t;
            this.ok();
            v = this.V();
            var u = v.da,
                l = (f = this.b.sb()) && f.qb && f.qb.bd;
            f = 0;
            for (a = this.cc.length; f < a; f++)
                if (g = this.cc[f], g !== this && (g.ok(), t = g.V(), t.da = u, !u)) {
                    t.d.length = v.d.length;
                    b = 0;
                    for (d = v.d.length; b < d; b++) t.d[b] = g.ko(v.d[b].ef);
                    if (l)
                        for (t.ja.length = v.ja.length, b = 0, d = v.ja.length; b < d; b++) t.ja[b] = g.ko(v.ja[b].ef)
                }
        }
    };
    Bb = function() {
        return "Type" + this.Z
    };
    $b = function(f, a, b) {
        if ("undefined" === typeof f || "undefined" === typeof b) return !1;

        switch (a) {
            case 0:
                return f === b;
            case 1:
                return f !== b;
            case 2:
                return f < b;
            case 3:
                return f <= b;
            case 4:
                return f > b;
            case 5:
                return f >= b;
            default:
                return !1
        }
    }
})();
var ic = {};

function kc(f) {
    this.b = f
}
(function() {
    function f(a) {
        0 > a && (a = 0);
        1 < a && (a = 1);
        return Math.log(a) / Math.log(10) * 20
    }

    function q(a) {
        a = a.toLowerCase();
        return S.hasOwnProperty(a) && S[a].length ? S[a][0].rc() : A.destination
    }

    function a() {
        return A.createGain ? A.createGain() : A.createGainNode()
    }

    function b(a) {
        return A.createDelay ? A.createDelay(a) : A.createDelayNode(a)
    }

    function d(a) {
        a.start ? a.start(0) : a.noteOn(0)
    }

    function g(a, b, c) {
        a.start ? a.start(0, b) : a.noteGrainOn(0, b, c - b)
    }

    function v(a) {
        try {
            a.stop ? a.stop(0) : a.noteOff(0)
        } catch (b) {}
    }

    function t(b,
        c, d, e, h, g) {
        this.type = "filter";
        this.cd = [b, c, d, e, h, g];
        this.ba = a();
        this.L = a();
        this.L.gain.value = g;
        this.I = a();
        this.I.gain.value = 1 - g;
        this.Wa = A.createBiquadFilter();
        this.Wa.type = "number" === typeof this.Wa.type ? b : vc[b];
        this.Wa.frequency.value = c;
        this.Wa.detune && (this.Wa.detune.value = d);
        this.Wa.Q.value = e;
        this.Wa.gain.value = h;
        this.ba.connect(this.Wa);
        this.ba.connect(this.I);
        this.Wa.connect(this.L)
    }

    function u(c, d, e) {
        this.type = "delay";
        this.cd = [c, d, e];
        this.ba = a();
        this.L = a();
        this.L.gain.value = e;
        this.I = a();
        this.I.gain.value =
            1 - e;
        this.xh = a();
        this.Ic = b(c);
        this.Ic.delayTime.value = c;
        this.Ai = a();
        this.Ai.gain.value = d;
        this.ba.connect(this.xh);
        this.ba.connect(this.I);
        this.xh.connect(this.L);
        this.xh.connect(this.Ic);
        this.Ic.connect(this.Ai);
        this.Ai.connect(this.xh)
    }

    function l(b, c, d, e) {
        this.type = "convolve";
        this.cd = [c, d, e];
        this.ba = a();
        this.L = a();
        this.L.gain.value = d;
        this.I = a();
        this.I.gain.value = 1 - d;
        this.Te = A.createConvolver();
        b && (this.Te.normalize = c, this.Te.buffer = b);
        this.ba.connect(this.Te);
        this.ba.connect(this.I);
        this.Te.connect(this.L)
    }

    function e(c, e, h, g, f) {
        this.type = "flanger";
        this.cd = [c, e, h, g, f];
        this.ba = a();
        this.I = a();
        this.I.gain.value = 1 - f / 2;
        this.L = a();
        this.L.gain.value = f / 2;
        this.Fi = a();
        this.Fi.gain.value = g;
        this.Ic = b(c + e);
        this.Ic.delayTime.value = c;
        this.nb = A.createOscillator();
        this.nb.frequency.value = h;
        this.lc = a();
        this.lc.gain.value = e;
        this.ba.connect(this.Ic);
        this.ba.connect(this.I);
        this.Ic.connect(this.L);
        this.Ic.connect(this.Fi);
        this.Fi.connect(this.Ic);
        this.nb.connect(this.lc);
        this.lc.connect(this.Ic.delayTime);
        d(this.nb)
    }

    function k(b,
        c, e, h, g, f) {
        this.type = "phaser";
        this.cd = [b, c, e, h, g, f];
        this.ba = a();
        this.I = a();
        this.I.gain.value = 1 - f / 2;
        this.L = a();
        this.L.gain.value = f / 2;
        this.Wa = A.createBiquadFilter();
        this.Wa.type = "number" === typeof this.Wa.type ? 7 : "allpass";
        this.Wa.frequency.value = b;
        this.Wa.detune && (this.Wa.detune.value = c);
        this.Wa.Q.value = e;
        this.nb = A.createOscillator();
        this.nb.frequency.value = g;
        this.lc = a();
        this.lc.gain.value = h;
        this.ba.connect(this.Wa);
        this.ba.connect(this.I);
        this.Wa.connect(this.L);
        this.nb.connect(this.lc);
        this.lc.connect(this.Wa.frequency);
        d(this.nb)
    }

    function s(b) {
        this.type = "gain";
        this.cd = [b];
        this.ea = a();
        this.ea.gain.value = b
    }

    function m(b, c) {
        this.type = "tremolo";
        this.cd = [b, c];
        this.ea = a();
        this.ea.gain.value = 1 - c / 2;
        this.nb = A.createOscillator();
        this.nb.frequency.value = b;
        this.lc = a();
        this.lc.gain.value = c / 2;
        this.nb.connect(this.lc);
        this.lc.connect(this.ea.gain);
        d(this.nb)
    }

    function z(b, c) {
        this.type = "ringmod";
        this.cd = [b, c];
        this.ba = a();
        this.L = a();
        this.L.gain.value = c;
        this.I = a();
        this.I.gain.value = 1 - c;
        this.Oh = a();
        this.Oh.gain.value = 0;
        this.nb = A.createOscillator();
        this.nb.frequency.value = b;
        this.nb.connect(this.Oh.gain);
        d(this.nb);
        this.ba.connect(this.Oh);
        this.ba.connect(this.I);
        this.Oh.connect(this.L)
    }

    function x(b, c, d, e, h) {
        this.type = "distortion";
        this.cd = [b, c, d, e, h];
        this.ba = a();
        this.Gj = a();
        this.Fj = a();
        this.bv(d, Math.pow(10, e / 20));
        this.L = a();
        this.L.gain.value = h;
        this.I = a();
        this.I.gain.value = 1 - h;
        this.qk = A.createWaveShaper();
        this.xi = new Float32Array(65536);
        this.kt(b, c);
        this.qk.xi = this.xi;
        this.ba.connect(this.Gj);
        this.ba.connect(this.I);
        this.Gj.connect(this.qk);
        this.qk.connect(this.Fj);
        this.Fj.connect(this.L)
    }

    function p(a, b, c, d, e) {
        this.type = "compressor";
        this.cd = [a, b, c, d, e];
        this.ea = A.createDynamicsCompressor();
        try {
            this.ea.threshold.value = a, this.ea.knee.value = b, this.ea.ratio.value = c, this.ea.attack.value = d, this.ea.release.value = e
        } catch (h) {}
    }

    function h(a, b) {
        this.type = "analyser";
        this.cd = [a, b];
        this.ea = A.createAnalyser();
        this.ea.fftSize = a;
        this.ea.smoothingTimeConstant = b;
        this.it = new Float32Array(this.ea.frequencyBinCount);
        this.Xp = new Uint8Array(a);
        this.Fh = 0
    }

    function E() {
        this.J =
            null;
        this.oj = 0;
        this.Le = [];
        this.em = this.ej = this.dj = 0
    }

    function c(b, c) {
        this.src = b;
        this.W = G;
        this.$c = c;
        this.Dn = !1;
        var d = this;
        this.am = this.om = null;
        this.mg = [];
        this.Rj = 0;
        this.en = this.$k = this.aq = this.Bj = !1;
        1 === G && c && (this.W = 0, this.om = a());
        this.Qe = this.la = null;
        var e;
        switch (this.W) {
            case 0:
                this.la = new Audio;
                this.la.addEventListener("canplaythrough", function() {
                    d.en = !0
                });
                1 === G && A.createMediaElementSource && !/wiiu/i.test(navigator.userAgent) && (this.aq = !0, this.la.addEventListener("canplay", function() {
                    d.am || (d.am =
                        A.createMediaElementSource(d.la), d.am.connect(d.om))
                }));
                this.la.autoplay = !1;
                this.la.Iw = "auto";
                this.la.src = b;
                break;
            case 1:
                e = new XMLHttpRequest;
                e.open("GET", b, !0);
                e.responseType = "arraybuffer";
                e.onload = function() {
                    d.Qe = e.response;
                    d.ks()
                };
                e.onerror = function() {
                    d.$k = !0
                };
                e.send();
                break;
            case 2:
                this.la = !0;
                break;
            case 3:
                this.la = !0
        }
    }
   	//audio stuff
    function n(b, c) {
        var d = this;
        this.tag = c;
        this.xb = this.pd = !0;
        this.src = b.src;
        this.buffer = b;
        this.W = G;
        this.$c = b.$c;
        this.playbackRate = 1;
        this.Mk = !0;
        this.Mc = this.Zd = !1;
        this.Vb = 0;
        this.dh = this.Wf =
            this.td = !1;
        this.volume = 1;
        this.kf = 1 === Q && !this.$c || 2 === Q;
        this.hg = 1;
        this.startTime = this.kf ? B.wc.pa : B.Fd.pa;
        this.Ra = this.Xa = null;
        this.vd = !1;
        this.Qa = null;
        this.zp = this.yp = this.xp = this.wp = this.Bp = this.Ap = 0;
        this.q = null;
        var e = !1;
        1 !== this.W || 0 !== this.buffer.W || this.buffer.aq || (this.W = 0);
        switch (this.W) {
            case 0:
                this.$c ? (this.q = b.la, e = !b.Dn, b.Dn = !0) : (this.q = new Audio, this.q.autoplay = !1, this.q.src = b.la.src, e = !0);
                e && this.q.addEventListener("ended", function() {
                    ha = d.tag;
                    d.xb = !0;
                    B.trigger(kc.prototype.n.vk, sa)
                });
                break;
            case 1:
                this.Xa = a();
                this.Xa.connect(q(c));
                1 === this.buffer.W ? b.la && (this.q = A.createBufferSource(), this.q.buffer = b.la, this.q.connect(this.Xa)) : (this.q = this.buffer.la, this.buffer.om.connect(this.Xa));
                break;
            case 2:
                this.q = new window.Media(K + this.src, null, null, function(a) {
                    a === window.Media.MEDIA_STOPPED && (d.Mk = !0, d.xb = !0, ha = d.tag, B.trigger(kc.prototype.n.vk, sa))
                });
                break;
            case 3:
                this.q = !0
        }
    }

    function r(a) {
        za.length = 0;
        if (a.length) {
            var b, c, d;
            b = 0;
            for (c = C.length; b < c; b++) d = C[b], jb(a, d.tag) && za.push(d)
        } else H && !H.df() &&
            (za.length = 1, za[0] = H)
    }

    function w(a, b) {
        S.hasOwnProperty(a) ? S[a].push(b) : S[a] = [b];
        var c, d, e, h, g = A.destination;
        if (S.hasOwnProperty(a) && (e = S[a], e.length))
            for (g = e[0].rc(), c = 0, d = e.length; c < d; c++) h = e[c], c + 1 === d ? h.Ec(A.destination) : h.Ec(e[c + 1].rc());
        r(a);
        c = 0;
        for (d = za.length; c < d; c++) za[c].Qu(g);
        Ea && sb === a && (Ea.disconnect(), Ea.connect(g))
    }

    function D() {}

    function y() {}
    var P = kc.prototype;
    P.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    P.Da.prototype.Y = function() {};
    var B = null,
        sa = null,
        ha = "",
        K = "",
        G = 0,
        A = null,
        ja = [],
        C = [],
        H =
        null,
        I = !1,
        Q = 0,
        F = !1,
        L = 1,
        M = 0,
        da = 0,
        N = 1,
        ma = 1,
        ia = 10,
        ta = 1E4,
        ua = 1,
        Ea = null,
        sb = "",
        Oa = !1,
        Pa = [],
        S = {},
        vc = "lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
    t.prototype.Ec = function(a) {
        this.L.disconnect();
        this.L.connect(a);
        this.I.disconnect();
        this.I.connect(a)
    };
    t.prototype.remove = function() {
        this.ba.disconnect();
        this.Wa.disconnect();
        this.L.disconnect();
        this.I.disconnect()
    };
    t.prototype.rc = function() {
        return this.ba
    };
    u.prototype.Ec = function(a) {
        this.L.disconnect();
        this.L.connect(a);
        this.I.disconnect();
        this.I.connect(a)
    };
    u.prototype.remove = function() {
        this.ba.disconnect();
        this.xh.disconnect();
        this.Ic.disconnect();
        this.Ai.disconnect();
        this.L.disconnect();
        this.I.disconnect()
    };
    u.prototype.rc = function() {
        return this.ba
    };
    l.prototype.Ec = function(a) {
        this.L.disconnect();
        this.L.connect(a);
        this.I.disconnect();
        this.I.connect(a)
    };
    l.prototype.remove = function() {
        this.ba.disconnect();
        this.Te.disconnect();
        this.L.disconnect();
        this.I.disconnect()
    };
    l.prototype.rc = function() {
        return this.ba
    };
    e.prototype.Ec = function(a) {
        this.I.disconnect();
        this.I.connect(a);
        this.L.disconnect();
        this.L.connect(a)
    };
    e.prototype.remove = function() {
        this.ba.disconnect();
        this.Ic.disconnect();
        this.nb.disconnect();
        this.lc.disconnect();
        this.I.disconnect();
        this.L.disconnect();
        this.Fi.disconnect()
    };
    e.prototype.rc = function() {
        return this.ba
    };
    k.prototype.Ec = function(a) {
        this.I.disconnect();
        this.I.connect(a);
        this.L.disconnect();
        this.L.connect(a)
    };
    k.prototype.remove = function() {
        this.ba.disconnect();
        this.Wa.disconnect();
        this.nb.disconnect();
        this.lc.disconnect();
        this.I.disconnect();
        this.L.disconnect()
    };
    k.prototype.rc = function() {
        return this.ba
    };
    s.prototype.Ec = function(a) {
        this.ea.disconnect();
        this.ea.connect(a)
    };
    s.prototype.remove = function() {
        this.ea.disconnect()
    };
    s.prototype.rc = function() {
        return this.ea
    };
    m.prototype.Ec = function(a) {
        this.ea.disconnect();
        this.ea.connect(a)
    };
    m.prototype.remove = function() {
        this.nb.disconnect();
        this.lc.disconnect();
        this.ea.disconnect()
    };
    m.prototype.rc = function() {
        return this.ea
    };
    z.prototype.Ec = function(a) {
        this.L.disconnect();
        this.L.connect(a);
        this.I.disconnect();
        this.I.connect(a)
    };
    z.prototype.remove = function() {
        this.nb.disconnect();
        this.Oh.disconnect();
        this.ba.disconnect();
        this.L.disconnect();
        this.I.disconnect()
    };
    z.prototype.rc = function() {
        return this.ba
    };
    x.prototype.bv = function(a, b) {.01 > a && (a = .01);
        this.Gj.gain.value = a;
        this.Fj.gain.value = Math.pow(1 / a, .6) * b
    };
    x.prototype.shape = function(a, b, c) {
        var d = 1.05 * c * b - b;
        c = 0 > a ? -1 : 1;
        a = 0 > a ? -a : a;
        b = a < b ? a : b + d * (1 - Math.exp(-(1 / d) * (a - b)));
        return b * c
    };
    x.prototype.kt = function(a, b) {
        for (var c = Math.pow(10, a / 20), d = Math.pow(10, b / 20), e =
                0, h = 0; 32768 > h; ++h) e = h / 32768, e = this.shape(e, c, d), this.xi[32768 + h] = e, this.xi[32768 - h - 1] = -e
    };
    x.prototype.Ec = function(a) {
        this.L.disconnect();
        this.L.connect(a);
        this.I.disconnect();
        this.I.connect(a)
    };
    x.prototype.remove = function() {
        this.ba.disconnect();
        this.Gj.disconnect();
        this.qk.disconnect();
        this.Fj.disconnect();
        this.L.disconnect();
        this.I.disconnect()
    };
    x.prototype.rc = function() {
        return this.ba
    };
    p.prototype.Ec = function(a) {
        this.ea.disconnect();
        this.ea.connect(a)
    };
    p.prototype.remove = function() {
        this.ea.disconnect()
    };
    p.prototype.rc = function() {
        return this.ea
    };
    h.prototype.Ma = function() {
        this.ea.getFloatFrequencyData(this.it);
        this.ea.getByteTimeDomainData(this.Xp);
        for (var a = this.ea.fftSize, b = 0, c = this.Fh = 0, d = 0; b < a; b++) d = (this.Xp[b] - 128) / 128, 0 > d && (d = -d), this.Fh < d && (this.Fh = d), c += d * d;
        this.Fh = f(this.Fh);
        f(Math.sqrt(c / a))
    };
    h.prototype.Ec = function(a) {
        this.ea.disconnect();
        this.ea.connect(a)
    };
    h.prototype.remove = function() {
        this.ea.disconnect()
    };
    h.prototype.rc = function() {
        return this.ea
    };
    E.prototype.Ph = function(a) {
        if (this.J =
            a) this.dj = this.J.x, this.ej = this.J.y;
        this.Le.length = 0
    };
    E.prototype.Ui = function() {
        return !!this.J
    };
    E.prototype.Ma = function(a) {
        this.J && 0 !== a && (this.em = La(this.dj, this.ej, this.J.x, this.J.y), a = Ua(this.dj, this.ej, this.J.x, this.J.y) / a, 4 > this.Le.length || this.Le.shift(), this.Le.push(a), this.dj = this.J.x, this.ej = this.J.y)
    };
    E.prototype.oo = function() {
        if (!this.Le.length) return 0;
        var a, b, c = 0;
        a = 0;
        for (b = this.Le.length; a < b; a++) c += this.Le[a];
        return c / this.Le.length
    };
    E.prototype.nl = function() {
        return Math.cos(this.em) *
            this.oo()
    };
    E.prototype.ol = function() {
        return Math.sin(this.em) * this.oo()
    };
    var qc = !1;
    c.prototype.ks = function() {
        if (!this.la && this.Qe) {
            var a = this;
            if (A.decodeAudioData) A.decodeAudioData(this.Qe, function(b) {
                a.la = b;
                a.Qe = null;
                var c, d, e;
                if (ga(a.Cj) || F) ga(a.qi) || (c = a.qi.Te, c.normalize = a.kp, c.buffer = b);
                else if (a.mg.length) {
                    c = 0;
                    for (d = a.mg.length; c < d; c++) {
                        b = a.mg[c];
                        e = new n(a, b.gq);
                        e.Im(!0);
                        if ("undefined" !== typeof b.mp && (b.J = B.Oi(b.mp), !b.J)) continue;
                        if (b.J) {
                            var h = Ta(b.J.x, b.J.y, -b.J.m.Ya(), M, da, !0),
                                g = Ta(b.J.x,
                                    b.J.y, -b.J.m.Ya(), M, da, !1);
                            e.Hm(h, g, Ga(b.J.k - b.J.m.Ya()), b.ul, b.hm, b.km);
                            e.Ph(b.J)
                        } else e.Hm(b.x, b.y, b.Or, b.ul, b.hm, b.km);
                        e.play(a.Xl, a.cn, a.Rj);
                        a.Bj && e.pause();
                        C.push(e)
                    }
                    a.mg.length = 0
                } else e = new n(a, a.Cj), e.play(a.Xl, a.cn, a.Rj), a.Bj && e.pause(), C.push(e)
            }, function() {
                a.$k = !0
            });
            else if (this.la = A.createBuffer(this.Qe, !1), this.Qe = null, ga(this.Cj) || F) ga(this.qi) || (b = this.qi.Te, b.normalize = this.kp, b.buffer = this.la);
            else {
                var b = new n(this, this.Cj);
                b.play(this.Xl, this.cn, this.Rj);
                this.Bj && b.pause();
                C.push(b)
            }
        }
    };
    c.prototype.Ao = function() {
        switch (this.W) {
            case 0:
                var a = 4 <= this.la.readyState;
                a && (this.en = !0);
                return a || this.en;
            case 1:
                return !!this.Qe || !!this.la;
            case 2:
                return !0;
            case 3:
                return !0
        }
        return !1
    };
    c.prototype.du = function() {
        switch (this.W) {
            case 0:
                return this.Ao();
            case 1:
                return !!this.la;
            case 2:
                return !0;
            case 3:
                return !0
        }
        return !1
    };
    c.prototype.Ut = function() {
        switch (this.W) {
            case 0:
                return !!this.la.error;
            case 1:
                return this.$k
        }
        return !1
    };
    n.prototype.df = function() {
        var a;
        switch (this.W) {
            case 0:
                return this.q.ended;
            case 1:
                if (1 ===
                    this.buffer.W) {
                    if (!this.pd && !this.xb && this.q.loop || this.Mc) return !1;
                    a = this.kf ? B.wc.pa : B.Fd.pa;
                    return a - this.startTime > this.buffer.la.duration
                }
                return this.q.ended;
            case 2:
                return this.Mk;
            case 3:
                !0
        }
        return !0
    };
    n.prototype.bs = function() {
        return this.pd || this.xb ? !0 : this.df()
    };
    n.prototype.Im = function(a) {
        1 === G && (!this.vd && a ? this.Xa && (this.Ra || (this.Ra = A.createPanner(), this.Ra.panningModel = "number" === typeof this.Ra.panningModel ? N : ["equalpower", "HRTF", "soundfield"][N], this.Ra.distanceModel = "number" === typeof this.Ra.distanceModel ?
            ma : ["linear", "inverse", "exponential"][ma], this.Ra.refDistance = ia, this.Ra.maxDistance = ta, this.Ra.rolloffFactor = ua), this.Xa.disconnect(), this.Xa.connect(this.Ra), this.Ra.connect(q(this.tag)), this.vd = !0) : this.vd && !a && this.Xa && (this.Ra.disconnect(), this.Xa.disconnect(), this.Xa.connect(q(this.tag)), this.vd = !1))
    };
    n.prototype.Hm = function(a, b, c, d, e, h) {
        this.vd && 1 === G && (this.Ra.setPosition(a, b, 0), this.Ra.setOrientation(Math.cos(V(c)), Math.sin(V(c)), 0), this.Ra.coneInnerAngle = d, this.Ra.coneOuterAngle = e, this.Ra.coneOuterGain =
            h, this.Ap = a, this.Bp = b, this.wp = c, this.xp = d, this.yp = e, this.zp = h)
    };
    n.prototype.Ph = function(a) {
        this.vd && 1 === G && (this.Qa || (this.Qa = new E), this.Qa.Ph(a))
    };
    n.prototype.Ma = function(a) {
        if (this.vd && 1 === G && this.Qa && this.Qa.Ui() && this.hf()) {
            this.Qa.Ma(a);
            a = this.Qa.J;
            var b = Ta(a.x, a.y, -a.m.Ya(), M, da, !0),
                c = Ta(a.x, a.y, -a.m.Ya(), M, da, !1);
            this.Ra.setPosition(b, c, 0);
            b = 0;
            "undefined" !== typeof this.Qa.J.k && (b = a.k - a.m.Ya(), this.Ra.setOrientation(Math.cos(b), Math.sin(b), 0));
            b = Ta(this.Qa.nl(), this.Qa.ol(), -a.m.Ya(), 0, 0, !0);
            c = Ta(this.Qa.nl(), this.Qa.ol(), -a.m.Ya(), 0, 0, !1);
            this.Ra.setVelocity(b, c, 0)
        }
    };
    n.prototype.play = function(a, b, c) {
        var e = this.q;
        this.td = a;
        this.volume = b;
        c = c || 0;
        switch (this.W) {
            case 0:
                1 !== e.playbackRate && (e.playbackRate = 1);
                e.volume !== b * L && (e.volume = b * L);
                e.loop !== a && (e.loop = a);
                e.muted && (e.muted = !1);
                if (e.currentTime !== c) try {
                    e.currentTime = c
                } catch (h) {}
                if (this.$c && Oa && !B.rd) Pa.push(this);
                else try {
                    this.q.play()
                } catch (f) {
                    console && console.log && console.log("[C2] WARNING: exception trying to play audio '" + this.buffer.src +
                        "': ", f)
                }
                break;
            case 1:
                this.muted = !1;
                this.hg = 1;
                if (1 === this.buffer.W) this.pd || (this.q = A.createBufferSource(), this.q.buffer = this.buffer.la, this.q.connect(this.Xa)), this.q.loop = a, this.Xa.gain.value = b * L, 0 === c ? d(this.q) : g(this.q, c, this.$e());
                else {
                    1 !== e.playbackRate && (e.playbackRate = 1);
                    e.loop !== a && (e.loop = a);
                    this.Xa.gain.value = b * L;
                    if (e.currentTime !== c) try {
                        e.currentTime = c
                    } catch (l) {}
                    this.$c && Oa && !B.rd ? Pa.push(this) : e.play()
                }
                break;
            case 2:
                (!this.pd && this.xb || 0 !== c) && e.seekTo(c);
                e.play();
                this.Mk = !1;
                break;
            case 3:
                B.tb ?
                    AppMobi.context.playSound(this.src, a) : AppMobi.player.playSound(this.src, a)
        }
        this.playbackRate = 1;
        this.startTime = (this.kf ? B.wc.pa : B.Fd.pa) - c;
        this.Mc = this.xb = this.pd = !1
    };
    n.prototype.stop = function() {
        switch (this.W) {
            case 0:
                this.q.paused || this.q.pause();
                break;
            case 1:
                1 === this.buffer.W ? v(this.q) : this.q.paused || this.q.pause();
                break;
            case 2:
                this.q.stop();
                break;
            case 3:
                B.tb && AppMobi.context.stopSound(this.src)
        }
        this.xb = !0;
        this.Mc = !1
    };
    n.prototype.pause = function() {
        if (!(this.pd || this.xb || this.df() || this.Mc)) {
            switch (this.W) {
                case 0:
                    this.q.paused ||
                        this.q.pause();
                    break;
                case 1:
                    1 === this.buffer.W ? (this.Vb = this.ll(), this.td && (this.Vb %= this.$e()), v(this.q)) : this.q.paused || this.q.pause();
                    break;
                case 2:
                    this.q.pause();
                    break;
                case 3:
                    B.tb && AppMobi.context.stopSound(this.src)
            }
            this.Mc = !0
        }
    };
    n.prototype.Tu = function() {
        if (!(this.pd || this.xb || this.df()) && this.Mc) {
            switch (this.W) {
                case 0:
                    this.q.play();
                    break;
                case 1:
                    1 === this.buffer.W ? (this.q = A.createBufferSource(), this.q.buffer = this.buffer.la, this.q.connect(this.Xa), this.q.loop = this.td, this.Xa.gain.value = L * this.volume *
                        this.hg, this.startTime = (this.kf ? B.wc.pa : B.Fd.pa) - this.Vb, g(this.q, this.Vb, this.$e())) : this.q.play();
                    break;
                case 2:
                    this.q.play();
                    break;
                case 3:
                    B.tb && AppMobi.context.resumeSound(this.src)
            }
            this.Mc = !1
        }
    };
    n.prototype.seek = function(a) {
        if (!(this.pd || this.xb || this.df())) switch (this.W) {
            case 0:
                try {
                    this.q.currentTime = a
                } catch (b) {}
                break;
            case 1:
                if (1 === this.buffer.W) this.Mc ? this.Vb = a : (this.pause(), this.Vb = a, this.Tu());
                else try {
                    this.q.currentTime = a
                } catch (c) {}
                break;
            case 3:
                B.tb && AppMobi.context.seekSound(this.src, a)
        }
    };
    n.prototype.Qu = function(a) {
        1 === this.W && (this.vd ? (this.Ra.disconnect(), this.Ra.connect(a)) : (this.Xa.disconnect(), this.Xa.connect(a)))
    };
    n.prototype.$e = function() {
        switch (this.W) {
            case 0:
                if ("undefined" !== typeof this.q.duration) return this.q.duration;
                break;
            case 1:
                return this.buffer.la.duration;
            case 2:
                return this.q.getDuration();
            case 3:
                if (B.tb) return AppMobi.context.getDurationSound(this.src)
        }
        return 0
    };
    n.prototype.ll = function() {
        var a = this.$e(),
            b = 0;
        switch (this.W) {
            case 0:
                "undefined" !== typeof this.q.currentTime &&
                    (b = this.q.currentTime);
                break;
            case 1:
                if (1 === this.buffer.W) {
                    if (this.Mc) return this.Vb;
                    b = (this.kf ? B.wc.pa : B.Fd.pa) - this.startTime
                } else "undefined" !== typeof this.q.currentTime && (b = this.q.currentTime);
                break;
            case 3:
                B.tb && (b = AppMobi.context.getPlaybackTimeSound(this.src))
        }!this.td && b > a && (b = a);
        return b
    };
    n.prototype.hf = function() {
        return !this.Mc && !this.pd && !this.xb && !this.df()
    };
    n.prototype.tv = function() {
        var a = this.volume * L;
        switch (this.W) {
            case 0:
                this.q.volume && this.q.volume !== a && (this.q.volume = a);
                break;
            case 1:
                this.Xa.gain.value =
                    a * this.hg
        }
    };
    n.prototype.Bi = function(a) {
        switch (this.W) {
            case 0:
                this.q.muted !== !!a && (this.q.muted = !!a);
                break;
            case 1:
                this.hg = a ? 0 : 1, this.Xa.gain.value = L * this.volume * this.hg
        }
    };
    n.prototype.dv = function() {
        this.Wf = !0;
        this.Bi(this.Wf || this.dh)
    };
    n.prototype.Sj = function(a) {
        this.dh = !!a;
        this.Bi(this.Wf || this.dh)
    };
    n.prototype.sq = function() {
        var a = this.playbackRate;
        this.kf && (a *= B.Af);
        switch (this.W) {
            case 0:
                this.q.playbackRate !== a && (this.q.playbackRate = a);
                break;
            case 1:
                1 === this.buffer.W ? this.q.playbackRate.value !== a &&
                    (this.q.playbackRate.value = a) : this.q.playbackRate !== a && (this.q.playbackRate = a)
        }
    };
    n.prototype.hv = function(a) {
        switch (this.W) {
            case 0:
                a ? this.hf() ? (this.q.pause(), this.Zd = !0) : this.Zd = !1 : this.Zd && this.q.play();
                break;
            case 1:
                a ? this.hf() ? (1 === this.buffer.W ? (this.Vb = this.ll(), this.td && (this.Vb %= this.$e()), v(this.q)) : this.q.pause(), this.Zd = !0) : this.Zd = !1 : this.Zd && (1 === this.buffer.W ? (this.q = A.createBufferSource(), this.q.buffer = this.buffer.la, this.q.connect(this.Xa), this.q.loop = this.td, this.Xa.gain.value = L * this.volume *
                    this.hg, this.startTime = (this.kf ? B.wc.pa : B.Fd.pa) - this.Vb, g(this.q, this.Vb, this.$e())) : this.q.play());
                break;
            case 2:
                a ? this.hf() ? (this.q.pause(), this.Zd = !0) : this.Zd = !1 : this.Zd && this.q.play()
        }
    };
    P.ua = function(a) {
        this.type = a;
        B = this.b = a.b;
        sa = this;
        this.Jb = null;
        this.nh = -600;
        !(this.b.cj || this.b.Xi && (this.b.Zg || this.b.Yi)) || this.b.$g || this.b.Ga || (Oa = !0);
        A = null;
        "undefined" !== typeof AudioContext ? (G = 1, A = new AudioContext) : "undefined" !== typeof webkitAudioContext && (G = 1, A = new webkitAudioContext);
        (this.b.cj && 1 === G ||
            Oa) && document.addEventListener("touchstart", function() {
            var a, b, c;
            !qc && A && (a = A.createBuffer(1, 1, 22050), b = A.createBufferSource(), b.buffer = a, b.connect(A.destination), d(b), qc = !0);
            if (Oa) {
                if (!F)
                    for (a = 0, b = Pa.length; a < b; ++a) c = Pa[a], c.xb || c.Mc || c.q.play();
                Pa.length = 0
            }
        }, !0);
        1 !== G && (this.b.vc && "undefined" !== typeof window.Media ? G = 2 : this.b.Sf && (G = 3));
        2 === G && (K = location.href, a = K.lastIndexOf("/"), -1 < a && (K = K.substr(0, a + 1)), K = K.replace("file://", ""));
        if (this.b.Bo && this.b.fu && "undefined" === typeof Audio) alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
            this.b.he(this);
        else {
            if (this.b.tb) I = this.b.Xi;
            else try {
                I = !!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')
            } catch (b) {
                I = !1
            }
            this.b.Yh(this)
        }
    };
    var na = P.ua.prototype;
    na.Y = function() {
        this.b.Gf = this;
        Q = this.F[0];
        this.$d = this.F[1];
        this.Bu = 0 !== this.F[2];
        N = this.F[3];
        ma = this.F[4];
        this.nh = -this.F[5];
        ia = this.F[6];
        ta = this.F[7];
        ua = this.F[8];
        this.Jb = new E;
        var a = this.b.T || this.b.width,
            b = this.b.S || this.b.height;
        1 === G && (A.listener.speedOfSound = this.F[9], A.listener.dopplerFactor = this.F[10], A.listener.setPosition(a /
            2, b / 2, this.nh), A.listener.setOrientation(0, 0, 1, 0, -1, 0), window.c2OnAudioMicStream = function(a, b) {
            Ea && Ea.disconnect();
            sb = b.toLowerCase();
            Ea = A.createMediaStreamSource(a);
            Ea.connect(q(sb))
        });
        this.b.Cn(function(a) {
            sa.yu(a)
        });
        var c = this;
        this.b.An(function(a) {
            c.uu(a)
        })
    };
    na.uu = function(a) {
        var b, c, d;
        b = 0;
        for (c = C.length; b < c; b++) d = C[b], d.Qa && d.Qa.J === a && (d.Qa.J = null, d.vd && d.hf() && d.td && d.stop());
        this.Jb.J === a && (this.Jb.J = null)
    };
    na.Wb = function() {
        var a = {
                silent: F,
                masterVolume: L,
                listenerZ: this.nh,
                listenerUid: this.Jb.Ui() ?
                    this.Jb.J.uid : -1,
                playing: [],
                effects: {}
            },
            b = a.playing,
            c, d, e, h, g, f;
        c = 0;
        for (d = C.length; c < d; c++) e = C[c], !e.hf() || 3 === this.$d || e.$c && 1 === this.$d || !e.$c && 2 === this.$d || (h = e.ll(), e.td && (h %= e.$e()), h = {
            tag: e.tag,
            buffersrc: e.buffer.src,
            is_music: e.$c,
            playbackTime: h,
            volume: e.volume,
            looping: e.td,
            muted: e.Wf,
            playbackRate: e.playbackRate,
            paused: e.Mc,
            resume_position: e.Vb
        }, e.vd && (h.pan = {}, f = h.pan, e.Qa && e.Qa.Ui() ? f.objUid = e.Qa.J.uid : (f.x = e.Ap, f.y = e.Bp, f.a = e.wp), f.ia = e.xp, f.oa = e.yp, f.og = e.zp), b.push(h));
        b = a.effects;
        for (g in S)
            if (S.hasOwnProperty(g)) {
                e = [];
                c = 0;
                for (d = S[g].length; c < d; c++) e.push({
                    type: S[g][c].type,
                    params: S[g][c].cd
                });
                b[g] = e
            }
        return a
    };
    var Qa = [];
    na.yc = function(a) {
        var b = a.silent;
        L = a.masterVolume;
        this.nh = a.listenerZ;
        this.Jb.Ph(null);
        var c = a.listenerUid; - 1 !== c && (this.Jb.oj = c, Qa.push(this.Jb));
        var c = a.playing,
            d, g, f, n, r, q, v, B, D, y, P;
        if (3 !== this.$d)
            for (d = 0, g = C.length; d < g; d++) D = C[d], D.$c && 1 === this.$d || (D.$c || 2 !== this.$d) && D.stop();
        for (r in S)
            if (S.hasOwnProperty(r))
                for (d = 0, g = S[r].length; d < g; d++) S[r][d].remove();
        Xa(S);
        for (r in a.effects)
            if (a.effects.hasOwnProperty(r))
                for (q =
                    a.effects[r], d = 0, g = q.length; d < g; d++) switch (f = q[d].type, y = q[d].params, f) {
                    case "filter":
                        w(r, new t(y[0], y[1], y[2], y[3], y[4], y[5]));
                        break;
                    case "delay":
                        w(r, new u(y[0], y[1], y[2]));
                        break;
                    case "convolve":
                        f = y[2];
                        D = this.Ki(f, !1);
                        D.la ? f = new l(D.la, y[0], y[1], f) : (f = new l(null, y[0], y[1], f), D.kp = y[0], D.qi = f);
                        w(r, f);
                        break;
                    case "flanger":
                        w(r, new e(y[0], y[1], y[2], y[3], y[4]));
                        break;
                    case "phaser":
                        w(r, new k(y[0], y[1], y[2], y[3], y[4], y[5]));
                        break;
                    case "gain":
                        w(r, new s(y[0]));
                        break;
                    case "tremolo":
                        w(r, new m(y[0], y[1]));
                        break;
                    case "ringmod":
                        w(r, new z(y[0], y[1]));
                        break;
                    case "distortion":
                        w(r, new x(y[0], y[1], y[2], y[3], y[4]));
                        break;
                    case "compressor":
                        w(r, new p(y[0], y[1], y[2], y[3], y[4]));
                        break;
                    case "analyser":
                        w(r, new h(y[0], y[1]))
                }
            d = 0;
        for (g = c.length; d < g; d++) 3 === this.$d || (a = c[d], f = a.buffersrc, n = a.is_music, r = a.tag, q = a.playbackTime, v = a.looping, B = a.volume, P = (y = a.pan) && y.hasOwnProperty("objUid") ? y.objUid : -1, n && 1 === this.$d) || !n && 2 === this.$d || ((D = this.eo(f, r, n, v, B)) ? (D.Vb = a.resume_position, D.Im(!!y), D.play(v, B, q), D.sq(), D.tv(), D.Bi(D.Wf ||
            D.dh), a.paused && D.pause(), a.muted && D.dv(), D.Bi(D.Wf || D.dh), y && (-1 !== P ? (D.Qa = D.Qa || new E, D.Qa.oj = P, Qa.push(D.Qa)) : D.Hm(y.x, y.y, y.a, y.ia, y.oa, y.og))) : (D = this.Ki(f, n), D.Rj = q, D.Bj = a.paused, y && (-1 !== P ? D.mg.push({
            mp: P,
            ul: y.ia,
            hm: y.oa,
            km: y.og,
            gq: r
        }) : D.mg.push({
            x: y.x,
            y: y.y,
            Or: y.a,
            ul: y.ia,
            hm: y.oa,
            km: y.og,
            gq: r
        }))));
        if (b && !F) {
            d = 0;
            for (g = C.length; d < g; d++) C[d].Sj(!0);
            F = !0
        } else if (!b && F) {
            d = 0;
            for (g = C.length; d < g; d++) C[d].Sj(!1);
            F = !1
        }
    };
    na.Gd = function() {
        var a, b, c, d;
        a = 0;
        for (b = Qa.length; a < b; a++) c = Qa[a], d = this.b.Oi(c.oj),
            c.Ph(d), c.oj = -1, d && (M = d.x, da = d.y);
        Qa.length = 0
    };
    na.yu = function(a) {
        if (!this.Bu) {
            !a && A && A.resume && A.resume();
            var b, c;
            b = 0;
            for (c = C.length; b < c; b++) C[b].hv(a);
            a && A && A.suspend && A.suspend()
        }
    };
    na.Ma = function() {
        var a = this.b.We,
            b, c, d;
        b = 0;
        for (c = C.length; b < c; b++) d = C[b], d.Ma(a), 0 === d.W || 3 === d.W || d.pd || d.xb || !d.df() || (d.xb = !0, ha = d.tag, B.trigger(kc.prototype.n.vk, sa)), 0 !== Q && d.sq();
        var e, h;
        for (e in S)
            if (S.hasOwnProperty(e))
                for (d = S[e], b = 0, c = d.length; b < c; b++) h = d[b], h.Ma && h.Ma();
        1 === G && this.Jb.Ui() && (this.Jb.Ma(a), M =
            this.Jb.J.x, da = this.Jb.J.y, A.listener.setPosition(this.Jb.J.x, this.Jb.J.y, this.nh), A.listener.setVelocity(this.Jb.nl(), this.Jb.ol(), 0))
    };
    var Ra = [];
    na.gv = function(a) {
        var b, c, d, e, h, g = 0;
        b = 0;
        for (c = a.length; b < c; ++b)
            if (d = a[b], e = d[0], d = 2 * d[1], (h = 4 < e.length && ".ogg" === e.substr(e.length - 4)) && I || !h && !I) Ra.push({
                filename: e,
                size: d,
                J: null
            }), g += d;
        return g
    };
    na.nv = function() {
        var a, b, c, d;
        a = 0;
        for (b = Ra.length; a < b; ++a) c = Ra[a], d = this.b.al + c.filename, c.J = this.Ki(d, !1)
    };
    na.xt = function() {
        var a = 0,
            b, c, d;
        b = 0;
        for (c = Ra.length; b <
            c; ++b) d = Ra[b], d.J.du() || d.J.Ut() || this.b.Ga || this.b.Yi ? a += d.size : d.J.Ao() && (a += Math.floor(d.size / 2));
        return a
    };
    na.Ki = function(a, b) {
        var d, e, h, g = null;
        d = 0;
        for (e = ja.length; d < e; d++)
            if (h = ja[d], h.src === a) {
                g = h;
                break
            }
        g || (g = new c(a, b), ja.push(g));
        return g
    };
    na.eo = function(a, b, c, d, e) {
        var h, g, f;
        h = 0;
        for (g = C.length; h < g; h++)
            if (f = C[h], f.src === a && (f.bs() || c)) return f.tag = b, f;
        a = this.Ki(a, c);
        if (!a.la) return "<preload>" !== b && (a.Cj = b, a.Xl = d, a.cn = e), null;
        f = new n(a, b);
        C.push(f);
        return f
    };
    var za = [];
    D.prototype.vk = function(a) {
        return jb(ha,
            a)
    };
    D.prototype.Kq = function() {
        return F
    };
    D.prototype.Lq = function(a) {
        r(a);
        var b;
        a = 0;
        for (b = za.length; a < b; a++)
            if (za[a].hf()) return !0;
        return !1
    };
    P.n = new D;
    y.prototype.Play = function(a, b, c, d) {
        !F && (c = Math.pow(10, c / 20), 0 > c && (c = 0), 1 < c && (c = 1), H = this.eo(this.b.al + a[0] + (I ? ".ogg" : ".m4a"), d, a[1], 0 !== b, c)) && (H.Im(!1), H.play(0 !== b, c))
    };
    y.prototype.tr = function(a) {
        var b;
        2 === a && (a = F ? 1 : 0);
        if (0 === a && !F) {
            a = 0;
            for (b = C.length; a < b; a++) C[a].Sj(!0);
            F = !0
        } else if (1 === a && F) {
            a = 0;
            for (b = C.length; a < b; a++) C[a].Sj(!1);
            F = !1
        }
    };
    P.M = new y;
    P.Va = new function() {}
})();

function lc(f) {
    this.b = f
}
(function() {
    function f() {}

    function q() {}

    function a() {}
    var b = lc.prototype;
    b.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    b.Da.prototype.Y = function() {};
    b.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    b.ua.prototype.Y = function() {
        var a = this;
        window.addEventListener("resize", function() {
            a.b.trigger(lc.prototype.n.ir, a)
        });
        "undefined" !== typeof navigator.onLine && (window.addEventListener("online", function() {
            a.b.trigger(lc.prototype.n.dr, a)
        }), window.addEventListener("offline", function() {
            a.b.trigger(lc.prototype.n.cr, a)
        }));
        "undefined" !== typeof window.applicationCache && (window.applicationCache.addEventListener("updateready", function() {
            a.b.dg = 1;
            a.b.trigger(lc.prototype.n.tn, a)
        }), window.applicationCache.addEventListener("progress", function(b) {
            a.b.dg = b.loaded / b.total
        }));
        this.b.tb || (document.addEventListener("appMobi.device.update.available", function() {
            a.b.trigger(lc.prototype.n.tn, a)
        }), document.addEventListener("backbutton", function() {
            a.b.trigger(lc.prototype.n.tk, a)
        }), document.addEventListener("menubutton", function() {
            a.b.trigger(lc.prototype.n.on,
                a)
        }), document.addEventListener("searchbutton", function() {
            a.b.trigger(lc.prototype.n.jr, a)
        }), document.addEventListener("tizenhwkey", function(b) {
            var f;
            switch (b.keyName) {
                case "back":
                    f = a.b.trigger(lc.prototype.n.tk, a);
                    !f && window.tizen && window.tizen.application.getCurrentApplication().exit();
                    break;
                case "menu":
                    (f = a.b.trigger(lc.prototype.n.on, a)) || b.preventDefault()
            }
        }));
        this.b.Zi && (WinJS.Application.onbackclick = function() {
            return !!a.b.trigger(lc.prototype.n.tk, a)
        });
        this.b.Cn(function(b) {
            b ? a.b.trigger(lc.prototype.n.er,
                a) : a.b.trigger(lc.prototype.n.fr, a)
        });
        this.Kl = "undefined" !== typeof window.is_scirra_arcade
    };
    f.prototype.dr = function() {
        return !0
    };
    f.prototype.cr = function() {
        return !0
    };
    f.prototype.tn = function() {
        return !0
    };
    f.prototype.fr = function() {
        return !0
    };
    f.prototype.er = function() {
        return !0
    };
    f.prototype.ir = function() {
        return !0
    };
    f.prototype.tk = function() {
        return !0
    };
    f.prototype.on = function() {
        return !0
    };
    f.prototype.jr = function() {
        return !0
    };
    b.n = new f;
    q.prototype.Hq = function(a, b) {
        this.b.uc ? CocoonJS.App.openURL(a) : this.b.Lc ? ejecta.openURL(a) :
            this.b.Il ? Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(a)) : navigator.app && navigator.app.loadUrl ? navigator.app.loadUrl(a, {
                openExternal: !0
            }) : this.b.vc ? window.open(a, "_system") : this.Kl || this.b.Ga || (2 !== b || this.Kl ? 1 !== b || this.Kl ? window.location = a : window.parent.location = a : window.top.location = a)
    };
    b.M = new q;
    a.prototype.URL = function(a) {
        a.pb(this.b.Ga ? "" : window.location.toString())
    };
    b.Va = new a
})();

function mc(f) {
    this.b = f
}
(function() {
    function f(a) {
        this.u = a;
        this.Ea = !1;
        this.k = this.speed = this.y = this.x = 0;
        this.opacity = 1;
        this.le = this.Qf = this.size = this.Ri = 0
    }
    var q = mc.prototype;
    q.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    var a = q.Da.prototype;
    a.Y = function() {
        this.G || (this.P = new Image, this.P.Ok = this.ek, this.X = null, this.b.dn(this.P, this.dk))
    };
    a.Bh = function() {
        this.G || (this.X = null)
    };
    a.wj = function() {
        this.G || !this.d.length || this.X || (this.X = this.b.C.bg(this.P, !0, this.b.ca, this.Xh))
    };
    a.oh = function() {
        this.G || this.X || !this.b.C || (this.X = this.b.C.bg(this.P, !0, this.b.ca, this.Xh))
    };
    a.nk = function() {
        this.G || this.d.length || !this.X || (this.b.C.deleteTexture(this.X), this.X = null)
    };
    a.Hj = function(a) {
        a.drawImage(this.P, 0, 0)
    };
    f.prototype.init = function() {
        var a = this.u;
        this.x = a.x - a.rk / 2 + Math.random() * a.rk;
        this.y = a.y - a.sk / 2 + Math.random() * a.sk;
        this.speed = a.Al - a.Xj / 2 + Math.random() * a.Xj;
        this.k = a.k - a.Yj / 2 + Math.random() * a.Yj;
        this.opacity = a.yl;
        this.size = a.zl - a.Vj / 2 + Math.random() * a.Vj;
        this.Ri = a.ql - a.Si / 2 + Math.random() * a.Si;
        this.le = this.Qf = 0
    };
    f.prototype.Ma = function(a) {
        var b =
            this.u;
        this.x += Math.cos(this.k) * this.speed * a;
        this.y += Math.sin(this.k) * this.speed * a;
        this.y += this.Qf * a;
        this.speed += b.je * a;
        this.size += this.Ri * a;
        this.Qf += b.se * a;
        this.le += a;
        1 > this.size ? this.Ea = !1 : (0 !== b.kh && (this.k += Math.random() * b.kh * a - b.kh * a / 2), 0 !== b.mh && (this.speed += Math.random() * b.mh * a - b.mh * a / 2), 0 !== b.lh && (this.opacity += Math.random() * b.lh * a - b.lh * a / 2, 0 > this.opacity ? this.opacity = 0 : 1 < this.opacity && (this.opacity = 1)), 1 >= b.Jf && this.le >= b.timeout && (this.Ea = !1), 2 === b.Jf && 0 >= this.speed && (this.Ea = !1))
    };
    f.prototype.qc =
        function(a) {
            var b = this.u.opacity * this.opacity;
            if (0 !== b) {
                0 === this.u.Jf && (b *= 1 - this.le / this.u.timeout);
                a.globalAlpha = b;
                var b = this.x - this.size / 2,
                    f = this.y - this.size / 2;
                this.u.b.Rc && (b = b + .5 | 0, f = f + .5 | 0);
                a.drawImage(this.u.type.P, b, f, this.size, this.size)
            }
        };
    f.prototype.Ob = function(a) {
        var b = this.u.opacity * this.opacity;
        0 === this.u.Jf && (b *= 1 - this.le / this.u.timeout);
        var f = this.size,
            q = f * this.u.Ep,
            u = this.x - f / 2,
            l = this.y - f / 2;
        this.u.b.Rc && (u = u + .5 | 0, l = l + .5 | 0);
        1 > q || 0 === b || (q < a.pu || q > a.$l ? (a.He(b), a.Lh(u, l, u + f, l, u + f, l +
            f, u, l + f)) : a.Cu(this.x, this.y, q, b))
    };
    f.prototype.left = function() {
        return this.x - this.size / 2
    };
    f.prototype.right = function() {
        return this.x + this.size / 2
    };
    f.prototype.top = function() {
        return this.y - this.size / 2
    };
    f.prototype.bottom = function() {
        return this.y + this.size / 2
    };
    q.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    var a = q.ua.prototype,
        b = [];
    a.Y = function() {
        var a = this.F;
        this.Mj = a[0];
        this.Yj = V(a[1]);
        this.ug = a[2];
        this.Mm = !0;
        this.Al = a[3];
        this.zl = a[4];
        this.yl = a[5] / 100;
        this.ql = a[6];
        this.rk = a[7];
        this.sk = a[8];
        this.Xj = a[9];
        this.Vj = a[10];
        this.Si = a[11];
        this.je = a[12];
        this.se = a[13];
        this.kh = a[14];
        this.mh = a[15];
        this.lh = a[16];
        this.Jf = a[17];
        this.timeout = a[18];
        this.uf = 0;
        this.Ep = 1;
        this.yj = this.x;
        this.Aj = this.y;
        this.zj = this.x;
        this.xj = this.y;
        this.Tr(function(a) {
            a.za.set(a.yj, a.Aj, a.zj, a.xj);
            a.Bb.tg(a.za);
            a.ki = !1;
            a.Zm()
        });
        this.zc || (this.Lb = []);
        this.b.Yh(this);
        this.type.oh();
        if (1 === this.ug)
            for (a = 0; a < this.Mj; a++) this.Bk().opacity = 0;
        this.Hi = !0
    };
    a.Wb = function() {
        var a = {
                r: this.Mj,
                sc: this.Yj,
                st: this.ug,
                s: this.Mm,
                isp: this.Al,
                isz: this.zl,
                io: this.yl,
                gr: this.ql,
                xr: this.rk,
                yr: this.sk,
                spr: this.Xj,
                szr: this.Vj,
                grnd: this.Si,
                acc: this.je,
                g: this.se,
                lar: this.kh,
                lsr: this.mh,
                lor: this.lh,
                dm: this.Jf,
                to: this.timeout,
                pcc: this.uf,
                ft: this.Hi,
                p: []
            },
            b, f, q, u = a.p;
        b = 0;
        for (f = this.Lb.length; b < f; b++) q = this.Lb[b], u.push([q.x, q.y, q.speed, q.k, q.opacity, q.Ri, q.size, q.Qf, q.le]);
        return a
    };
    a.yc = function(a) {
        this.Mj = a.r;
        this.Yj = a.sc;
        this.ug = a.st;
        this.Mm = a.s;
        this.Al = a.isp;
        this.zl = a.isz;
        this.yl = a.io;
        this.ql = a.gr;
        this.rk = a.xr;
        this.sk = a.yr;
        this.Xj = a.spr;
        this.Vj = a.szr;
        this.Si =
            a.grnd;
        this.je = a.acc;
        this.se = a.g;
        this.kh = a.lar;
        this.mh = a.lsr;
        this.lh = a.lor;
        this.Jf = a.dm;
        this.timeout = a.to;
        this.uf = a.pcc;
        this.Hi = a.ft;
        b.push.apply(b, this.Lb);
        this.Lb.length = 0;
        var f, q, t, u = a.p;
        a = 0;

        for (f = u.length; a < f; a++) q = this.Bk(), t = u[a], q.x = t[0], q.y = t[1], q.speed = t[2], q.k = t[3], q.opacity = t[4], q.Ri = t[5], q.size = t[6], q.Qf = t[7], q.le = t[8]
    };
    a.lg = function() {
        b.push.apply(b, this.Lb);
        this.Lb.length = 0
    };
    a.Bk = function() {
        var a;
        b.length ? (a = b.pop(), a.u = this) : a = new f(this);
        this.Lb.push(a);
        a.Ea = !0;
        return a
    };
    a.Ma = function() {
        var a =
            this.b.Qg(this),
            f, q, t, u;
        if (0 === this.ug && this.Mm)
            for (this.uf += a * this.Mj, q = T(this.uf), this.uf -= q, f = 0; f < q; f++) t = this.Bk(), t.init();
        this.yj = this.x;
        this.Aj = this.y;
        this.zj = this.x;
        this.xj = this.y;
        u = f = 0;
        for (q = this.Lb.length; f < q; f++) t = this.Lb[f], this.Lb[u] = t, this.b.ra = !0, 1 === this.ug && this.Hi && t.init(), t.Ma(a), t.Ea ? (t.left() < this.yj && (this.yj = t.left()), t.right() > this.zj && (this.zj = t.right()), t.top() < this.Aj && (this.Aj = t.top()), t.bottom() > this.xj && (this.xj = t.bottom()), u++) : b.push(t);
        this.Lb.length = u;
        this.K();
        this.Hi = !1;
        1 === this.ug && 0 === this.Lb.length && this.b.he(this)
    };
    a.qc = function(a) {
        var b, f, q, u = this.m;
        b = 0;
        for (f = this.Lb.length; b < f; b++) q = this.Lb[b], q.right() >= u.Ba && q.bottom() >= u.Ca && q.left() <= u.Ja && q.top() <= u.Ia && q.qc(a)
    };
    a.Ob = function(a) {
        this.Ep = this.m.fc();
        a.Xb(this.type.X);
        var b, f, q, u = this.m;
        b = 0;
        for (f = this.Lb.length; b < f; b++) q = this.Lb[b], q.right() >= u.Ba && q.bottom() >= u.Ca && q.left() <= u.Ja && q.top() <= u.Ia && q.Ob(a)
    };
    q.n = new function() {};
    q.M = new function() {};
    q.Va = new function() {}
})();

function Y(f) {
    this.b = f
}
(function() {
    function f() {
        if (0 === this.Rk.length) {
            var a = document.createElement("canvas");
            a.width = this.width;
            a.height = this.height;
            var b = a.getContext("2d");
            this.vg ? b.drawImage(this.P, this.jg, this.kg, this.width, this.height, 0, 0, this.width, this.height) : b.drawImage(this.P, 0, 0, this.width, this.height);
            this.Rk = a.toDataURL("image/png")
        }
        return this.Rk
    }

    function q() {}

    function a(a) {
        a[0] = 0;
        a[1] = 0;
        a[2] = 0;
        s.push(a)
    }

    function b(a, b) {
        return a < b ? "" + a + "," + b : "" + b + "," + a
    }

    function d(a, d, c, e) {
        d = d.uid;
        c = c.uid;
        var f = b(d, c);
        if (a.hasOwnProperty(f)) a[f][2] =
            e;
        else {
            var g = s.length ? s.pop() : [0, 0, 0];
            g[0] = d;
            g[1] = c;
            g[2] = e;
            a[f] = g
        }
    }

    function g(d, e, c) {
        e = b(e.uid, c.uid);
        d.hasOwnProperty(e) && (a(d[e]), delete d[e])
    }

    function v(a, d, c) {
        d = b(d.uid, c.uid);
        if (a.hasOwnProperty(d)) return m = a[d][2], !0;
        m = -2;
        return !1
    }

    function t() {}
    var u = Y.prototype;
    u.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    var l = u.Da.prototype;
    l.Y = function() {
        if (!this.G) {
            var a, b, c, d, e, g, l, k, m;
            this.Wc = [];
            this.Vg = !1;
            a = 0;
            for (b = this.$b.length; a < b; a++) {
                e = this.$b[a];
                l = {};
                l.name = e[0];
                l.speed = e[1];
                l.loop = e[2];
                l.ym = e[3];
                l.Oj =
                    e[4];
                l.Fp = e[5];
                l.Z = e[6];
                l.frames = [];
                c = 0;
                for (d = e[7].length; c < d; c++) g = e[7][c], k = {}, k.dk = g[0], k.ek = g[1], k.jg = g[2], k.kg = g[3], k.width = g[4], k.height = g[5], k.duration = g[6], k.Qb = g[7], k.Rb = g[8], k.wl = g[9], k.Dj = g[10], k.Gp = g[11], k.vg = 0 !== k.width, k.Rk = "", k.Ew = f, m = {
                    left: 0,
                    top: 0,
                    right: 1,
                    bottom: 1
                }, k.Jm = m, k.X = null, (m = this.b.gt(g[0])) ? k.P = m : (k.P = new Image, k.P.gs = g[0], k.P.Ok = g[1], k.P.$r = null, this.b.dn(k.P, g[0])), l.frames.push(k), this.Wc.push(k);
                this.$b[a] = l
            }
        }
    };
    l.rq = function() {
        var a, b, c;
        a = 0;
        for (b = this.d.length; a < b; a++) c =
            this.d[a], c.vi = c.Fc.X
    };
    l.Bh = function() {
        if (!this.G) {
            var a, b, c;
            a = 0;
            for (b = this.Wc.length; a < b; ++a) c = this.Wc[a], c.P.$r = null, c.X = null;
            this.Vg = !1;
            this.rq()
        }
    };
    l.wj = function() {
        if (!this.G && this.d.length) {
            var a, b, c;
            a = 0;
            for (b = this.Wc.length; a < b; ++a) c = this.Wc[a], c.X = this.b.C.bg(c.P, !1, this.b.ca, c.Gp);
            this.rq()
        }
    };
    l.oh = function() {
        if (!this.G && !this.Vg && this.b.C) {
            var a, b, c;
            a = 0;
            for (b = this.Wc.length; a < b; ++a) c = this.Wc[a], c.X = this.b.C.bg(c.P, !1, this.b.ca, c.Gp);
            this.Vg = !0
        }
    };
    l.nk = function() {
        if (!this.G && !this.d.length &&
            this.Vg) {
            var a, b, c;
            a = 0;
            for (b = this.Wc.length; a < b; ++a) c = this.Wc[a], this.b.C.deleteTexture(c.X), c.X = null;
            this.Vg = !1
        }
    };
    var e = [];
    l.Hj = function(a) {
        var b, c, d;
        b = e.length = 0;
        for (c = this.Wc.length; b < c; ++b) d = this.Wc[b].P, -1 === e.indexOf(d) && (a.drawImage(d, 0, 0), e.push(d))
    };
    u.ua = function(a) {
        this.type = a;
        this.b = a.b;
        a = this.type.$b[0].frames[0].Dj;
        this.zc ? this.ga.Rh(a) : this.ga = new db(a)
    };
    var k = u.ua.prototype;
    k.Y = function() {
        this.visible = 0 === this.F[0];
        this.xl = this.Hl = !1;
        this.Dc = 0 !== this.F[3];
        1 === this.type.$b.length && 1 ===
            this.type.$b[0].frames.length || 0 === this.type.$b[0].speed || (this.b.Yh(this), this.Hl = !0);
        this.Ka = this.co(this.F[1]) || this.type.$b[0];
        this.D = this.F[2];
        0 > this.D && (this.D = 0);
        this.D >= this.Ka.frames.length && (this.D = this.Ka.frames.length - 1);
        var a = this.Ka.frames[this.D];
        this.ga.Rh(a.Dj);
        this.Qb = a.Qb;
        this.Rb = a.Rb;
        this.Kg = this.Ka.speed;
        this.zc ? this.md.reset() : this.md = new bb;
        this.Sd = this.md.pa;
        this.Pe = !0;
        this.Hd = 0;
        this.Oe = !0;
        this.oi = this.En = "";
        this.On = 0;
        this.Kk = -1;
        this.type.oh();
        var b, c, d, e, f, g, l, a = 0;
        for (b = this.type.$b.length; a <
            b; a++)
            for (e = this.type.$b[a], c = 0, d = e.frames.length; c < d; c++) f = e.frames[c], 0 === f.width && (f.width = f.P.width, f.height = f.P.height), f.vg && (l = f.P, g = f.Jm, g.left = f.jg / l.width, g.top = f.kg / l.height, g.right = (f.jg + f.width) / l.width, g.bottom = (f.kg + f.height) / l.height, 0 === f.jg && 0 === f.kg && f.width === l.width && f.height === l.height && (f.vg = !1));
        this.Fc = this.Ka.frames[this.D];
        this.vi = this.Fc.X
    };
    k.Wb = function() {
        var a = {
            a: this.Ka.Z,
            f: this.D,
            cas: this.Kg,
            fs: this.Sd,
            ar: this.Hd,
            at: this.md.pa
        };
        this.Pe || (a.ap = this.Pe);
        this.Oe || (a.af =
            this.Oe);
        return a
    };
    k.yc = function(a) {
        var b = this.lt(a.a);
        b && (this.Ka = b);
        this.D = a.f;
        0 > this.D && (this.D = 0);
        this.D >= this.Ka.frames.length && (this.D = this.Ka.frames.length - 1);
        this.Kg = a.cas;
        this.Sd = a.fs;
        this.Hd = a.ar;
        this.md.reset();
        this.md.pa = a.at;
        this.Pe = a.hasOwnProperty("ap") ? a.ap : !0;
        this.Oe = a.hasOwnProperty("af") ? a.af : !0;
        this.Fc = this.Ka.frames[this.D];
        this.vi = this.Fc.X;
        this.ga.Rh(this.Fc.Dj);
        this.Qb = this.Fc.Qb;
        this.Rb = this.Fc.Rb
    };
    k.Ek = function(a) {
        this.D = a ? 0 : this.Ka.frames.length - 1;
        this.Pe = !1;
        this.En = this.Ka.name;
        this.xl = !0;
        this.b.trigger(Y.prototype.n.Sq, this);
        this.b.trigger(Y.prototype.n.Rq, this);
        this.xl = !1;
        this.Hd = 0
    };
    k.Gw = function() {
        return this.md.pa
    };
    k.Ma = function() {
        this.md.add(this.b.Qg(this));
        this.oi.length && this.Tn();
        0 <= this.Kk && this.ms();
        var a = this.md.pa,
            b = this.Ka,
            c = b.frames[this.D],
            d = c.duration / this.Kg;
        this.Pe && a >= this.Sd + d && (this.Oe ? this.D++ : this.D--, this.Sd += d, this.D >= b.frames.length && (b.Fp ? (this.Oe = !1, this.D = b.frames.length - 2) : b.loop ? this.D = b.Oj : (this.Hd++, this.Hd >= b.ym ? this.Ek(!1) : this.D = b.Oj)),
            0 > this.D && (b.Fp ? (this.D = 1, this.Oe = !0, b.loop || (this.Hd++, this.Hd >= b.ym && this.Ek(!0))) : b.loop ? this.D = b.Oj : (this.Hd++, this.Hd >= b.ym ? this.Ek(!0) : this.D = b.Oj)), 0 > this.D ? this.D = 0 : this.D >= b.frames.length && (this.D = b.frames.length - 1), a > this.Sd + b.frames[this.D].duration / this.Kg && (this.Sd = a), a = b.frames[this.D], this.Ef(c, a), this.b.ra = !0)
    };
    k.co = function(a) {
        var b, c, d;
        b = 0;
        for (c = this.type.$b.length; b < c; b++)
            if (d = this.type.$b[b], jb(d.name, a)) return d;
        return null
    };
    k.lt = function(a) {
        var b, c, d;
        b = 0;
        for (c = this.type.$b.length; b <
            c; b++)
            if (d = this.type.$b[b], d.Z === a) return d;
        return null
    };
    k.Tn = function() {
        var a = this.Ka.frames[this.D],
            b = this.co(this.oi);
        this.oi = "";
        !b || jb(b.name, this.Ka.name) && this.Pe || (this.Ka = b, this.Kg = b.speed, 0 > this.D && (this.D = 0), this.D >= this.Ka.frames.length && (this.D = this.Ka.frames.length - 1), 1 === this.On && (this.D = 0), this.Pe = !0, this.Sd = this.md.pa, this.Oe = !0, this.Ef(a, this.Ka.frames[this.D]), this.b.ra = !0)
    };
    k.ms = function() {
        var a = this.Ka.frames[this.D],
            b = this.D;
        this.D = T(this.Kk);
        0 > this.D && (this.D = 0);
        this.D >= this.Ka.frames.length &&
            (this.D = this.Ka.frames.length - 1);
        b !== this.D && (this.Ef(a, this.Ka.frames[this.D]), this.Sd = this.md.pa, this.b.ra = !0);
        this.Kk = -1
    };
    k.Ef = function(a, b) {
        var c = a.width,
            d = a.height,
            e = b.width,
            f = b.height;
        c != e && (this.width *= e / c);
        d != f && (this.height *= f / d);
        this.Qb = b.Qb;
        this.Rb = b.Rb;
        this.ga.Rh(b.Dj);
        this.K();
        this.Fc = b;
        this.vi = b.X;
        c = 0;
        for (d = this.R.length; c < d; c++) e = this.R[c], e.sp && e.sp(a, b);
        this.b.trigger(Y.prototype.n.Ef, this)
    };
    k.qc = function(a) {
        a.globalAlpha = this.opacity;
        var b = this.Fc,
            c = b.vg,
            d = b.P,
            e = this.x,
            f = this.y,
            g = this.width,
            l = this.height;
        if (0 === this.k && 0 <= g && 0 <= l) e -= this.Qb * g, f -= this.Rb * l, this.b.Rc && (e = Math.round(e), f = Math.round(f)), c ? a.drawImage(d, b.jg, b.kg, b.width, b.height, e, f, g, l) : a.drawImage(d, e, f, g, l);
        else {
            this.b.Rc && (e = Math.round(e), f = Math.round(f));
            a.save();
            var k = 0 < g ? 1 : -1,
                m = 0 < l ? 1 : -1;
            a.translate(e, f);
            1 === k && 1 === m || a.scale(k, m);
            a.rotate(this.k * k * m);
            e = 0 - this.Qb * oa(g);
            f = 0 - this.Rb * oa(l);
            c ? a.drawImage(d, b.jg, b.kg, b.width, b.height, e, f, oa(g), oa(l)) : a.drawImage(d, e, f, oa(g), oa(l));
            a.restore()
        }
    };
    k.Ob = function(a) {
        a.Xb(this.vi);
        a.He(this.opacity);
        var b = this.Fc,
            c = this.Bb;
        if (this.b.Rc) {
            var d = Math.round(this.x) - this.x,
                e = Math.round(this.y) - this.y;
            b.vg ? a.xd(c.Na + d, c.Oa + e, c.Gb + d, c.Hb + e, c.Cb + d, c.Db + e, c.zb + d, c.Ab + e, b.Jm) : a.Lh(c.Na + d, c.Oa + e, c.Gb + d, c.Hb + e, c.Cb + d, c.Db + e, c.zb + d, c.Ab + e)
        } else b.vg ? a.xd(c.Na, c.Oa, c.Gb, c.Hb, c.Cb, c.Db, c.zb, c.Ab, b.Jm) : a.Lh(c.Na, c.Oa, c.Gb, c.Hb, c.Cb, c.Db, c.zb, c.Ab)
    };
    k.qt = function(a) {
        var b = this.Fc,
            c, d;
        c = 0;
        for (d = b.wl.length; c < d; c++)
            if (jb(a, b.wl[c][0])) return c;
        return -1
    };
    k.jl = function(a, b) {
        var c = this.Fc,
            d = c.wl,
            e;
        e = R(a) ? this.qt(a) : a - 1;
        e = T(e);
        if (0 > e || e >= d.length) return b ? this.x : this.y;
        var f = (d[e][1] - c.Qb) * this.width,
            d = d[e][2],
            d = (d - c.Rb) * this.height,
            c = Math.cos(this.k);
        e = Math.sin(this.k);
        var g = f * c - d * e,
            d = d * c + f * e,
            f = g + this.x,
            d = d + this.y;
        return b ? f : d
    };
    var s = [],
        m = -2,
        z = [];
    q.prototype.Uq = function(b) {
        if (!b) return !1;
        var e = this.b,
            c = e.Mi(),
            f = c.type;
        c.ka.collmemory || (c.ka.collmemory = {}, e.An(function(b) {
            return function(c) {
                c = c.uid;
                var d, e;
                for (d in b) b.hasOwnProperty(d) && (e = b[d], e[0] === c || e[1] === c) && (a(b[d]), delete b[d])
            }
        }(c.ka.collmemory)));
        var c = c.ka.collmemory,
            l = f.V(),
            k = b.V(),
            l = l.tc(),
            q, p, u, s, t, x, K, G = this.b.hd,
            A = G - 1,
            ja = e.sb().qb;
        for (p = 0; p < l.length; p++) {
            u = l[p];
            k.da ? (u.ya(), this.b.fo(u.m, b, u.za, z), q = z) : q = k.tc();
            for (s = 0; s < q.length; s++) t = q[s], e.xf(u, t) || e.cs(u, t) ? (x = v(c, u, t), x = !x || m < A, d(c, u, t, G), x && (e.Kh(ja.na), x = f.V(), K = b.V(), x.da = !1, K.da = !1, f === b ? (x.d.length = 2, x.d[0] = u, x.d[1] = t, f.Xc()) : (x.d.length = 1, K.d.length = 1, x.d[0] = u, K.d[0] = t, f.Xc(), b.Xc()), ja.zm(), e.De(ja.na))) : g(c, u, t);
            z.length = 0
        }
        return !1
    };
    var x = new ca,
        p = !1;
    new U(0, 0, 0, 0);
    l.finish =
        function(a) {
            if (p) {
                if (a) {
                    var b = this.b.sb().qb.bd;
                    a = null.V();
                    var c = x.Ne(),
                        d, e;
                    if (a.da) {
                        a.da = !1;
                        a.d.length = c.length;
                        d = 0;
                        for (e = c.length; d < e; d++) a.d[d] = c[d];
                        if (b)
                            for (d = a.ja.length = 0, e = null.d.length; d < e; d++) c = null.d[d], x.contains(c) || a.ja.push(c)
                    } else if (b)
                        for (b = a.d.length, a.d.length = b + c.length, d = 0, e = c.length; d < e; d++) a.d[b + d] = c[d], Fa(a.ja, c[d]);
                    else Ba(a.d, c);
                    null.Xc()
                }
                x.clear();
                p = !1
            }
        };
    q.prototype.Rq = function(a) {
        return jb(this.En, a)
    };
    q.prototype.Sq = function() {
        return !0
    };
    q.prototype.Ef = function() {
        return !0
    };
    u.n = new q;
    t.prototype.qr = function(a, b) {
        this.oi = a;
        this.On = b;
        this.Hl || (this.b.Yh(this), this.Hl = !0);
        this.xl || this.Tn()
    };
    t.prototype.rr = function(a) {
        this.Dc !== (0 !== a) && ((this.Dc = 0 !== a) ? this.K() : (this.Cc.right >= this.Cc.left && this.type.Ig.update(this, this.Cc, null), this.Cc.set(0, 0, -1, -1)))
    };
    u.M = new t;
    u.Va = new function() {}
})();

function nc(f) {
    this.b = f
}
(function() {
    function f() {
        return t.length ? t.pop() : {}
    }

    function q(a) {
        var b, d;
        b = 0;
        for (d = a.length; b < d; b++) t.push(a[b]);
        a.length = 0
    }

    function a() {}

    function b() {}
    var d = nc.prototype;
    d.Y = function() {
        d.M.Er = function(a) {
            this.width !== a && (this.width = a, this.zf = !0, this.K())
        }
    };
    d.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    var g = d.Da.prototype;
    g.Y = function() {};
    g.Bh = function() {
        if (!this.G) {
            var a, b, d;
            a = 0;
            for (b = this.d.length; a < b; a++) d = this.d[a], d.ud = null, d.tf = null, d.kc = null
        }
    };
    d.ua = function(a) {
        this.type = a;
        this.b = a.b;
        this.zc ? this.ze.length =
            0 : this.ze = [];
        this.zf = !0
    };
    g = d.ua.prototype;
    //this is initializing the score
    g.Y = function() {
        this.text = this.F[0];
        if(this.text === "0"){
	 		$.ajax({
	            type: "GET",
	            url: "/new_game",
	            success:function(data) {
	                $("#game_token").val(data.token);
	                global_luckee_token = data.token;
	            }
	          }); 
        }
        this.visible = 0 === this.F[1];
        this.font = this.F[2];
        this.color = this.F[3];
        this.Ti = this.F[4];
        this.pk = this.F[5];
        this.jn = 0 === this.F[7];
        this.Pl = this.ij = this.width;
        this.hj = this.height;
        this.Sl = this.F[8];
        this.Ii = this.Lf = "";
        this.dq = this.fq = this.Ih = 0;
        this.zu();
        this.kc = this.tf = this.ud = null;
        this.ip = !1;
        this.jh = this.b.hd;
        this.zc ? this.Ee.set(0, 0, 1, 1) : this.Ee = new U(0, 0, 1, 1);
        this.b.C && this.b.Yh(this)
    };
    g.zu = function() {
        var a = this.font.split(" "),
            b;
        for (b = 0; b < a.length; b++)
            if ("pt" === a[b].substr(a[b].length - 2, 2)) {
                this.Ih = parseInt(a[b].substr(0, a[b].length - 2));
                this.um = Math.ceil(this.Ih / 72 * 96) + 4;
                0 < b && (this.Ii = a[b - 1]);
                this.Lf = a[b + 1];
                for (b += 2; b < a.length; b++) this.Lf += " " + a[b];
                break
            }
    };
    g.Wb = function() {
        return {
            t: this.text,
            f: this.font,
            c: this.color,
            ha: this.Ti,
            va: this.pk,
            wr: this.jn,
            lho: this.Sl,
            fn: this.Lf,
            fs: this.Ii,
            ps: this.Ih,
            pxh: this.um,
            tw: this.fq,
            th: this.dq,
            lrt: this.jh
        }
    };
    g.yc = function(a) {
        this.text = a.t;

        this.font = a.f;
        this.color = a.c;
        this.Ti = a.ha;
        this.pk =
            a.va;
        this.jn = a.wr;
        this.Sl = a.lho;
        this.Lf = a.fn;
        this.Ii = a.fs;
        this.Ih = a.ps;
        this.um = a.pxh;
        this.fq = a.tw;
        this.dq = a.th;
        this.jh = a.lrt;
        this.zf = !0;
        this.Pl = this.ij = this.width;
        this.hj = this.height
    };
    g.Ma = function() {
        if (this.b.C && this.kc && 300 <= this.b.hd - this.jh) {
            var a = this.m;
            this.ya();
            var b = this.za;
            if (b.right < a.Ba || b.bottom < a.Ca || b.left > a.Ja || b.top > a.Ia) this.b.C.deleteTexture(this.kc), this.ud = this.tf = this.kc = null
        }
    };
    g.lg = function() {
        this.ud = this.tf = null;
        this.b.C && this.kc && this.b.C.deleteTexture(this.kc);
        this.kc = null
    };
    g.Pw = function() {
        this.font = this.Ii + " " + this.Ih.toString() + "pt " + this.Lf;
        this.zf = !0;
        this.b.ra = !0
    };
    g.qc = function(a, b) {
        a.font = this.font;
        a.textBaseline = "top";
        a.fillStyle = this.color;
        a.globalAlpha = b ? 1 : this.opacity;
        var d = 1;
        b && (d = this.m.fc(), a.save(), a.scale(d, d));
        if (this.zf || this.width !== this.Pl) this.type.Aa.Mr(this.text, this.ze, a, this.width, this.jn), this.zf = !1, this.Pl = this.width;
        this.ya();
        var d = b ? 0 : this.Bb.Na,
            f = b ? 0 : this.Bb.Oa;
        this.b.Rc && (d = d + .5 | 0, f = f + .5 | 0);
        0 === this.k || b || (a.save(), a.translate(d, f), a.rotate(this.k),
            f = d = 0);
        var g = f + this.height,
            m = this.um,
            m = m + this.Sl,
            q, t;
        1 === this.pk ? f += Math.max(this.height / 2 - this.ze.length * m / 2, 0) : 2 === this.pk && (f += Math.max(this.height - this.ze.length * m - 2, 0));
        for (t = 0; t < this.ze.length && !(q = d, 1 === this.Ti ? q = d + (this.width - this.ze[t].width) / 2 : 2 === this.Ti && (q = d + (this.width - this.ze[t].width)), a.fillText(this.ze[t].text, q, f), f += m, f >= g - m); t++);
        (0 !== this.k || b) && a.restore();
        this.jh = this.b.hd
    };
    g.Ob = function(a) {
        if (!(1 > this.width || 1 > this.height)) {
            var b = this.zf || this.ip;
            this.ip = !1;
            var d = this.m.fc(),
                f = this.m.Ya(),
                g = this.Ee,
                m = d * this.width,
                q = d * this.height,
                t = Math.ceil(m),
                p = Math.ceil(q),
                h = this.b.T / 2,
                v = this.b.S / 2;
            this.tf || (this.ud = document.createElement("canvas"), this.ud.width = t, this.ud.height = p, this.ij = t, this.hj = p, b = !0, this.tf = this.ud.getContext("2d"));
            if (t !== this.ij || p !== this.hj) this.ud.width = t, this.ud.height = p, this.kc && (a.deleteTexture(this.kc), this.kc = null), b = !0;
            b && (this.tf.clearRect(0, 0, t, p), this.qc(this.tf, !0), this.kc || (this.kc = a.Jd(t, p, this.b.ca, this.b.sd)), a.zv(this.ud, this.kc, this.b.sd));
            this.ij = t;
            this.hj = p;
            a.Xb(this.kc);
            a.He(this.opacity);
            a.yd();
            a.translate(-h, -v);
            a.Dd();
            var c = this.Bb,
                b = this.m.Ha(c.Na, c.Oa, !0, !0),
                h = this.m.Ha(c.Na, c.Oa, !1, !0),
                v = this.m.Ha(c.Gb, c.Hb, !0, !0),
                n = this.m.Ha(c.Gb, c.Hb, !1, !0),
                r = this.m.Ha(c.Cb, c.Db, !0, !0),
                w = this.m.Ha(c.Cb, c.Db, !1, !0),
                D = this.m.Ha(c.zb, c.Ab, !0, !0),
                c = this.m.Ha(c.zb, c.Ab, !1, !0);
            if (this.b.Rc || 0 === this.k && 0 === f) var y = (b + .5 | 0) - b,
                P = (h + .5 | 0) - h,
                b = b + y,
                h = h + P,
                v = v + y,
                n = n + P,
                r = r + y,
                w = w + P,
                D = D + y,
                c = c + P;
            0 === this.k && 0 === f ? (v = b + t, n = h, r = v, w = h + p, D = b, c = w, g.right = 1, g.bottom =
                1) : (g.right = m / t, g.bottom = q / p);
            a.xd(b, h, v, n, r, w, D, c, g);
            a.yd();
            a.scale(d, d);
            a.Bm(-this.m.Ya());
            a.translate((this.m.Ba + this.m.Ja) / -2, (this.m.Ca + this.m.Ia) / -2);
            a.Dd();
            this.jh = this.b.hd
        }
    };
    var v = [];
    d.Jr = function(a) {
        v.length = 0;
        for (var b = "", d, f = 0; f < a.length;)
            if (d = a.charAt(f), "\n" === d) b.length && (v.push(b), b = ""), v.push("\n"), ++f;
            else if (" " === d || "\t" === d || "-" === d) {
            do b += a.charAt(f), f++; while (f < a.length && (" " === a.charAt(f) || "\t" === a.charAt(f)));
            v.push(b);
            b = ""
        } else f < a.length && (b += d, f++);
        b.length && v.push(b)
    };
    var t = [];
    d.Mr = function(a, b, d, g, t) {
        if (a && a.length)
            if (2 >= g) q(b);
            else {
                if (100 >= a.length && -1 === a.indexOf("\n")) {
                    var m = d.measureText(a).width;
                    if (m <= g) {
                        q(b);
                        b.push(f());
                        //THIS IS another location for scoring stuff?
                       
                        b[0].text = a;
                        b[0].width = m;
                        return
                    }
                }
                this.Nr(a, b, d, g, t)
            } else q(b)
    };
    d.Nr = function(a, b, d, g, q) {
        q && (this.Jr(a), a = v);
        var m = "",
            z, x, p, h = 0;
        for (p = 0; p < a.length; p++) "\n" === a[p] ? (h >= b.length && b.push(f()), x = b[h], x.text = m, x.width = d.measureText(m).width, h++, m = "") : (z = m, m += a[p], x = d.measureText(m).width, x >= g && (h >= b.length && b.push(f()), x = b[h], x.text = z, x.width =
            d.measureText(z).width, h++, m = a[p], q || " " !== m || (m = "")));
        m.length && (h >= b.length && b.push(f()), x = b[h], x.text = m, x.width = d.measureText(m).width, h++);
        for (p = h; p < b.length; p++) t.push(b[p]);
        b.length = h
    };
    d.n = new function() {};
    a.prototype.Ar = function(a) {
        O(a) && 1E9 > a && (a = Math.round(1E10 * a) / 1E10);
        a = a.toString();
		//THIS IS THE SCORING THING!!!
	    //BEGIN GETLUCKEE SCORING CODE
          $.ajax({
            type: "GET",
            url: "/score_update",
            data: { token: global_luckee_token, score: a },
            success:function(data) {
                $('.credits').html(data.user_total + ' credits');
                if(data.token != $("#game_token").val()){
                	global_luckee_token = data.token;
                    $("#game_token").val(data.token);
                    $("#credits_earned").val(0);
                }else{
                    $("#credits_earned").val(data.earned);
                }
            }
          });  
	  // END GETLUCKEE   
        this.text !== a && (this.text = a, this.zf = !0, this.b.ra = !0)
    };
    d.M = new a;
    b.prototype.Text = function(a) {
        a.pb(this.text)
    };
    d.Va = new b
})();

function oc(f) {
    this.b = f
}
(function() {
    var f = oc.prototype;
    f.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    var q = f.Da.prototype;
    q.Y = function() {
        this.G || (this.P = new Image, this.P.Ok = this.ek, this.b.dn(this.P, this.dk), this.X = this.pattern = null)
    };
    q.Bh = function() {
        this.G || (this.X = null)
    };
    q.wj = function() {
        if (!this.G && this.d.length) {
            this.X || (this.X = this.b.C.bg(this.P, !0, this.b.ca, this.Xh));
            var a, b;
            a = 0;
            for (b = this.d.length; a < b; a++) this.d[a].X = this.X
        }
    };
    q.oh = function() {
        this.G || this.X || !this.b.C || (this.X = this.b.C.bg(this.P, !0, this.b.ca, this.Xh))
    };
    q.nk =
        function() {
            this.G || this.d.length || !this.X || (this.b.C.deleteTexture(this.X), this.X = null)
        };
    q.Hj = function(a) {
        a.drawImage(this.P, 0, 0)
    };
    f.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    q = f.ua.prototype;
    q.Y = function() {
        this.visible = 0 === this.F[0];
        this.Ee = new U(0, 0, 0, 0);
        this.ro = !1;
        this.P = this.type.P;
        this.b.C ? (this.type.oh(), this.X = this.type.X) : (this.type.pattern || (this.type.pattern = this.b.qa.createPattern(this.type.P, "repeat")), this.pattern = this.type.pattern)
    };
    q.Gd = function() {
        this.ro = !1;
        this.P = this.type.P
    };
    q.lg = function() {
        this.b.C &&
            this.ro && this.X && (this.b.C.deleteTexture(this.X), this.X = null)
    };
    q.qc = function(a) {
        a.globalAlpha = this.opacity;
        a.save();
        a.fillStyle = this.pattern;
        var b = this.x,
            d = this.y;
        this.b.Rc && (b = Math.round(b), d = Math.round(d));
        var f = -(this.Qb * this.width),
            q = -(this.Rb * this.height),
            t = f % this.P.width,
            u = q % this.P.height;
        0 > t && (t += this.P.width);
        0 > u && (u += this.P.height);
        a.translate(b, d);
        a.rotate(this.k);
        a.translate(t, u);
        a.fillRect(f - t, q - u, this.width, this.height);
        a.restore()
    };
    q.Ob = function(a) {
        a.Xb(this.X);
        a.He(this.opacity);
        var b =
            this.Ee;
        b.right = this.width / this.P.width;
        b.bottom = this.height / this.P.height;
        var d = this.Bb;
        if (this.b.Rc) {
            var f = Math.round(this.x) - this.x,
                q = Math.round(this.y) - this.y;
            a.xd(d.Na + f, d.Oa + q, d.Gb + f, d.Hb + q, d.Cb + f, d.Db + q, d.zb + f, d.Ab + q, b)
        } else a.xd(d.Na, d.Oa, d.Gb, d.Hb, d.Cb, d.Db, d.zb, d.Ab, b)
    };
    f.n = new function() {};
    f.M = new function() {};
    f.Va = new function() {}
})();

function Z(f) {
    this.b = f
}
(function() {
    function f(a) {
        l = a.x;
        e = a.y;
        k = a.z
    }

    function q(a) {
        s = a.x;
        m = a.y;
        z = a.z
    }

    function a(a, d, e, f) {
        var g;
        g = x.length ? x.pop() : new b;
        g.init(a, d, e, f);
        return g
    }

    function b() {
        this.Th = this.id = this.pf = this.of = this.y = this.x = this.ak = this.$j = this.Ol = this.time = this.Om = 0;
        this.$h = this.lk = !1
    }

    function d() {}

    function g() {}
    var v = Z.prototype;
    v.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    v.Da.prototype.Y = function() {};
    v.ua = function(a) {
        this.type = a;
        this.b = a.b;
        this.touches = [];
        this.cm = !1
    };
    var t = v.ua.prototype,
        u = {
            left: 0,
            top: 0
        };
    t.Pg = function(a) {
        var b,
            d;
        b = 0;
        for (d = this.touches.length; b < d; b++)
            if (this.touches[b].id === a) return b;
        return -1
    };
    var l = 0,
        e = 0,
        k = 0,
        s = 0,
        m = 0,
        z = 0,
        x = [];
    b.prototype.init = function(a, b, d, e) {

        var f = Ya();
        this.Om = this.Ol = this.time = f;
        this.$j = a;
        this.ak = b;
        this.x = a;
        this.y = b;
        this.of = a;
        this.pf = b;
        this.id = d;
        this.Th = e;
        this.$h = this.lk = !1
    };
    b.prototype.update = function(a, b, d) {

        this.Ol = this.time;
        this.time = a;
        this.of = this.x;
        this.pf = this.y;
        this.x = b;
        this.y = d;
        !this.$h && 15 <= Ua(this.$j, this.ak, this.x, this.y) && (this.$h = !0)
    };
    b.prototype.nu = function(a, b) {
        !this.lk &&
            500 <= Ya() - this.Om && !this.$h && 15 > Ua(this.$j, this.ak, this.x, this.y) && (this.lk = !0, a.Cd = this.Th, a.xg = this.id, a.Of = b, a.b.trigger(Z.prototype.n.Yq, a), a.Ld = this.x, a.Md = this.y, a.b.trigger(Z.prototype.n.Zq, a), a.Of = 0)
    };
    var p = -1E3,
        h = -1E3,
        E = -1E4;
    b.prototype.dp = function(a, b) {
        if (!this.lk) {
            var d = Ya();
            333 >= d - this.Om && !this.$h && 15 > Ua(this.$j, this.ak, this.x, this.y) && (a.Cd = this.Th, a.xg = this.id, a.Of = b, 666 >= d - E && 25 > Ua(p, h, this.x, this.y) ? (a.b.trigger(Z.prototype.n.Wq, a), a.Ld = this.x, a.Md = this.y, a.b.trigger(Z.prototype.n.Xq,
                a), h = p = -1E3, E = -1E4) : (a.b.trigger(Z.prototype.n.kr, a), a.Ld = this.x, a.Md = this.y, a.b.trigger(Z.prototype.n.lr, a), p = this.x, h = this.y, E = d), a.Of = 0)
        }
    };
    t.Y = function() {
        this.gu = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8);
        this.Of = this.xg = this.Cd = this.Md = this.Ld = this.yn = this.xn = this.wn = this.Rr = this.Qr = this.Pr = this.Eh = this.Dh = this.Ch = 0;
        this.xv = 0 !== this.F[0];
        var a = 0 < this.b.ec ? document : this.b.canvas,
            b = document;
        this.b.tb ? b = a = window.Canvas : this.b.uc && (b = a = window);
        var d = this;
        window.navigator.pointerEnabled ?
            (a.addEventListener("pointerdown", function(a) {
                d.rp(a)
            }, !1), a.addEventListener("pointermove", function(a) {
                d.qp(a)
            }, !1), b.addEventListener("pointerup", function(a) {
                d.vj(a, !1)
            }, !1), b.addEventListener("pointercancel", function(a) {
                d.vj(a, !0)
            }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), this.b.canvas.addEventListener("gesturehold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("gesturehold",
                function(a) {
                    a.preventDefault()
                }, !1))) : window.navigator.msPointerEnabled ? (a.addEventListener("MSPointerDown", function(a) {
                d.rp(a)
            }, !1), a.addEventListener("MSPointerMove", function(a) {
                d.qp(a)
            }, !1), b.addEventListener("MSPointerUp", function(a) {
                d.vj(a, !1)
            }, !1), b.addEventListener("MSPointerCancel", function(a) {
                d.vj(a, !0)
            }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1))) : (a.addEventListener("touchstart",
                function(a) {
                    d.up(a)
                }, !1), a.addEventListener("touchmove", function(a) {
                d.tp(a)
            }, !1), b.addEventListener("touchend", function(a) {
                d.mm(a, !1)
            }, !1), b.addEventListener("touchcancel", function(a) {
                d.mm(a, !0)
            }, !1));
        if (this.gu) {
            var e = function(a) {
                    a = a.reading;
                    d.wn = a.accelerationX;
                    d.xn = a.accelerationY;
                    d.yn = a.accelerationZ
                },
                g = function(a) {
                    a = a.reading;
                    d.Ch = a.yawDegrees;
                    d.Dh = a.pitchDegrees;
                    d.Eh = a.rollDegrees
                },
                h = Windows.Devices.Sensors.Accelerometer.getDefault();
            h && (h.reportInterval = Math.max(h.minimumReportInterval, 16),
                h.addEventListener("readingchanged", e));
            var k = Windows.Devices.Sensors.Inclinometer.getDefault();
            k && (k.reportInterval = Math.max(k.minimumReportInterval, 16), k.addEventListener("readingchanged", g));
            document.addEventListener("visibilitychange", function() {
                document.hidden || document.msHidden ? (h && h.removeEventListener("readingchanged", e), k && k.removeEventListener("readingchanged", g)) : (h && h.addEventListener("readingchanged", e), k && k.addEventListener("readingchanged", g))
            }, !1)
        } else window.addEventListener("deviceorientation",
            function(a) {
                d.Ch = a.alpha || 0;
                d.Dh = a.beta || 0;
                d.Eh = a.gamma || 0
            }, !1), window.addEventListener("devicemotion", function(a) {
            a.accelerationIncludingGravity && (d.Pr = a.accelerationIncludingGravity.x || 0, d.Qr = a.accelerationIncludingGravity.y || 0, d.Rr = a.accelerationIncludingGravity.z || 0);
            a.acceleration && (d.wn = a.acceleration.x || 0, d.xn = a.acceleration.y || 0, d.yn = a.acceleration.z || 0)
        }, !1);
        this.xv && !this.b.Ga && (jQuery(document).mousemove(function(a) {
            d.wu(a)
        }), jQuery(document).mousedown(function(a) {
            d.vu(a)
        }), jQuery(document).mouseup(function(a) {
            d.xu(a)
        }));
        this.b.Sf && !this.b.tb && AppMobi.accelerometer.watchAcceleration(f, {
            frequency: 40,
            adjustForRotation: !0
        });
        this.b.vc && navigator.accelerometer && navigator.accelerometer.watchAcceleration && navigator.accelerometer.watchAcceleration(q, null, {
            frequency: 40
        });
        this.b.pv(this)
    };
    t.qp = function(a) {
        if (a.pointerType !== a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType) {
            a.preventDefault && a.preventDefault();
            var b = this.Pg(a.pointerId),
                d = Ya();
            if (0 <= b) {
                var e = this.b.Ga ? u : jQuery(this.b.canvas).offset(),
                    b = this.touches[b];
                2 > d - b.time ||
                    b.update(d, a.pageX - e.left, a.pageY - e.top)
            }
        }
    };
    t.rp = function(b) {
        if (b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType) {
            b.preventDefault && kb(b) && b.preventDefault();
            var d = this.b.Ga ? u : jQuery(this.b.canvas).offset(),
                e = b.pageX - d.left,
                d = b.pageY - d.top;
            Ya();
            this.Cd = this.touches.length;
            this.xg = b.pointerId;
            this.touches.push(a(e, d, b.pointerId, this.Cd));
            this.b.rd = !0;
            this.b.trigger(Z.prototype.n.qn, this);
            this.b.trigger(Z.prototype.n.sn, this);
            this.Ld = e;
            this.Md = d;
            this.b.trigger(Z.prototype.n.yk, this);
            this.b.rd = !1
        }
    };
    t.vj = function(a, b) {
        if (a.pointerType !== a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType) {
            a.preventDefault && kb(a) && a.preventDefault();
            var d = this.Pg(a.pointerId);
            this.Cd = 0 <= d ? this.touches[d].Th : -1;
            this.xg = 0 <= d ? this.touches[d].id : -1;
            this.b.rd = !0;
            this.b.trigger(Z.prototype.n.pn, this);
            this.b.trigger(Z.prototype.n.rn, this);
            0 <= d && (b || this.touches[d].dp(this, d), 100 > x.length && x.push(this.touches[d]), this.touches.splice(d, 1));
            this.b.rd = !1
        }
    };
    t.tp = function(a) {
        a.preventDefault && a.preventDefault();
        var b = Ya(),
            d, e, f, g;
        d = 0;
        for (e = a.changedTouches.length; d < e; d++)
            if (f = a.changedTouches[d], g = this.Pg(f.identifier), 0 <= g) {
                var h = this.b.Ga ? u : jQuery(this.b.canvas).offset();
                g = this.touches[g];
                2 > b - g.time || g.update(b, f.pageX - h.left, f.pageY - h.top)
            }
    };
    t.up = function(b) {


        b.preventDefault && kb(b) && b.preventDefault();
        var d = this.b.Ga ? u : jQuery(this.b.canvas).offset();
        Ya();
        this.b.rd = !0;
        var e, f, g, h;
        e = 0;
        for (f = b.changedTouches.length; e < f; e++)
            if (g = b.changedTouches[e], h = this.Pg(g.identifier), -1 === h) {
                h = g.pageX - d.left;
                var k = g.pageY -
                    d.top;
                this.Cd = this.touches.length;
                this.xg = g.identifier;
                this.touches.push(a(h, k, g.identifier, this.Cd));
                this.b.trigger(Z.prototype.n.qn, this);
                this.b.trigger(Z.prototype.n.sn, this);
                this.Ld = h;
                this.Md = k;
                this.b.trigger(Z.prototype.n.yk, this)
            }
        this.b.rd = !1
    };
    t.mm = function(a, b) {
        a.preventDefault && kb(a) && a.preventDefault();
        this.b.rd = !0;
        var d, e, f;
        d = 0;
        for (e = a.changedTouches.length; d < e; d++) f = a.changedTouches[d], f = this.Pg(f.identifier), 0 <= f && (this.Cd = this.touches[f].Th, this.xg = this.touches[f].id, this.b.trigger(Z.prototype.n.pn,
            this), this.b.trigger(Z.prototype.n.rn, this), b || this.touches[f].dp(this, f), 100 > x.length && x.push(this.touches[f]), this.touches.splice(f, 1));
        this.b.rd = !1
    };
    t.Bw = function() {
        return this.b.Sf && 0 === this.Ch && 0 !== k ? 90 * k : this.b.vc && 0 === this.Ch && 0 !== z ? 90 * z : this.Ch
    };
    t.Cw = function() {
        return this.b.Sf && 0 === this.Dh && 0 !== e ? -90 * e : this.b.vc && 0 === this.Dh && 0 !== m ? 90 * m : this.Dh
    };
    t.Fw = function() {
        return this.b.Sf && 0 === this.Eh && 0 !== l ? 90 * l : this.b.vc && 0 === this.Eh && 0 !== s ? 90 * s : this.Eh
    };
    t.vu = function(a) {
        a.preventDefault && this.b.rl &&
            !this.b.sd && a.preventDefault();
        this.up({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        });
        this.cm = !0
    };
    t.wu = function(a) {
        this.cm && this.tp({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        })
    };
    t.xu = function(a) {
        a.preventDefault && this.b.rl && !this.b.sd && a.preventDefault();
        this.b.rl = !0;
        this.mm({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        });
        this.cm = !1
    };
    t.gk = function() {
        var a, b, d, e = Ya();
        a = 0;
        for (b = this.touches.length; a < b; ++a) d = this.touches[a], d.time <= e - 50 && (d.Ol = e), d.nu(this,
            a)
    };
    d.prototype.sn = function() {
        return !0
    };
    d.prototype.rn = function() {
        return !0
    };
    d.prototype.yk = function(a) {
        return a ? this.b.ck(a, this.Ld, this.Md) : !1
    };
    d.prototype.qn = function(a) {
        a = Math.floor(a);
        return a === this.Cd
    };
    d.prototype.pn = function(a) {
        a = Math.floor(a);
        return a === this.Cd
    };
    d.prototype.Yq = function() {
        return !0
    };
    d.prototype.kr = function() {
        return !0
    };
    d.prototype.Wq = function() {
        return !0
    };
    d.prototype.Zq = function(a) {
        return a ? this.b.ck(a, this.Ld, this.Md) : !1
    };
    d.prototype.lr = function(a) {
        return a ? this.b.ck(a, this.Ld,
            this.Md) : !1
    };
    d.prototype.Xq = function(a) {
        return a ? this.b.ck(a, this.Ld, this.Md) : !1
    };
    v.n = new d;
    g.prototype.zk = function(a, b) {
        var d = this.Of;
        if (0 > d || d >= this.touches.length) a.H(0);
        else {
            var e, f, g, h, k;
            ga(b) ? (e = this.b.Rg(0), f = e.scale, g = e.ld, h = e.Pc, k = e.k, e.scale = 1, e.ld = 1, e.Pc = 1, e.k = 0, a.H(e.ac(this.touches[d].x, this.touches[d].y, !0)), e.scale = f, e.ld = g, e.Pc = h, e.k = k) : (e = O(b) ? this.b.Rg(b) : this.b.kl(b)) ? a.H(e.ac(this.touches[d].x, this.touches[d].y, !0)) : a.H(0)
        }
    };
    g.prototype.vn = function(a, b) {
        var d = this.Of;
        if (0 > d || d >=
            this.touches.length) a.H(0);
        else {
            var e, f, g, h, k;
            ga(b) ? (e = this.b.Rg(0), f = e.scale, g = e.ld, h = e.Qc, k = e.k, e.scale = 1, e.ld = 1, e.Qc = 1, e.k = 0, a.H(e.ac(this.touches[d].x, this.touches[d].y, !1)), e.scale = f, e.ld = g, e.Qc = h, e.k = k) : (e = O(b) ? this.b.Rg(b) : this.b.kl(b)) ? a.H(e.ac(this.touches[d].x, this.touches[d].y, !1)) : a.H(0)
        }
    };
    v.Va = new g
})();

function pc(f) {
    this.b = f
}
(function() {
    function f() {}

    function q() {}

    function a() {}
    var b = pc.prototype;
    b.Da = function(a) {
        this.Aa = a;
        this.b = a.b
    };
    b.Da.prototype.Y = function() {};
    b.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    var d = b.ua.prototype,
        g = "",
        v = "undefined" !== typeof window.is_scirra_arcade;
    v && (g = "arcade" + window.scirra_arcade_id);
    d.Y = function() {
        "undefined" === typeof localStorage && J("[Construct 2] Webstorage plugin: local storage is not supported on this platform.");
        "undefined" === typeof sessionStorage && J("[Construct 2] Webstorage plugin: session storage is not supported on this platform.")
    };
    f.prototype.Oq = function(a) {
        return "undefined" === typeof localStorage ? !1 : null != localStorage.getItem(g + a)
    };
    f.prototype.hr = function() {
        return !0
    };
    f.prototype.zq = function(a, b, d) {
        if ("undefined" === typeof localStorage) return !1;
        a = localStorage.getItem(g + a) || "";
        return $b(parseFloat(a), b, d)
    };
    b.n = new f;
    q.prototype.Hr = function(a, b) {
        if ("undefined" !== typeof localStorage) try {
            localStorage.setItem(g + a, b)
        } catch (d) {
            this.b.trigger(pc.prototype.n.hr, this)
        }
    };
    b.M = new q;
    a.prototype.Pq = function(a, b) {
        "undefined" === typeof localStorage ?
            a.pb("") : a.pb(localStorage.getItem(g + b) || "")
    };
    a.prototype.kn = function(a) {
        if ("undefined" === typeof localStorage) a.pb("");
        else {
            var b = {},
                d, e, f;
            d = 0;
            for (e = localStorage.length; d < e; d++) f = localStorage.key(d), v ? f.substr(0, g.length) === g && (b[f.substr(g.length)] = localStorage.getItem(f)) : b[f] = localStorage.getItem(f);
            a.pb(JSON.stringify({
                c2dictionary: !0,
                data: b
            }))
        }
    };
    b.Va = new a
})();

function rc(f) {
    this.b = f
}
(function() {
    function f() {}
    var q = rc.prototype;
    q.Da = function(a) {
        this.behavior = a;
        this.b = a.b
    };
    q.Da.prototype.Y = function() {};
    q.ua = function(a, d) {
        this.type = a;
        this.behavior = a.behavior;
        this.j = d;
        this.b = a.b
    };
    var a = q.ua.prototype;
    a.Y = function() {
        var a = this.F[0];
        this.je = this.F[1];
        this.se = this.F[2];
        this.Yr = 0 !== this.F[3];
        this.Gm = 0 !== this.F[4];
        this.cb = Math.cos(this.j.k) * a;
        this.Pa = Math.sin(this.j.k) * a;
        this.of = this.j.x;
        this.pf = this.j.y;
        this.$f = this.j.k;
        this.kk = 0;
        this.enabled = 0 !== this.F[5]
    };
    a.Wb = function() {
        return {
            acc: this.je,
            g: this.se,
            dx: this.cb,
            dy: this.Pa,
            lx: this.of,
            ly: this.pf,
            lka: this.$f,
            t: this.kk,
            e: this.enabled
        }
    };
    a.yc = function(a) {
        this.je = a.acc;
        this.se = a.g;
        this.cb = a.dx;
        this.Pa = a.dy;
        this.of = a.lx;
        this.pf = a.ly;
        this.$f = a.lka;
        this.kk = a.t;
        this.enabled = a.e
    };
    a.Ma = function() {
        if (this.enabled) {
            var a = this.b.Qg(this.j),
                d, f;
            this.j.k !== this.$f && (this.Gm && (d = Ua(0, 0, this.cb, this.Pa), this.cb = Math.cos(this.j.k) * d, this.Pa = Math.sin(this.j.k) * d), this.$f = this.j.k);
            0 !== this.je && (d = Ua(0, 0, this.cb, this.Pa), f = 0 === this.cb && 0 === this.Pa ? this.j.k :
                La(0, 0, this.cb, this.Pa), d += this.je * a, 0 > d && (d = 0), this.cb = Math.cos(f) * d, this.Pa = Math.sin(f) * d);
            0 !== this.se && (this.Pa += this.se * a);
            this.of = this.j.x;
            this.pf = this.j.y;
            if (0 !== this.cb || 0 !== this.Pa)
                if (this.j.x += this.cb * a, this.j.y += this.Pa * a, this.kk += Ua(0, 0, this.cb * a, this.Pa * a), this.Gm && (this.j.k = La(0, 0, this.cb, this.Pa), this.j.K(), this.$f = this.j.k), this.j.K(), this.Yr && (d = this.b.yf(this.j))) this.b.Ru(this.j, d), d = Ua(0, 0, this.cb, this.Pa), f = this.b.as(this.j, this.of, this.pf), this.cb = Math.cos(f) * d, this.Pa = Math.sin(f) *
                    d, this.j.x += this.cb * a, this.j.y += this.Pa * a, this.j.K(), this.Gm && (this.$f = this.j.k = f, this.j.K()), this.b.Ou(this.j, this.cb / d, this.Pa / d, Math.max(2.5 * d * a, 30)) || this.b.Pu(this.j)
        }
    };
    q.n = new function() {};
    f.prototype.ur = function(a) {
        var d = La(0, 0, this.cb, this.Pa);
        this.cb = Math.cos(d) * a;
        this.Pa = Math.sin(d) * a
    };
    f.prototype.pr = function(a) {
        a = V(a);
        var d = Ua(0, 0, this.cb, this.Pa);
        this.cb = Math.cos(a) * d;
        this.Pa = Math.sin(a) * d
    };
    f.prototype.sr = function(a) {
        this.enabled = 1 === a
    };
    q.M = new f;
    q.Va = new function() {}
})();

function sc(f) {
    this.b = f
}
(function() {
    function f() {}
    var q = sc.prototype;
    q.Da = function(a) {
        this.behavior = a;
        this.b = a.b
    };
    q.Da.prototype.Y = function() {};
    q.ua = function(a, b) {
        this.type = a;
        this.behavior = a.behavior;
        this.j = b;
        this.b = a.b;
        this.eb = 0
    };
    var a = q.ua.prototype,
        b = 2 * Math.PI,
        d = Math.PI / 2,
        g = 3 * Math.PI / 2;
    a.Y = function() {
        this.Ea = 1 === this.F[0];
        this.yh = this.F[1];
        this.gn = this.F[2];
        this.Xd = this.F[3];
        this.Xd += Math.random() * this.F[4];
        0 === this.Xd ? this.eb = 0 : (this.eb = this.F[5] / this.Xd * b, this.eb += Math.random() * this.F[6] / this.Xd * b);
        this.Sb = this.F[7];
        this.Sb += Math.random() * this.F[8];
        this.Mh = this.ff = this.aa = 0;
        this.init()
    };
    a.Wb = function() {
        return {
            i: this.eb,
            a: this.Ea,
            mv: this.yh,
            w: this.gn,
            p: this.Xd,
            mag: this.Sb,
            iv: this.aa,
            iv2: this.ff,
            r: this.Mh,
            lkv: this.ic,
            lkv2: this.fh
        }
    };
    a.yc = function(a) {
        this.eb = a.i;
        this.Ea = a.a;
        this.yh = a.mv;
        this.gn = a.w;
        this.Xd = a.p;
        this.Sb = a.mag;
        this.aa = a.iv;
        this.ff = a.iv2 || 0;
        this.Mh = a.r;
        this.ic = a.lkv;
        this.fh = a.lkv2 || 0
    };
    a.init = function() {
        switch (this.yh) {
            case 0:
                this.aa = this.j.x;
                break;
            case 1:
                this.aa = this.j.y;
                break;
            case 2:
                this.aa = this.j.width;
                this.Mh = this.j.height / this.j.width;
                break;
            case 3:
                this.aa = this.j.width;
                break;
            case 4:
                this.aa = this.j.height;
                break;
            case 5:
                this.aa = this.j.k;
                this.Sb = V(this.Sb);
                break;
            case 6:
                this.aa = this.j.opacity;
                break;
            case 7:
                this.aa = 0;
                break;
            case 8:
                this.aa = this.j.x, this.ff = this.j.y
        }
        this.ic = this.aa;
        this.fh = this.ff
    };
    a.fe = function(a) {
        a %= b;
        switch (this.gn) {
            case 0:
                return Math.sin(a);
            case 1:
                return a <= d ? a / d : a <= g ? 1 - 2 * (a - d) / Math.PI : (a - g) / d - 1;
            case 2:
                return 2 * a / b - 1;
            case 3:
                return -2 * a / b + 1;
            case 4:
                return a < Math.PI ? -1 : 1
        }
        return 0
    };
    a.Ma = function() {
        var a =
            this.b.Qg(this.j);
        if (this.Ea && 0 !== a) {
            0 === this.Xd ? this.eb = 0 : (this.eb += a / this.Xd * b, this.eb %= b);
            switch (this.yh) {
                case 0:
                    this.j.x !== this.ic && (this.aa += this.j.x - this.ic);
                    this.j.x = this.aa + this.fe(this.eb) * this.Sb;
                    this.ic = this.j.x;
                    break;
                case 1:
                    this.j.y !== this.ic && (this.aa += this.j.y - this.ic);
                    this.j.y = this.aa + this.fe(this.eb) * this.Sb;
                    this.ic = this.j.y;
                    break;
                case 2:
                    this.j.width = this.aa + this.fe(this.eb) * this.Sb;
                    this.j.height = this.j.width * this.Mh;
                    break;
                case 3:
                    this.j.width = this.aa + this.fe(this.eb) * this.Sb;
                    break;
                case 4:
                    this.j.height = this.aa + this.fe(this.eb) * this.Sb;
                    break;
                case 5:
                    this.j.k !== this.ic && (this.aa = Ia(this.aa + (this.j.k - this.ic)));
                    this.j.k = Ia(this.aa + this.fe(this.eb) * this.Sb);
                    this.ic = this.j.k;
                    break;
                case 6:
                    this.j.opacity = this.aa + this.fe(this.eb) * this.Sb / 100;
                    0 > this.j.opacity ? this.j.opacity = 0 : 1 < this.j.opacity && (this.j.opacity = 1);
                    break;
                case 8:
                    this.j.x !== this.ic && (this.aa += this.j.x - this.ic), this.j.y !== this.fh && (this.ff += this.j.y - this.fh), this.j.x = this.aa + Math.cos(this.j.k) * this.fe(this.eb) * this.Sb, this.j.y =
                        this.ff + Math.sin(this.j.k) * this.fe(this.eb) * this.Sb, this.ic = this.j.x, this.fh = this.j.y
            }
            this.j.K()
        }
    };
    a.sp = function(a, b) {
        switch (this.yh) {
            case 2:
                this.aa *= b.width / a.width;
                this.Mh = b.height / b.width;
                break;
            case 3:
                this.aa *= b.width / a.width;
                break;
            case 4:
                this.aa *= b.height / a.height
        }
    };
    q.n = new function() {};
    f.prototype.or = function(a) {
        this.Ea = 1 === a
    };
    q.M = new f;
    q.Va = new function() {}
})();

function tc(f) {
    this.b = f
}
(function() {
    var f = tc.prototype;
    f.Da = function(f) {
        this.behavior = f;
        this.b = f.b
    };
    f.Da.prototype.Y = function() {};
    f.ua = function(f, a) {
        this.type = f;
        this.behavior = f.behavior;
        this.j = a;
        this.b = f.b;
        this.mode = 0
    };
    f = f.ua.prototype;
    f.Y = function() {
        this.mode = this.F[0]
    };
    f.Ma = function() {};
    f.gk = function() {
        this.j.ya();
        var f = this.j.za,
            a = this.j.m.Za,
            b = !1;
        0 === this.mode ? (0 > this.j.x && (this.j.x = 0, b = !0), 0 > this.j.y && (this.j.y = 0, b = !0), this.j.x > a.width && (this.j.x = a.width, b = !0), this.j.y > a.height && (this.j.y = a.height, b = !0)) : (0 > f.left &&
            (this.j.x -= f.left, b = !0), 0 > f.top && (this.j.y -= f.top, b = !0), f.right > a.width && (this.j.x -= f.right - a.width, b = !0), f.bottom > a.height && (this.j.y -= f.bottom - a.height, b = !0));
        b && this.j.K()
    }
})();

function uc(f) {
    this.b = f
}
(function() {
    var f = uc.prototype;
    f.Da = function(f) {
        this.behavior = f;
        this.b = f.b
    };
    f.Da.prototype.Y = function() {};
    f.ua = function(f, a) {
        this.type = f;
        this.behavior = f.behavior;
        this.j = a;
        this.b = f.b
    };
    f = f.ua.prototype;
    f.Y = function() {
        this.mode = this.F[0]
    };
    f.Ma = function() {
        var f = this.j;
        f.ya();
        var a = f.za,
            b = f.m,
            d = b.Za,
            g = 0,
            v = 0,
            t = 0,
            u = 0;
        0 === this.mode ? (v = d.width, u = d.height) : (g = b.Ba, v = b.Ja, t = b.Ca, u = b.Ia);
        a.right < g ? (f.x = v - 1 + (f.x - a.left), f.K()) : a.left > v ? (f.x = g + 1 - (a.right - f.x), f.K()) : a.bottom < t ? (f.y = u - 1 + (f.y - a.top), f.K()) : a.top >
            u && (f.y = t + 1 - (a.bottom - f.y), f.K())
    }
})();

function jc() {
    return [kc, lc, mc, nc, oc, Z, Y, pc, sc, rc, tc, uc, pc.prototype.n.zq, pc.prototype.M.Hr, X.prototype.n.Aq, X.prototype.n.Kr, kc.prototype.M.Play, Y.prototype.M.Eq, Y.prototype.M.un, X.prototype.M.Dq, nc.prototype.M.Ar, pc.prototype.Va.Pq, X.prototype.M.Lr, sc.prototype.M.or, Z.prototype.n.yk, X.prototype.M.mr, X.prototype.M.nr, X.prototype.M.Br, X.prototype.M.Gq, kc.prototype.n.Kq, kc.prototype.M.tr, X.prototype.n.ln, X.prototype.M.Cr, Y.prototype.Va.vn, Y.prototype.M.qr, rc.prototype.M.pr, rc.prototype.M.sr, Y.prototype.M.Gr,
        X.prototype.M.Ir, X.prototype.M.vq, Y.prototype.n.Cq, Y.prototype.M.Dr, Y.prototype.M.rr, nc.prototype.M.un, Y.prototype.n.Bq, rc.prototype.M.ur, X.prototype.Va.random, X.prototype.n.Fq, Y.prototype.M.Qq, Y.prototype.n.Uq, Y.prototype.Va.zk, nc.prototype.M.Fr, nc.prototype.Va.zk, X.prototype.n.mn, kc.prototype.n.Lq, lc.prototype.M.Hq, pc.prototype.n.Oq
    ]
};
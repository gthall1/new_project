function CSpriteLibrary(){var t,i,r,n,o,e;this.init=function(a,s,p){i=0,r=0,n=a,o=s,e=p,t={}},this.addSprite=function(r,n){t.hasOwnProperty(r)||(t[r]={szPath:n,oSprite:new Image},i++)},this.getSprite=function(i){return t.hasOwnProperty(i)?t[i].oSprite:null},this._onSpritesLoaded=function(){o.call(e)},this._onSpriteLoaded=function(){n.call(e),++r===i&&this._onSpritesLoaded()},this.loadSprites=function(){for(var i in t)t[i].oSprite.oSpriteLibrary=this,t[i].oSprite.onload=function(){this.oSpriteLibrary._onSpriteLoaded()},t[i].oSprite.src=t[i].szPath},this.getNumSprites=function(){return i}}
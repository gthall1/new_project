!function(){var t,e,n,o,r,i,u,c,a,l,d,s,f,h,m,p,v,g,y,w,b,k,E,x,A,T,N,H,S,L,C,R,X,M,O,q,D,P,K,B,Y,$,G,j,z,F,U,_={}.hasOwnProperty,I=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};k=!1,s=null,X=document.location.href,T=null,L={},l=null,Y=(null!=(R=document.cookie.match(/request_method=(\w+)/))?R[1].toUpperCase():void 0)||"",U=null,F=function(t){return i&&r?(u(),M(t),g(t)):document.location.href=t},g=function(t){var e;return z("page:fetch"),e=K(t),null!=U&&U.abort(),U=new XMLHttpRequest,U.open("GET",e,!0),U.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),U.setRequestHeader("X-XHR-Referer",X),U.onload=function(){return function(){var t;return z("page:receive"),A(U)||n(t=l(U.responseText))?document.location.reload():(c.apply(null,m(t)),O(U),document.location.hash?document.location.href=document.location.href:G(),z("page:load"))}}(this),U.onloadend=function(){return U=null},U.onabort=function(){return D()},U.onerror=function(){return document.location.href=t},U.send()},v=function(t){var e;return u(),(e=L[t.position])?(null!=U&&U.abort(),c(e.title,e.body),C(e),z("page:restore")):g(document.location.href)},u=function(){return P(),L[s.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},a(10)},a=function(t){var e,n;for(e in L)_.call(L,e)&&(n=L[e],e<=s.position-t&&(L[e]=null))},c=function(e,n,o,r){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=o&&t.update(o),B(),r&&f(),s=window.history.state,z("page:change")},f=function(){var t,e,n,o,r,i,u,c,a,l,d,s;for(s=Array.prototype.slice.call(document.body.getElementsByTagName("script")),n=0,r=s.length;r>n;n++)if(d=s[n],""===(a=d.type)||"text/javascript"===a){for(e=document.createElement("script"),l=d.attributes,o=0,i=l.length;i>o;o++)t=l[o],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(d.innerHTML)),c=d.parentNode,u=d.nextSibling,c.removeChild(d),c.insertBefore(e,u)}},B=function(){var t,e,n,o;for(o=Array.prototype.slice.call(document.body.getElementsByTagName("noscript")),t=0,e=o.length;e>t;t++)n=o[t],n.parentNode.removeChild(n)},M=function(t){return t!==document.location.href?(X=document.location.href,window.history.pushState({turbolinks:!0,position:s.position+1},"",t)):void 0},O=function(t){var e;return(e=t.getResponseHeader("X-XHR-Current-Location"))&&e!==document.location.pathname+document.location.search?window.history.replaceState(s,"",e+document.location.hash):void 0},D=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},q=function(){return s=window.history.state},P=function(){return k?void 0:(D(),q(),l=o(),k=!0)},C=function(t){return window.scrollTo(t.positionX,t.positionY)},G=function(){return window.scrollTo(0,0)},K=function(t){var e;return e=t,null==t.href&&(e=document.createElement("A"),e.href=t),e.href.replace(e.hash,"")},z=function(t){var e;return e=document.createEvent("Events"),e.initEvent(t,!0,!0),document.dispatchEvent(e)},A=function(t){return!t.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},p=function(t){var e,n,o,r,i;for(r=t.head.childNodes,i=[],e=0,n=r.length;n>e;e++)o=r[e],null!=("function"==typeof o.getAttribute?o.getAttribute("data-turbolinks-track"):void 0)&&i.push(o.src||o.href);return i},n=function(t){var e;return T||(T=p(document)),e=p(t),e.length!==T.length||x(e,T).length!==T.length},x=function(t,e){var n,o,r,i,u;for(t.length>e.length&&(r=[e,t],t=r[0],e=r[1]),i=[],n=0,o=t.length;o>n;n++)u=t[n],I.call(e,u)>=0&&i.push(u);return i},m=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,e.body,t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e?"function"==typeof e.getAttribute?e.getAttribute("content"):void 0:void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},o=function(){var t,e,n,o,r,i;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return i=e("<html><body><p>test"),e}catch(u){return o=u,i=t("<html><body><p>test"),t}finally{if(1!==(null!=i?null!=(r=i.body)?r.childNodes.length:void 0:void 0))return n}},E=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",y,!1),document.addEventListener("click",y,!1))},y=function(t){var e;return t.defaultPrevented||(e=h(t),"A"!==e.nodeName||w(t,e))?void 0:(F(e.href),t.preventDefault())},h=function(t){var e;for(e=t.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return e},d=function(t){return location.protocol!==t.protocol||location.host!==t.host},e=function(t){return(t.hash&&K(t))===K(location)||t.href===location.href+"#"},H=function(t){var e;return e=K(t),e.match(/\.[a-z]+(\?.*)?$/g)&&!e.match(/\.html?(\?.*)?$/g)},N=function(t){for(var e;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},j=function(t){return 0!==t.target.length},S=function(t){return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},w=function(t,n){return d(n)||e(n)||H(n)||N(n)||j(n)||S(t)},b=function(){return document.addEventListener("click",E,!0),window.addEventListener("popstate",function(t){var e;return(null!=(e=t.state)?e.turbolinks:void 0)?v(t.state):void 0},!1)},i=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state,r=!navigator.userAgent.match(/CriOS\//),$="GET"===Y||""===Y,i&&r&&$&&b(),this.Turbolinks={visit:F}}.call(this);